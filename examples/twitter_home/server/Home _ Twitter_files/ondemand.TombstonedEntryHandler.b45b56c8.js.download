(window.webpackJsonp=window.webpackJsonp||[]).push([[254],{"6l+S":function(e,t,n){"use strict";n("kYxP");var o=n("ERkP"),a=n.n(o),c=n("qqsb"),i=n.n(c),s=n("zTrU"),r=n("euJ+"),d=n("xM7j"),l=n("rxPX"),b=Object(l.a)().propsFromState((()=>({feedbackActions:(e,t)=>t.module.selectFeedbackActions(e),feedbackKey:(e,t)=>t.feedbackKeys.length&&t.feedbackKeys[0]}))).adjustStateProps((e=>{const t=e.feedbackKey?e.feedbackActions[e.feedbackKey]:void 0,n=t&&t.childKeys?t.childKeys.map((t=>({key:t,action:e.feedbackActions[t]}))):[];return{feedbackAction:t,childFeedbackActions:n}})).propsFromActions((({module:e})=>({applyFeedbackAction:e.applyFeedbackAction,undoFeedbackAction:e.undoFeedbackAction}))).withAnalytics({element:"feedback_dontlike"});const k=i.a.aaf2c6ea,u=i.a.e2f2b658,p=i.a.gf5e9ea6,f=(e,t)=>e&&r.g(e,t),m=e=>{const{itemMetadata:t}=e;return t&&t.clientEventInfo&&t.clientEventInfo.component};class v extends a.a.Component{constructor(...e){super(...e),this._getMemoizedFollowUpOptions=Object(s.a)(((e,t,n,o,a)=>(n||[]).map((({action:n,key:c})=>{var i;return{label:null!=(i=n.prompt)?i:"",onClick:()=>{const i=f(n,o),s=m(o),r=(e=>{const{clientEventInfo:t}=e;return t&&t.action})(n);a.scribe({component:s,element:i,action:r||"click"}),t({entry:o,feedbackKeys:[c,...e]})}}})))),this._getFollowUpOptions=()=>{const{analytics:e,applyFeedbackAction:t,childFeedbackActions:n,entry:o,feedbackKeys:a}=this.props;return this._getMemoizedFollowUpOptions(a,t,n,o,e)},this._handleUndo=()=>{const{analytics:e,entry:t,feedbackAction:n,feedbackKeys:o,onUndoRichAction:a,undoFeedbackAction:c}=this.props;if(!n)return;c({entry:t,feedbackKeys:o}),a&&a();const i=f(n,t)||"feedback_unknown",s=m(t),d=r.h(n,t);e.scribe({component:s,element:i,action:d})},this._getTombstoneMessage=()=>{var e;const{feedbackAction:t}=this.props;return null!=t&&t.confirmation?t.confirmation:null!=t&&null!=(e=t.richBehavior)&&e.markNotInterestedTopic?u:k}}render(){const{behavioralEventContext:e,carousel:t,conversationPosition:n,conversationTreeMetadata:o,feedbackAction:c}=this.props,i=this._getTombstoneMessage(),s=null==c?void 0:c.hasUndoAction;return a.a.createElement(d.a,{actionText:s?p:void 0,additionalActions:this._getFollowUpOptions(),behavioralEventContext:e,carousel:t,conversationPosition:n,conversationTreeMetadata:o,onClick:s?this._handleUndo:void 0},i)}}v.defaultProps={carousel:!1};const h=b(v);t.a=h},WunU:function(e,t,n){"use strict";n.r(t);var o=n("fs1G"),a=n("ezF+"),c=n("ERkP"),i=n.n(c),s=n("6l+S");const r=e=>{const{entry:{content:{dismissedEntry:t,feedbackKeys:n},conversationPosition:o,conversationTreeMetadata:a},feedbackItems:c,module:r}=e,d=i.a.useMemo((()=>{if(!c||0===n.length)return;const e=c.find((e=>e.feedbackKey===n[0]));return null==e?void 0:e.onUndo}),[n,c]),l=i.a.useMemo((()=>{var e,n;return{token:null==(e=t.itemMetadata)||null==(n=e.clientEventInfo)?void 0:n.entityToken}}),[t]);return i.a.createElement(s.a,{behavioralEventContext:l,conversationPosition:o,conversationTreeMetadata:a,entry:t,feedbackKeys:n,module:r,onUndoRichAction:d})};var d=i.a.memo(r);const l=a.b({component:d,feedbackEntrySelector:e=>e.content.dismissedEntry,shouldDisplayBorder:e=>{const{conversationPosition:t}=e;return!t||!!t.isEnd},getBehavioralEventContextOverride:o.a}).getHandler();t.default=l}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.TombstonedEntryHandler.b45b56c8.js.map