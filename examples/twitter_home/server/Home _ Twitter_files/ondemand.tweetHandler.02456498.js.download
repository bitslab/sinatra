(window.webpackJsonp=window.webpackJsonp||[]).push([[377],{"+Sp1":function(e,t,n){"use strict";var o=n("ERkP");const i=n.n(o).a.createContext({draggingTweetId:void 0});t.a=i},"0ULw":function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),r=n("k/Ka"),s=n("Lsrn");const a=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[s.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z"})));a.metadata={width:24,height:24},t.a=a},"3zeG":function(e,t,n){"use strict";n("kYxP"),n("ERkP");var o=n("zb92");const i=Object(o.a)({loader:()=>Promise.all([n.e(0),n.e(195)]).then(n.bind(null,"MzK7"))});t.a=i},"64vW":function(e,t,n){"use strict";var o=n("ERkP");const i=n.n(o).a.createContext({heightsReady:!0});t.a=i},"6bZg":function(e,t,n){"use strict";var o=n("OIC0");t.a={[o.a.CASHTAG]:void 0,[o.a.EMOJI]:void 0,[o.a.HASHTAG]:"hashtag_click",[o.a.INTERACTIVE_HIGHLIGHT]:"highlight_click",[o.a.MEDIA]:void 0,[o.a.MENTION]:"mention_click",[o.a.TEXT]:void 0,[o.a.URL]:"open_link"}},"6vad":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("ERkP"),i=n.n(o),r=n("MWbm"),s=n("7Mjr"),a=n("t62R"),c=n("I4+6"),l=n("cm6r"),d=n("rHpw"),h=n("EHV7");const u=d.a.create((e=>({icon:{color:e.colors.primary,height:e.fontSizes.title4,paddingRight:e.spaces.space12,width:e.fontSizes.title4}}))),p=Object.freeze({TopicFilled:"TOPIC_FILLED"});const m=d.a.create((e=>({root:{justifyContent:"space-between",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},mainContent:{flexDirection:"row"},subtext:{alignSelf:"flex-start"},withSubtext:{alignSelf:"center"},icon:{alignSelf:"flex-start",height:e.spaces.space20,justifyContent:"center"},iconArrow:{color:e.colors.text},rightControlGroup:{flexDirection:"row",justifyContent:"flex-end",flexGrow:1,alignSelf:"center"}})));t.b=function({icon:e,landingUrl:t,nativeID:n,rightControl:o,style:_,subtext:w,testID:b,text:C}){const g=(e=>{switch(e){case p.TopicFilled:return i.a.createElement(h.a,{style:u.icon});default:return null}})(e),v=w?null:m.withSubtext,f=c.a.generate({backgroundColor:d.a.theme.colors.gray0,color:d.a.theme.colors.cellBackground,customFocusBackgroundColor:d.a.theme.colors.gray0,customHoverBackgroundColor:d.a.theme.colors.gray0,customPressedBackgroundColor:d.a.theme.colors.gray0});return i.a.createElement(l.a,{interactiveStyles:t?f:null,link:null==t?void 0:t.url,nativeID:n,style:[m.root,_],testID:b},i.a.createElement(r.a,{accessibilityLevel:2,accessibilityRole:"heading",style:m.mainContent},i.a.createElement(r.a,{style:m.icon},g),i.a.createElement(a.b,{numberOfLines:3,size:"headline1",style:v,weight:"heavy",withHashflags:!0},C),i.a.createElement(r.a,{style:m.rightControlGroup},t?i.a.createElement(r.a,{style:v},i.a.createElement(s.a,{style:m.iconArrow})):null,o?i.a.createElement(r.a,null,o):null)),w?i.a.createElement(a.b,{color:"gray700",numberOfLines:2,size:"subtext2",style:m.subtext,withHashflags:!0},w):null)}},"9Jxp":function(e,t,n){"use strict";var o=n("97Jx"),i=n.n(o),r=n("ERkP"),s=n.n(r),a=n("MWbm"),c=n("rHpw"),l=n("CXUS");const d=c.a.create((()=>({hidden:{opacity:0}})));t.a=e=>{const{children:t,disableInteractiveElementBlocking:n,draggableId:o,fromVirtualList:r,index:c,isBeingDragged:h,isDragDisabled:u,lockYAxis:p}=e;return r&&h?s.a.createElement(a.a,{style:d.hidden},t):s.a.createElement(l.b,{disableInteractiveElementBlocking:n,draggableId:o,index:c,isDragDisabled:u},(e=>{const n=e.draggableProps.style,o=p?(e=>{if(e.transform){const t=`translate(0px${e.transform.slice(e.transform.indexOf(","),e.transform.length)}`;return{...e,transform:t}}return e})(n):n;return s.a.createElement("div",i()({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:o}),t)}))}},A6fF:function(e,t,n){"use strict";n.r(t);var o=n("VPAj"),i=n("ezF+"),r=n("ERkP"),s=n.n(r),a=n("E0cF"),c=n("cm6r"),l=n("9Jxp"),d=n("CUXw"),h=n("TXsO"),u=n("UcEn"),p=n("+Sp1"),m=n("rxPX"),_=n("Fg8X"),w=n("XOJV");const b=(e,t)=>_.a.select(e,t.momentId),C=(e,t)=>w.a.selectHydrated(e,t.entry.content.id);var g=Object(m.a)().propsFromState((()=>({moment:b,tweet:C})))((({entry:{content:{id:e},index:t},moment:n,onClick:o,tweet:i})=>{var r,m;const _=s.a.useContext(p.a),w=s.a.useContext(u.a),b=s.a.useRef(),C=i&&a.a.getOriginalTweet(i),g=(null==C?void 0:C.id_str)||e;let v;null!=i&&null!=(r=i.user)&&r.protected?v=h.l:i&&a.a.isQuotedTweetUnavailable(i)&&(v=h.k);const f=((null==n||null==(m=n.pages)?void 0:m.length)||0)>=h.e,y=_.draggingTweetId===g,k=!!v||f,I=w.selectedTweets.has(g),T=null!==_.draggingTweetId&&I;return null!=t?s.a.createElement(c.a,{onClick:k?void 0:()=>{var e;null==(e=b.current)||e._handleOnClick()}},s.a.createElement(l.a,{draggableId:g,fromVirtualList:!0,index:t,isBeingDragged:y,isDragDisabled:k},s.a.createElement(d.a,{disabledMessage:v,isPartOfDraggedSelection:T,isSelected:I,onClick:o,ref:e=>{b.current=e},tweetId:e}))):null}));t.default=e=>i.b({component:g,isClickable:Object(o.a)(!0),isFocusable:Object(o.a)(!0),shouldDisplayBorder:Object(o.a)(!0)}).getHandler((()=>({...e})))},CUXw:function(e,t,n){"use strict";var o=n("97Jx"),i=n.n(o),r=(n("kYxP"),n("ERkP")),s=n.n(r),a=n("MWbm"),c=n("htQn"),l=n("Znyr"),d=n("kY28"),h=n("rHpw"),u=n("qqsb"),p=n.n(u),m=n("0ULw"),_=n("WtWS"),w=n("fs1G"),b=n("BLtI"),C=n("v6aA"),g=n("x5Pi"),v=n("kXdP"),f=n("E0cF"),y=n("0KEI"),k=n("rxPX"),I=n("XOJV");const T=(e,t)=>t.tweetId;var E=Object(k.a)().propsFromState((()=>({tweet:I.a.createHydratedTweetSelector(T)}))).adjustStateProps((({tweet:e})=>({originalTweet:e&&f.a.getOriginalTweet(e)||e,tweet:e}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(y.createLocalApiErrorHandlerWithContextFactory)("TWEET_SELECT_CONTEXT")})));const A=p.a.h6beb5fb,x=e=>e&&e.preventDefault();class S extends s.a.PureComponent{constructor(...e){super(...e),this._renderDisabledTweet=e=>s.a.createElement(a.a,{style:P.root},this._renderContent(),s.a.createElement(a.a,{style:P.disabledTweetMask}),s.a.createElement(a.a,{style:[P.disabledIconWrapper,P.iconMargins]},s.a.createElement(v.a,{hoverText:e},s.a.createElement(m.a,{style:P.icon}),s.a.createElement(a.a,{style:P.disabledTweetMask})))),this._renderContent=()=>{const{replyContext:e,tweet:t,withActions:n}=this.props;if(t){var o;const i=Object(g.f)(t,this.context.loggedInUserId);return s.a.createElement(a.a,{style:P.tweet},s.a.createElement(b.b,{excludeCardUrl:null==(o=t.card)?void 0:o.url,linkableQuotedTweet:!0,onAnalyticsClick:w.a,onAvatarClick:w.a,onEntityClick:w.a,onMediaClick:x,onReplyContextClick:w.a,preventVideoPlayback:!0,replyContext:e,socialContext:i,tweet:t,withActions:n,withActionsDisabled:!0,withSocialContext:!0}))}return null},this._renderSelectIcon=e=>e?s.a.createElement(_.a,{style:[P.icon,P.iconMargins,P.iconCheckmark]}):s.a.createElement(m.a,{style:[P.icon,P.iconMargins]}),this._handleOnClick=()=>{const{onClick:e,originalTweet:t,tweetId:n}=this.props;if(e){e((null==t?void 0:t.id_str)||n)}}}render(){const{disabledMessage:e,isPartOfDraggedSelection:t,isSelected:n,showDragCount:o,tweet:i,withSelectIcon:r}=this.props;return e?this._renderDisabledTweet(e):i?s.a.createElement(c.a,{onPress:this._handleOnClick,style:P.root},this._renderDragCount(o),this._renderContent(),r?this._renderSelectIcon(n):null,t&&s.a.createElement(a.a,{style:P.disabledTweetMask})):null}_renderDragCount(e){return e<2?null:s.a.createElement(a.a,{style:P.countBadgeContainer},s.a.createElement(l.a,{count:e,standalone:!0,style:P.countBadge,truncatedCountFormatter:A,unreadCountLabel:()=>"",withBorder:!1}))}}S.contextType=C.a,S.defaultProps={replyContext:d.a.ReplyContextTypes.Isolated,withActions:!0,withSelectIcon:!0,showDragCount:0,isPartOfDraggedSelection:!1,isSelected:!1};const P=h.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,flexDirection:"row"},tweet:{flex:1},disabledTweetMask:{...h.a.absoluteFillObject,backgroundColor:e.colors.navigationBackground,opacity:"50%"},disabledIconWrapper:{height:"100%"},icon:{color:e.colors.gray700},iconMargins:{marginTop:e.spaces.space12,marginRight:e.spaces.space12},iconCheckmark:{color:e.colors.green500},countBadge:{height:e.spaces.space32,width:e.spaces.space32},countBadgeContainer:{height:e.spaces.space32,width:e.spaces.space32,position:"absolute",right:`-${e.spaces.space16}`,top:`-${e.spaces.space16}`}}))),O=s.a.forwardRef(((e,t)=>s.a.createElement(S,i()({},e,{ref:t})))),F=E.forwardRef(O);t.a=F},"Fcw+":function(e,t,n){"use strict";n.r(t);var o=n("VPAj"),i=n("ezF+"),r=n("ERkP"),s=n.n(r),a=n("855f"),c=n("kY28"),l=n("qqsb"),d=n.n(l),h=n("CUXw");const u=({entry:{content:{id:e},index:t},maxSelection:n,onClick:o,selectedTweetIds:i,withSelectIcon:r})=>{let l="";const u=d.a.d876b2bd;return void 0!==n&&i&&i.length>=n&&(i.includes(e)||(l=u({count:a.a.getFormattedCount(n)}))),s.a.createElement(h.a,{disabledMessage:l,index:t,isSelected:null==i?void 0:i.includes(e),onClick:o,replyContext:c.a.ReplyContextTypes.None,tweetId:e,withActions:!1,withSelectIcon:r})};var p=s.a.memo(u);t.default=e=>i.b({component:p,isClickable:Object(o.a)(!0),isFocusable:Object(o.a)(!0),shouldDisplayBorder:Object(o.a)(!0)}).getHandler((()=>({...e})))},GUcm:function(e,t,n){"use strict";n.r(t);var o=n("VPAj"),i=n("ezF+"),r=n("ERkP"),s=n.n(r),a=n("nBUg"),c=n("rHpw"),l=n("b5s6");const d={isCarouselItem:()=>!0},h=({entry:e})=>{const{forwardPivot:t,id:n,nudges:o}=e.content;return s.a.createElement(a.b.Provider,{value:d},s.a.createElement(l.a,{forwardPivotInfo:t,isCondensed:!0,nudges:o,style:u.carouselQuoteTweet,tweetId:n}))},u=c.a.create((e=>({carouselQuoteTweet:{marginHorizontal:e.componentDimensions.gutterHorizontal,marginTop:0,marginBottom:0,marginRight:0,marginLeft:e.spaces.space12,height:"172px"}})));var p=s.a.memo(h),m=n("M6G0");t.default=e=>i.b({component:p,divider:e.divider||{},defaultScribeNamespace:m.a,getBehavioralEventContextOverride:m.c,getScribeDataItem:m.d,isFocusable:Object(o.a)(!0),shouldDisplayBorder:Object(m.f)(!0)}).getHandler((()=>({...e})))},KQRq:function(e,t,n){"use strict";n.r(t);var o=n("VPAj"),i=n("ezF+"),r=n("97Jx"),s=n.n(r),a=n("ERkP"),c=n.n(a),l=n("x5Pi"),d=n("Irs7"),h=n("P1oR"),u=n("M6G0"),p=n("Qtnm"),m=n("rxPX"),_=n("Zejx");const w=(e,{module:t})=>{var n;const o=t.selectMetadata(e);return(null==o||null==(n=o.reader_mode_config)?void 0:n.is_reader_mode_available)||!1},b=(e,{entry:t})=>{var n;return null!=(n=t.content.socialContext)&&n.topicContext?_.a.select(e,t.content.socialContext.topicContext.topicId):void 0};var C=Object(m.a)().propsFromState((()=>({readerModeAvailable:w,topic:b}))).propsFromActions((({module:e})=>({applyFeedbackAction:e.applyFeedbackAction})))((({allowDownvote:e,applyFeedbackAction:t,createAdditionalProps:n=Object(o.a)({}),dismissable:i=!1,entry:r,feedbackItems:a,readerModeAvailable:m,topic:_})=>{const w=Object(d.b)(),{content:{conversation_annotation:b,forwardPivot:C,hasModeratedReplies:g,id:v,innerForwardPivot:f,innerNudges:y,innerTombstoneInfo:k,nudges:I,replyBadge:T,socialContext:E,topicFollowPrompt:A},conversationPosition:x,referringContext:{contextTweetId:S,contextualClientEventInfo:P,hideMedia:O,promotedContent:F,socialContext:D,topicFollowPrompt:U}={}}=r,{onTweetDismiss:M}=Object(p.a)(w,t,r,a,i),R=c.a.useMemo((()=>Object(u.e)(w.contextualScribeNamespace,P,x)),[w.contextualScribeNamespace,P,x]),L=c.a.useMemo((()=>Object(l.d)({socialContext:E,topic:_})),[E,_]),B=n(r,{readerModeAvailable:m,topic:_},{applyFeedbackAction:t});return c.a.createElement(h.a,s()({allowDownvote:e,contextTweetId:S,conversationAnnotation:b,forwardPivotInfo:C,hasModeratedReplies:g,innerForwardPivotInfo:f,innerNudges:y,nudges:I,onTweetDismiss:M,promotedContent:F,quotedTweetTombstoneInfo:k,readerModeAvailable:m,replyBadge:T,scribeData:w.contextualScribeData,scribeNamespace:R,socialContext:L||D,topicFollowPrompt:A||U,tweetId:v,withActions:!0,withInlineMedia:!O,withSocialContext:!0},B))}));t.default=e=>i.b({component:C,divider:e.divider||{},defaultScribeNamespace:u.a,getBehavioralEventContextOverride:u.c,getScribeDataItem:u.d,isFocusable:Object(o.a)(!0),shouldDisplayBorder:Object(u.f)(!1)}).getHandler((()=>({...e})))},M6G0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d}));var o=n("Rp9C");const i={component:"tweet"},r={component:"thread"},s={serversideContextType:"tweet"},a=e=>{var t,n,o;const i=null!=(t=e.content.retweetedStatusId)?t:e.content.id,r={...s,serversideContextId:i};return{viewType:e.type,token:null==(n=e.itemMetadata)||null==(o=n.clientEventInfo)?void 0:o.entityToken,clientEntity:r}},c=(e=!1)=>t=>{const{conversationPosition:n,conversationTreeMetadata:o}=t;return!(e||n&&!n.isEnd&&(!o||!1!==o.descendantConnector||0!==o.indents.filter((e=>"line"===e.displayType)).length))},l=e=>o.a.getTweetURTEntryItem(e),d=(e,t,n)=>({...e,section:"descendant"===(null==n?void 0:n.position)?"conversation_descendants":"ancestor"===(null==n?void 0:n.position)?"conversation_ancestors":e.section,component:(null==t?void 0:t.component)||e.component,action:(null==t?void 0:t.action)||e.action,element:(null==t?void 0:t.element)||e.element})},P1oR:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ne}));var o=n("97Jx"),i=n.n(o),r=(n("kYxP"),n("Cm4o"),n("KrtT"),n("ERkP")),s=n.n(r),a=n("MWbm"),c=n("E0cF"),l=n("OIC0"),d=n("+pKb"),h=n("/Ikv"),u=n("qqsb"),p=n.n(u),m=n("zTrU"),_=n("mN6z"),w=n("ONCy"),b=n("aITJ"),C=n("hACr"),g=n("BLtI"),v=n("Cqiq"),f=n("iFPY"),y=n("xM7j"),k=n("3zeG"),I=n("24HD"),T=n("sCEu"),E=n("cFuS"),A=n("7JQg"),x=n("fz3c"),S=n("6bZg"),P=n("Rp9C"),O=n("4hQ9"),F=n("TnY3"),D=n("xZGM"),U=n("v6aA"),M=n("vMOa"),R=n("mqpi"),L=n("zb92"),B=n("RuTB");var N=Object(L.a)({loader:()=>Promise.all([n.e(0),n.e(12),n.e(9),n.e(81)]).then(n.bind(null,"x8Sc")),renderPlaceholder:(e,t)=>s.a.createElement(B.a,{hasError:e,onRetry:t})});var j=Object(L.a)({loader:()=>Promise.all([n.e(0),n.e(3),n.e(4),n.e(5),n.e(88)]).then(n.bind(null,"RrO2")),renderPlaceholder:(e,t)=>s.a.createElement(B.a,{hasError:e,onRetry:t})}),H=n("TZwD"),V=n("jQy5"),q=n("Z6aJ"),z=n("0KEI"),W=n("Ig1G"),K=n("SrIh"),G=n("x5Pi"),J=n("rxPX"),X=n("EGrD"),Q=n("Fmkq"),Z=n("jL08"),Y=n("eSoz"),$=n("j7tW"),ee=n("6rlp"),te=n("0pUJ"),ne=n("RqPI"),oe=n("P1r1"),ie=n("1YZw"),re=n("Zejx"),se=n("XOJV"),ae=n("G6rE");const ce=(e,t)=>Object($.b)(e,t.tweetId),le=(e,t)=>t.tweetId,de=(e,t)=>t.contextTweetId,he=(e,t)=>{const{promotedContent:n,tweetId:o}=t;if(n&&n.advertiser)return ae.e.select(e,n.advertiser.id_str);if(n&&q.a.isPromoted(n)){const{advertiser_name:e}=n;Object(K.a)("No advertiser info for non-URT promoted tweet",{extra:{advertiser_name:e,tweetId:o}})}},ue=(e,t)=>t.socialContext,pe=(e,{socialContext:t})=>{const n=t&&t.topicContext;return n?re.a.select(e,n.topicId):void 0},me=(e,t)=>{const n=se.a.createHydratedTweetSelector(le)(e,t);return null!=n&&n.community_id_str?Y.c.select(e,null==n?void 0:n.community_id_str):void 0},_e=(e,t)=>{const n=se.a.createHydratedTweetSelector(le)(e,t),o=null==n?void 0:n.quoted_status,i=null==o?void 0:o.community_id_str;return i?Y.c.select(e,i):void 0},we=(e,t)=>"PUSH"===t.history.action,be=(e,t)=>Object(D.I)(e,D.l),Ce=(e,t)=>Object(D.G)(e,D.l);var ge=Object(J.a)().propsFromState((()=>({adFreeArticleDomains:X.c,articleDomains:Z.b,community:me,contextTweet:se.a.createHydratedTweetSelector(de),daysSinceDownvoteEducation:Ce,displaySensitiveMedia:oe.k,explicitSocialContext:ue,isForwardNavigation:we,isNsfwUser:oe.t,isPinned:ce,loggedInUser:ae.e.selectLoggedInUser,promotedContentAdvertiser:he,quoteTweetCommunity:_e,shouldShowDownvoteFullscreenEducation:be,topic:pe,tweet:se.a.createHydratedTweetSelector(le),userCountry:ne.A,userLanguage:ne.q}))).adjustStateProps((({adFreeArticleDomains:e,articleDomains:t,community:n,contextTweet:o,daysSinceDownvoteEducation:i,displaySensitiveMedia:r,explicitSocialContext:s,isForwardNavigation:a,isNsfwUser:c,isPinned:l,loggedInUser:d,promotedContentAdvertiser:h,quoteTweetCommunity:u,shouldShowDownvoteFullscreenEducation:p,topic:m,tweet:_,userCountry:w,userLanguage:b})=>{var C,g,v;const f=o?Object(G.f)(o,null==d?void 0:d.id_str,n):_?Object(G.f)(_,null==d?void 0:d.id_str,n):void 0,y=null==_||null==(C=_.card)||null==(g=C.binding_values)||null==(v=g.domain)?void 0:v.string_value,k=Object(Z.a)(t,y),I=null==_?void 0:_.quoted_status,T=I?Object(G.f)(I,null==d?void 0:d.id_str,u):void 0,E=T&&Object(G.e)(T),A=Object(W.g)(null==n?void 0:n.role),x=s||f;return{adFreeArticleDomains:e,community:n,contextTweet:o,daysSinceDownvoteEducation:i,displaySensitiveMedia:r,isCardArticle:k,isForwardNavigation:a,isNsfwUser:c,isPinned:l,loggedInUser:d,promotedContentAdvertiser:h,quoteTweetSocialContextProps:E,shouldShowDownvoteFullscreenEducation:p,socialContext:x,socialContextColor:Object(W.j)(n,x),topic:m,tweet:_,userCountry:w,userLanguage:b,withCommunityModerationAuthority:A}})).propsFromActions((()=>({addFlag:D.E,addToast:ie.b,block:ae.e.block,createLocalApiErrorHandler:Object(z.createLocalApiErrorHandlerWithContextFactory)("TWEET_DETAIL_CONTAINER"),fetchAdFreeToken:X.a,fetchCommunityIfNeeded:Y.c.fetchOneIfNeeded,fetchTopicIfNeeded:re.a.fetchOneIfNeeded,loadAdFreeArticleDomainsFromPersistence:X.b,log:ee.a,mute:te.a,updateHeadsUp:se.a.updateHeadsUp,updateLongformNotesLearnMoreBanner:se.a.updateLongformNotesLearnMoreBanner,richScribeAction:Q.richScribeAction,setArticlesVisited:Z.e,unblock:ae.e.unblock,undoTopicNotInterested:re.a.undoNotInterested,unmute:ae.e.unmute})));var ve=Object(L.a)({loader:()=>n.e(214).then(n.bind(null,"5Yok"))}),fe=n("4zmP"),ye=n("rHpw"),ke=n("IqLm"),Ie=n("Irs7");const Te=p.a.c9370e46,Ee=p.a.b4e042ba,Ae=p.a.i859a9d4,xe=ye.a.create((e=>({root:{borderTopWidth:e.borderWidths.small,borderColor:e.colors.borderColor,borderStyle:"solid"},callout:{margin:e.spaces.space8,width:"auto"}})));var Se=e=>{const{onAction:t,onClose:n}=e,o=Object(Ie.b)();s.a.useEffect((()=>{o.scribe({section:"reply_voting_nux",element:"pre_downvote",action:"impression"})}),[o]);const i=s.a.createElement(p.a.I18NFormatMessage,{$i18n:"id9ba4fb"},s.a.createElement(ke.a,{accessibilityLabel:Ee}));return s.a.createElement(a.a,{style:xe.root},s.a.createElement(fe.a,{action:{label:Ae,link:""},headline:Te,onAction:t,onClose:n,style:xe.callout,text:i,withCloseButton:!0}))},Pe=n("Nh1N"),Oe=n("FGLp");const Fe=p.a.de21174c,De=p.a.haebcf52,Ue=p.a.i859a9d4,Me=ye.a.create((e=>({callout:{marginVertical:e.spaces.space8,marginHorizontal:e.spaces.space16}})));var Re=()=>{const e=Object(Ie.b)();return Object(Oe.a)((()=>{e.scribe({element:"left_conversation_banner",action:"impression"})})),s.a.createElement(a.a,{style:Me.callout},s.a.createElement(fe.a,{Icon:Pe.a,action:{label:Ue,link:"https://help.twitter.com/using-twitter/mentions-and-replies#mention-control"},headline:Fe,text:De,type:"primary"}))};const Le=p.a.f277e94a;class Be extends s.a.Component{constructor(...e){var t,n;super(...e),this.state={displayReported:!1,enableKeyboardShortcuts:!1,showDownvoteFullscreenFromInline:!1,replyPressToggle:!1,showBlockOrUnblockConfirmation:!1},this._shouldDisable=R.b.bind(null,this.context.featureSwitches),this._downvoteEnabled=this.context.featureSwitches.isTrue("rweb_reply_downvote_enabled"),this._isArticleNudgeEnabled=this.context.featureSwitches.isTrue("responsive_web_article_nudge_enabled"),this._isCommunitiesEnabled=this.context.featureSwitches.isTrue("c9s_enabled"),this._hasClaimsForAdFreeArticles=null==(t=this.context.userClaims)?void 0:t.isTrueAndEnabled("subscriptions_feature_1006"),this._conversationHeadsUpFSValue=null==(n=this.context.featureSwitches)?void 0:n.getStringValue("conversational_safety_heads_up_treatment_A_enabled"),this._downvoteNuxDays=this.context.featureSwitches.getNumberValue("rweb_reply_downvote_nux_inline_days"),this._twitterArticleLearnMoreBannerEnabled=this.context.featureSwitches.isTrue("responsive_web_twitter_article_view_enabled"),this._getScribeData=Object(m.a)(((e,t,n)=>{const o=function(e,t,n){return{...n||{},items:P.a.addTweetToItems(n?n.items:[],e,t)}}(e,t,n);return this._cachedScribeData&&Object(_.a)(o,this._cachedScribeData)||(this._cachedScribeData=o),this._cachedScribeData})),this._renderConversationControlsTooltip=()=>{const{loggedInUserId:e}=this.context,{tweet:t}=this.props;if(!t)return!1;const n=c.a.getOriginalTweet(t),o=!!n.community_id_str,i=n.user.id_str===e,r=n.reply_count>0;return i&&r&&!n.in_reply_to_status_id_str&&!o},this._renderBlockOrUnblockConfirmationSheet=()=>{const{tweet:e}=this.props;if(!e)return null;const{user:t}=e;return Object(I.j)({confirmation:Object(I.h)(t),onClose:this._handleBlockOrUnblockConfirmClose,handleConfirm:this._handleBlockOrUnblockUserConfirm})},this._shouldShowDownvoteInlineEducation=()=>{const{daysSinceDownvoteEducation:e}=this.props;return this._allowDownvoteEducations()&&null!==e&&e>=this._downvoteNuxDays},this._shouldShowDownvoteFullscreenEducation=()=>{const{isForwardNavigation:e,shouldShowDownvoteFullscreenEducation:t}=this.props;return e&&this._allowDownvoteEducations()&&t},this._allowDownvoteEducations=()=>{const{loggedInUser:e,tweet:t}=this.props,n=new Date;n.setDate(n.getDate()-14);const o=e&&new Date(null==e?void 0:e.created_at)<n;return this._downvoteEnabled&&e&&o&&t&&t.reply_count>=10&&!t.self_thread&&!t.softIntervention&&!t.tombstoneInfo},this._getInlineCalloutInfo=()=>{const{displaySensitiveMedia:e,isNsfwUser:t,scribeNamespace:n,tweet:o,userCountry:i,userLanguage:r}=this.props,{featureSwitches:s,loggedInUserId:a}=this.context;if(o&&Object(O.e)({displaySensitiveMedia:e,featureSwitches:s,isNsfwUser:t,loggedInUserId:a,tweet:o,userCountry:i,userLanguage:r}))return Object(O.d)(o,n,s)},this._handleReplyPress=()=>{this.setState({replyPressToggle:!this.state.replyPressToggle})},this._handleModeratedIconClick=()=>this._scribeAction({element:"moderated_replies_icon",action:"click"}),this._handleModeratedIconShown=()=>this._scribeAction({element:"moderated_replies_icon",action:"impression"}),this._handleBirdwatchNotesIconClick=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"click"}),this._handleBirdwatchNotesIconShown=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"impression"}),this._handleFocus=()=>{this.setState({enableKeyboardShortcuts:!0})},this._handleBlur=()=>{this.setState({enableKeyboardShortcuts:!1})},this._handleShowReportedTweet=()=>{this.setState({displayReported:!0})},this._getShortcutKeyHandlers=()=>{const{onClick:e,shortcutKey:t}=this._getMuteOrUnmuteAction(),{shortcutKey:n}=this._getBlockOrUnblockAction(),{loggedInUserId:o}=this.context,{tweet:i}=this.props;if(!i)return{};const r=i.user.id_str===o;return{...t&&{[t]:e},...n&&!r&&{[n]:this._handleBlockOrUnblockConfirmOpen}}},this._handleBlockOrUnblockConfirmOpen=()=>{this.setState({showBlockOrUnblockConfirmation:!0})},this._handleBlockOrUnblockConfirmClose=()=>{this.setState({showBlockOrUnblockConfirmation:!1})},this._handleBlockOrUnblockUserConfirm=()=>{const{onClick:e}=this._getBlockOrUnblockAction();this._handleBlockOrUnblockConfirmClose(),e&&e()},this._getBlockOrUnblockAction=()=>{const{addToast:e,block:t,contextualBehavioralEventInfo:n,createLocalApiErrorHandler:o,promotedContent:i,tweet:r,unblock:s}=this.props;if(!r)return{};const{user:a}=r,c={addToast:e,behavioralEventEntityToken:null==n?void 0:n.entityToken,createLocalApiErrorHandler:o,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(H.a)({...c,block:t,unblock:s,user:a,promotedContent:i})},this._getMuteOrUnmuteAction=()=>{const{addToast:e,contextualBehavioralEventInfo:t,createLocalApiErrorHandler:n,mute:o,promotedContent:i,tweet:r,unmute:s}=this.props;if(!r)return{};const{user:a}=r,c={addToast:e,behavioralEventEntityToken:null==t?void 0:t.entityToken,createLocalApiErrorHandler:n,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(V.a)({...c,mute:o,unmute:s,user:a,promotedContent:i})},this._getRenderCurationActionMenu=Object(m.a)(((e,t,n,o,i,r,a,c,l,d,h,u,p,m,_,w)=>()=>!!l&&s.a.createElement(k.a,{behavioralEventEntityToken:m,forwardPivotDisplayType:e,isNsfwUser:n,isPinned:o,onDeleteTweet:()=>{const{fromApp:e,usedFallback:n}=i.state||{};e&&!n?t.goBack():t.push("/")},onMenuClick:r,onTweetDismiss:a,promotedContent:c,tweet:l,userCountry:_,userLanguage:w,withChangeConversationControls:d,withChangeConversationControlsTooltip:h,withCommunityModerationAuthority:p,withHideReply:u,withMuteConversation:!0,withViewHiddenReplies:!0}))),this._scribeAction=(e,t,n,o)=>{const{promotedContent:i,richScribeAction:r,scribeNamespace:s,tweet:a}=this.props,c=a?P.a.forTweet(a,i):void 0,l=o?{...c,article_details:{is_ad_free:o}}:c;r({...s,...e},{items:l?[l]:[],...Object(w.a)(n?{click_tracking_embed_details:n}:null),...t})},this._handleReplyContextClick=(e,t)=>{this._scribeAction({element:"reply_context",action:"click"},{event_value:t})},this._handlePromotedIndicatorClick=()=>{this._handleAsyncPromotedEvent(E.b.FOOTER_PROFILE)},this._handleMediaClick=()=>{this._scribeAction({element:"platform_photo_card",action:"click"}),this._handleAsyncPromotedEvent(E.b.EMBEDDED_MEDIA)},this._handleEntityClick=(e,t,n)=>{const{adFreeArticleDomains:o,createLocalApiErrorHandler:i,fetchAdFreeToken:r,tweet:s}=this.props,a=E.a[t],c=S.a[t],h=P.a.getClickTrackingEmbedDetails(this.props.promotedContent,n);if(a){const t=a===E.b.URL_CLICK&&e.currentTarget instanceof window.HTMLElement?{url:e.currentTarget.href}:void 0;this._handleAsyncPromotedEvent(a,t)}t===l.a.URL&&h&&this._scribeAction({action:d.b.CLICK_ID_EMBED},void 0,h);let u=!1;if(this._hasClaimsForAdFreeArticles&&null!=n&&n.expandedUrl){const t=new URL(n.expandedUrl).hostname,[a,c]=new T.a(r,i()).getAdFreeArticlesClickHandler({destinationUrl:n.embeddedUrl,linkDomain:t,adFreeArticleDomains:o,tweetAuthorUserId:null==s?void 0:s.user.id_str});a&&(c(e),u=!0)}if(t===l.a.INTERACTIVE_HIGHLIGHT&&void 0!==(null==n?void 0:n.id))return this._scribeAction({element:"interactive_text",action:c},{interactive_text_details:{id:n.id}},void 0,u);c&&this._scribeAction({action:c},void 0,void 0,u)},this._handlePromotedDisclaimerLearnMoreClick=e=>()=>{this._scribeAction({component:e,element:"learn_more",action:"click"})},this._handlePoliticalSponsorWebsiteClick=()=>{this._scribeAction({component:"political_ad",element:"organization_website",action:"click"})},this._handleAnalyticsClick=()=>{this._scribeAction({element:"analytics",action:"click"})},this._handlePromoteButtonClick=()=>{this._scribeAction({element:"promote",action:"click"})},this._handlePromoteAgainButtonClick=()=>{this._scribeAction({element:"promote_again",action:"click"})},this._handleAvatarClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"avatar",action:"profile_click"},{profile_id:`${e?e.user.id:""}`}),this._handleAsyncPromotedEvent(E.b.PROFILE_IMAGE_CLICK)},this._handleScreenNameClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"user",action:"profile_click"},{profile_id:`${e?e.user.id:""}`}),this._handleAsyncPromotedEvent(E.b.SCREEN_NAME_CLICK)},this._handleCaretClick=()=>{this._scribeAction({element:"caret",action:"click"})},this._handleCommunityFetch=()=>{const{createLocalApiErrorHandler:e,fetchCommunityIfNeeded:t,tweet:n}=this.props;if(n&&this._isCommunitiesEnabled){var o;const i=n.community_id_str,r=null==(o=n.quoted_status)?void 0:o.community_id_str;i&&t(i).catch(e()),r&&t(r).catch(e())}},this._handleHeadsUpRender=()=>{const{conversationAnnotation:e,tweet:t,updateHeadsUp:n}=this.props;if(!t)return null;const o=c.a.getOriginalTweet(t),i=(null==o?void 0:o.reply_count)>20;if(!("Political"===(null==e?void 0:e.conversation_annotation_type)&&i))return null;n(o.id_str)},this._handleLongformNotesLearnMoreRender=()=>{const{tweet:e,updateLongformNotesLearnMoreBanner:t}=this.props;if(e){const n=c.a.getOriginalTweet(e),o=c.a.hasLongformNoteUrl(n);this._twitterArticleLearnMoreBannerEnabled&&o&&t(n.id_str)}},this._handleTopicFetch=()=>{var e;const{createLocalApiErrorHandler:t,fetchTopicIfNeeded:n,socialContext:o}=this.props,i=null==o||null==(e=o.topicContext)?void 0:e.topicId;i&&n(i).catch(t())},this._handleUndoTopicNotInterested=()=>{const{createLocalApiErrorHandler:e,topic:t,undoTopicNotInterested:n}=this.props;this._scribeAction({element:"topic",action:"un_not_interested"}),t&&n(t.id).catch(e())},this._handleUserFollowIndicator=()=>{this._scribeAction({component:"super_follower_educaton",element:"indicator",action:"click"})},this._handleUserFollowIndicatorDismiss=()=>{this._scribeAction({component:"super_follower_education",action:"dismiss"})},this._handleUserFollowIndicatorLearnMoreClick=()=>{this._scribeAction({component:"super_follower_education",element:"learn_more",action:"click"})},this._handleCardLinkClick=e=>{var t;const{adFreeArticleDomains:n,createLocalApiErrorHandler:o,fetchAdFreeToken:i,isCardArticle:r,setArticlesVisited:s,tweet:a}=this.props;if(this._isArticleNudgeEnabled&&r){var c;const e=null==a||null==(c=a.card)?void 0:c.url;var l;if(e)s(e),this._scribeAction({component:"article_nudge",element:"read_article",action:"click"},{items:[{token:null==a||null==(l=a.card)?void 0:l.url,in_reply_to_tweet_id:null==a?void 0:a.id_str}]})}const d=null==a||null==(t=a.card)?void 0:t.binding_values;if(this._hasClaimsForAdFreeArticles&&d){const[t,r]=new T.a(i,o()).getAdFreeArticlesClickHandler({destinationUrl:h.a.getBindingValue(d,"card_url"),linkDomain:h.a.getBindingValue(d,"domain"),adFreeArticleDomains:n});t&&r(e)}},this._handleMediaHashtagHighlightClick=()=>{this._handleAsyncPromotedEvent(E.b.HASHTAG_CLICK)}}componentDidMount(){this._handleTopicFetch(),this._handleCommunityFetch(),this._handleHeadsUpRender(),this._handleLongformNotesLearnMoreRender(),this._hasClaimsForAdFreeArticles&&this.props.loadAdFreeArticleDomainsFromPersistence()}componentDidUpdate(e){if(this.props.tweet&&e.tweet&&!e.tweet.user.blocking&&this.props.tweet.user.blocking){const{history:e}=this.props;e.goBack({backLocation:"/"})}this.props.conversationAnnotation!==e.conversationAnnotation&&this._handleHeadsUpRender()}componentWillUnmount(){const{addFlag:e}=this.props;this._shouldShowDownvoteInlineEducation()&&e(D.l,{updateTimestamp:!0})}render(){const{loggedInUserId:e}=this.context,{tweet:t}=this.props;if(!t)return null;const n=t.user.id_str===e,o=Object(v.b)(t.withheld_scope),i=Object(x.h)(t)&&!this.state.displayReported;return s.a.createElement(s.a.Fragment,null,o?s.a.createElement(a.a,null,this._renderWithheldTweet(),n?this._renderTweetComponent():null):i?this._renderReportedTombstone():this._renderTweetComponent(),this._renderIntentPrompt(),this.state.showBlockOrUnblockConfirmation&&!n?this._renderBlockOrUnblockConfirmationSheet():null)}_renderIntentPrompt(){const{forwardPivotInfo:e,history:t,nudges:n,tweet:o}=this.props;if(o&&t.location.pathname.indexOf("/intent/")>-1)return s.a.createElement(f.a,{forwardPivotInfo:e,history:t,location:t.location,nudges:n,tweetId:o.id_str})}_renderTweetComponent(){var e,t;const{allowDownvote:n,changeDropdownState:o,contextTweet:r,contextualBehavioralEventInfo:a,conversationAnnotation:l,forwardPivotInfo:d,hasModeratedReplies:h,history:u,innerForwardPivotInfo:p,innerNudges:m,isNsfwUser:w,isPinned:b,location:v,loggedInUser:f,nudges:y,onTweetDismiss:k,promotedContent:I,promotedContentAdvertiser:T,quoteTweetSocialContextProps:E,quotedTweetTombstoneInfo:x,readerModeAvailable:S,replyBadge:P,replyDropdownSelection:O,rootTweetAuthorId:F,scribeData:D,scribeNamespace:U,socialContext:R,socialContextColor:L,topic:B,topicFollowPrompt:N,tweet:j,userCountry:H,userLanguage:V,withActions:q,withCommunityModerationAuthority:z,withHideReply:W,withInlineMedia:K,withSocialContext:G}=this.props;if(!j)return null;const{loggedInUserId:J}=this.context,{enableKeyboardShortcuts:X}=this.state,Q=j&&j.card&&!j.is_quote_status?j.card.url:void 0,Z=c.a.getOriginalTweet(j),Y={allowDownvote:n,contextTweet:r,enableKeyboardShortcuts:X,excludeCardUrl:Q,forwardPivotInfo:d,hasModeratedReplies:h,innerForwardPivotInfo:p,loggedInUser:f,promotedContent:I,promotedContentAdvertiser:T,quotedTweetTombstoneInfo:x,quoteTweetSocialContextProps:E,readerModeAvailable:S,socialContext:R,socialContextColor:L,topic:B,topicFollowPrompt:N,tweet:j,replyBadge:P,rootTweetAuthorId:F,withActions:q,withInlineMedia:K,withSocialContext:G,nudges:y,innerNudges:m},$=Object(_.a)(this._cachedScribeNamespace,U)?this._cachedScribeNamespace:this._cachedScribeNamespace=U,ee=Z.user.id_str===J,te=!Z.in_reply_to_status_id_str&&ee&&!Z.community_id_str,ne=this._renderConversationControlsTooltip(),oe=!!Z.in_reply_to_status_id_str,ie=(null==Z?void 0:Z.reply_count)>20,re="Political"===(null==l?void 0:l.conversation_annotation_type)&&(null==(e=j.headsUp)?void 0:e.showBanner)&&!oe&&ie,se=null==(t=Z.longformNotesLearnMore)?void 0:t.showBanner,ae=this.context.featureSwitches.isTrue("responsive_web_deamplification_replies_dropdown_selector_enabled")&&j.reply_count>0;return s.a.createElement(A.c,{data:this._getScribeData(j.retweeted_status||j,I,D),namespace:$},s.a.createElement(C.a,{enabled:!!X,handlers:this._getShortcutKeyHandlers()},this._renderLeftConversationBanner(),s.a.createElement(g.b,i()({},Y,{inlineCalloutInfo:this._getInlineCalloutInfo(),isFocal:!0,onAnalyticsClick:this._handleAnalyticsClick,onAvatarClick:this._handleAvatarClick,onBirdwatchNotesIconClick:this._handleBirdwatchNotesIconClick,onBirdwatchNotesIconShown:this._handleBirdwatchNotesIconShown,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onEntityClick:this._handleEntityClick,onFocus:this._handleFocus,onMediaClick:this._handleMediaClick,onMediaHashtagHighlightClick:this._handleMediaHashtagHighlightClick,onModeratedIconClick:this._handleModeratedIconClick,onModeratedIconShown:this._handleModeratedIconShown,onPoliticalSponsorWebsiteClick:this._handlePoliticalSponsorWebsiteClick,onPromoteAgainButtonClick:this._handlePromoteAgainButtonClick,onPromoteButtonClick:this._handlePromoteButtonClick,onPromotedDisclaimerLearnMoreClick:this._handlePromotedDisclaimerLearnMoreClick,onPromotedIndicatorClick:this._handlePromotedIndicatorClick,onReplyContextClick:this._handleReplyContextClick,onReplyPress:this._handleReplyPress,onScreenNameClick:this._handleScreenNameClick,onUndoTopicNotInterestedClick:this._handleUndoTopicNotInterested,onUserFollowIndicatorClick:this._handleUserFollowIndicator,onUserFollowIndicatorDismissClick:this._handleUserFollowIndicatorDismiss,onUserFollowIndicatorLearnMoreClick:this._handleUserFollowIndicatorLearnMoreClick,renderCurationActionMenu:this._getRenderCurationActionMenu(null==d?void 0:d.displayType,u,w,b,v,this._handleCaretClick,k,I,c.a.getOriginalTweet(j),te,ne,W,z,null==a?void 0:a.entityToken,H,V),showConversationHeadsUp:re,showLongformNotesLearnMoreBanner:se})),ae?s.a.createElement(M.a,{changeDropdownState:o,replyDropdownSelection:O}):null,this._renderInlineReply(),this._renderDownvoteEducation()))}_renderLeftConversationBanner(){var e;const{tweet:t}=this.props,{loggedInUserId:n}=this.context;return(null==t||null==(e=t.unmentioned_user_ids)?void 0:e.includes(n))?s.a.createElement(Re,null):null}_renderDownvoteEducation(){const{addFlag:e}=this.props,{showDownvoteFullscreenFromInline:t}=this.state;return s.a.createElement(s.a.Fragment,null,t||this._shouldShowDownvoteFullscreenEducation()?s.a.createElement(ve,{onDismiss:()=>{t?this.setState({showDownvoteFullscreenFromInline:!1}):e(D.l)}}):null,this._shouldShowDownvoteInlineEducation()?s.a.createElement(Se,{onAction:()=>{this.setState({showDownvoteFullscreenFromInline:!0})},onClose:()=>{e(D.l,{updateTimestamp:!0})}}):null)}_renderInlineReply(){const{history:e,location:t,tweet:n,tweetId:o}=this.props,{replyPressToggle:i}=this.state,{loggedInUserId:r}=this.context;if(!n)return null;const a=r&&!this._shouldDisable(n,R.a.Reply),c=b.b.isMobileOS()?N:j;return a?s.a.createElement(c,{history:e,location:t,parentTweetId:o,replyPressToggle:i}):null}_renderWithheldTweet(){const{tweet:e}=this.props;return!!e&&s.a.createElement(v.a,{displayTextRange:e.display_text_range,entities:e.withheld_entities||e.entities,lang:e.lang,text:e.withheld_text||e.text})}_renderReportedTombstone(){const{tweet:e}=this.props;if(e){const t=c.a.getOriginalTweet(e),n=Object(x.c)(t.reportingVisibility);return s.a.createElement(y.a,{actionText:Le,lang:e.lang,onClick:this._handleShowReportedTweet},n)}}_handleAsyncPromotedEvent(e,t){const{createLocalApiErrorHandler:n,log:o,promotedContent:i,tweet:r}=this.props;if(r&&i){const{disclosure_type:s,impression_id:a}=i;o({disclosureType:s,itemId:r.id_str,itemType:"tweet",params:{event:e,impression_id:a,...t}}).catch(n())}}}Be.contextType=U.a;const Ne=Object(F.a)(ge(Be));t.b=Object(A.a)({component:"tweet"})(Ne)},Qtnm:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("ERkP"),i=n.n(o),r=n("euJ+");const s=(e,t,n,o,s)=>{const a=null==o?void 0:o.length,c=s&&!a,l=i.a.useCallback((()=>{t({entry:n,feedbackKeys:[r.b]}),e.scribe({element:r.g(r.a,n),action:"click"})}),[e,n,t]);return{onTweetDismiss:c?l:void 0}}},ReVx:function(e,t,n){"use strict";n.r(t);var o=n("VPAj"),i=n("ezF+"),r=n("97Jx"),s=n.n(r),a=n("ERkP"),c=n.n(a),l=n("kY28"),d=n("MWbm"),h=n("6vad"),u=n("qqsb"),p=n.n(u),m=n("xZXe");const _=p.a.e25a0c3a;var w=e=>c.a.createElement(d.a,null,c.a.createElement(h.b,{text:_}),c.a.createElement(m.a,e)),b=n("x5Pi"),C=n("Df4Q"),g=n("VrCx"),v=n("pbku"),f=n("Irs7"),y=n("M6G0"),k=n("Qtnm"),I=n("rxPX"),T=n("wtjx"),E=n("Zejx");const A=(e,{entry:t,module:n})=>n.selectIsUnread(e,t.entryId),x=(e,{entry:t})=>{var n;return null!=(n=t.content.socialContext)&&n.topicContext?E.a.select(e,t.content.socialContext.topicContext.topicId):void 0};const S=({allowDownvote:e=!1,applyFeedbackAction:t,applyReactionInstructions:n,bookmarkFolderId:i,createAdditionalProps:r=Object(o.a)({}),dismissable:a=!1,displayBlocked:d,entry:h,feedbackItems:u,hideConversationControlsEducationText:p=!1,hideExclusivityInfoEducationTextInReplies:_=!1,hideTrustedFriendsEducationTextInReplies:I=!1,hideHighlightedUserLabel:T=!1,isReaderMode:E=!1,isUnread:A,saveAsRecentSearch:x,shouldSelfThreadIncludeAvatar:S=!1,shouldStoreTypeaheadItem:P,showWithheldBannerOnMyTweets:O=!1,topic:F,tweetTextSize:D,withActionsDisabled:U=!1,withMuteConversation:M=!1,withRemoveFromBookmarks:R=!1,withSelfThread:L=!1,withUserPresence:B=!1,withUnreadStyles:N=!1})=>{const j=Object(f.b)(),{content:{conversation_annotation:H,displayType:V,forwardPivot:q,hasModeratedReplies:z,highlights:W,id:K,innerForwardPivot:G,innerNudges:J,innerTombstoneInfo:X,nudges:Q,promotedMetadata:Z,replyBadge:Y,ruxContext:$,socialContext:ee,topicFollowPrompt:te},conversationPosition:ne,conversationTreeMetadata:oe,itemMetadata:ie,referringContext:{contextTweetId:re,contextualClientEventInfo:se,focalTweetId:ae,hideMedia:ce,socialContext:le,topicFollowPrompt:de}={}}=h;let he;ne?he=ne.showReplyContext&&!E?l.a.ReplyContextTypes.Isolated:l.a.ReplyContextTypes.None:E&&(he=l.a.ReplyContextTypes.None);const ue=c.a.useCallback((()=>n({entry:h,triggerName:v.a.ON_LIKE})),[n,h]),pe=c.a.useCallback((()=>n({entry:h,triggerName:v.a.ON_BLOCK_AUTHOR})),[n,h]),me=!!h.conversationPosition&&!h.conversationPosition.isStart,_e=c.a.useMemo((()=>u&&!E?{markNotInterestedTopic:u.find((e=>e.feedbackKey===Object(C.b)(h.entryId)))}:void 0),[u,h.entryId,E]),{onTweetDismiss:we}=Object(k.a)(j,t,h,u,a),be=c.a.useMemo((()=>Object(y.e)(j.contextualScribeNamespace,se,ne)),[j.contextualScribeNamespace,se,ne]),Ce=c.a.useMemo((()=>Object(b.d)({socialContext:ee,topic:F})),[ee,F]),ge={allowDownvote:e,bookmarkFolderId:i,contextTweetId:re,contextualClientEventInfo:ie.clientEventInfo,conversationAnnotation:H,conversationPosition:ne,conversationTreeMetadata:oe,displayBlocked:d,displayPromotedContent:!0,feedbackItems:u,focalTweetId:ae,forwardPivotInfo:q,handleBlockTrigger:pe,hasModeratedReplies:z,hideConversationControlsEducationText:p||me,hideExclusivityInfoEducationTextInReplies:_,hideHighlightedUserLabel:T,hideTrustedFriendsEducationTextInReplies:I,hitHighlights:null==W?void 0:W.textHighlights,injectedFeedbackItem:_e,innerForwardPivotInfo:G,innerNudges:J,isReaderMode:E,isUnread:N?A:void 0,nudges:Q,onLike:ue,onTweetDismiss:we,quotedTweetTombstoneInfo:X,replyBadge:Y,replyContext:he,ruxContext:$,saveAsRecentSearch:x,scribeData:j.contextualScribeData,scribeNamespace:be,shouldSelfThreadIncludeAvatar:S,shouldStoreTypeaheadItem:P,showWithheldBannerOnMyTweets:O,socialContext:Ce||le,topicFollowPrompt:te||de,tweetId:K,tweetTextSize:D,urtPromotedContent:Z,withActions:!0,withActionsDisabled:U,withInlineMedia:!ce||E,withMuteConversation:M,withRemoveFromBookmarks:R,withSelfThread:L,withSocialContext:!0,withUserPresence:B},ve=r(h,{isUnread:A,topic:F},{saveAsRecentSearch:x,applyFeedbackAction:t,applyReactionInstructions:n});switch(V){case g.a.EmphasizedPromotedTweet:return c.a.createElement(w,s()({},ge,ve));default:return c.a.createElement(m.a,s()({},ge,ve))}};var P=Object(I.a)().propsFromState((()=>({isUnread:A,topic:x}))).propsFromActions((({module:e})=>({saveAsRecentSearch:T.a,applyFeedbackAction:e.applyFeedbackAction,applyReactionInstructions:e.applyReactionInstructions})))(c.a.memo(S));t.default=e=>i.b({component:P,divider:e.divider||{},defaultScribeNamespace:e.isReaderMode?y.b:y.a,getBehavioralEventContextOverride:y.c,getScribeDataItem:y.d,isFocusable:Object(o.a)(!0),shouldDisplayBorder:Object(y.f)(e.isReaderMode)}).getHandler((()=>({...e})))},b5s6:function(e,t,n){"use strict";var o=n("97Jx"),i=n.n(o),r=n("ERkP"),s=n.n(r),a=n("nBUg"),c=n("uCxL"),l=n("YeIG"),d=n("x5Pi"),h=n("Irs7"),u=n("v6aA"),p=n("0KEI"),m=n("rxPX"),_=n("eSoz"),w=n("XOJV");const b=(e,t)=>t.tweetId,C=(e,t)=>{const n=t.tweetId,o=n&&w.a.select(e,n);return o?Object(_.g)(e,o):void 0};const g=Object(m.a)().propsFromState((()=>({community:C,hydratedTweet:w.a.createHydratedTweetSelector(b)}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(p.createLocalApiErrorHandlerWithContextFactory)("QUOTE_TWEET_CONTAINER"),fetchCommunityIfNeeded:_.c.fetchOneIfNeeded})))((({community:e,createLocalApiErrorHandler:t,fetchCommunityIfNeeded:n,hydratedTweet:o,onPress:r,tweetId:p,...m})=>{const{featureSwitches:_,loggedInUserId:w}=s.a.useContext(u.a),b=Object(h.b)(),C=null==o?void 0:o.community_id_str;s.a.useEffect((()=>{C&&Object(l.a)(e)&&n(C).catch(t())}),[e,C,t,n]);const g=s.a.useCallback((e=>{b.scribeAction("click"),r&&r(e)}),[r,b]),v=o&&Object(d.f)(o,w,e),f=v&&Object(d.e)(v),y=_.isTrue("responsive_web_reactions_enabled");return s.a.createElement(a.b.Provider,{value:{isCollaborativeTweetConsumptionEnabled:()=>_.isTrue("responsive_web_cotweet_consumption_enabled"),isEditTweetConsumptionEnabled:()=>_.isTrue("responsive_web_edit_tweet_enabled")||_.isTrue("subscriptions_feature_labs_1004"),isVibeTweetConsumptionEnabled:()=>_.isTrue("vibe_tweet_context_enabled"),mixedMediaEnabled:()=>_.isTrue("responsive_web_mixed_media_consumption_enabled")}},s.a.createElement(c.a,i()({},m,{loggedInUserId:w,onPress:g,shouldShowAltLabelAlways:!0,socialContextProps:f,tweet:o,withReactions:y})))}));t.a=g},j7tW:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p}));n("kYxP");var o=n("x5Pi"),i=n("PiaM"),r=n("oEOe"),s=n("SRyb"),a=n("G6rE");const c="rweb/pinnedTweets",l=r.a(c,"PIN"),d=r.a(c,"UNPIN"),h=e=>(t,n,{api:c,featureSwitches:d})=>r.c(t,{params:{id:e},request:c.Tweets.pin})({actionTypes:l,context:"ACTION_PIN_TWEET",meta:{tweetId:e}},(r=>{const c=a.e.selectLoggedInUser(n());if(void 0===c)return;const l=c.id_str,h=c.pinned_tweet_ids_str&&c.pinned_tweet_ids_str[0];t(a.e.patchUser(l,{pinned_tweet_ids_str:[e]}));const u=Object(s.a)(d,l,"default");return[...h?[u.removeTweets({[h]:!0}),u.injectEntry(i.k({id:h,sortIndex:h}),{atTop:!1})]:[],u.removeTweets({[e]:!0}),u.injectEntry(i.k({id:e,content:{socialContext:{generalContext:o.a}},sortIndex:"NOT_USED"}))]})),u=e=>(t,n,{api:o,featureSwitches:c})=>r.c(t,{params:{id:e},request:o.Tweets.unpin})({actionTypes:d,context:"ACTION_UNPIN_TWEET",meta:{tweetId:e}},(o=>{const r=a.e.selectLoggedInUser(n());if(void 0===r)return;const l=r.id_str;return t(a.e.patchUser(l,{pinned_tweet_ids_str:[]})),[Object(s.a)(c,l,"default").removeTweets({[e]:!0}),Object(s.a)(c,l,"default").injectEntry(i.k({id:e,sortIndex:e}),{atTop:!1})]})),p=(e,t)=>{const n=a.e.selectLoggedInUser(e);return!(null==n||!n.pinned_tweet_ids_str)&&n.pinned_tweet_ids_str[0]===t}},kXdP:function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),r=n("t62R"),s=n("OiMc");const a=n("rHpw").a.create((e=>({hoverText:{marginHorizontal:e.componentDimensions.gutterHorizontal,marginVertical:e.componentDimensions.gutterVertical},popover:{maxWidth:`calc(${e.spaces.space64} * 4)`,minWidth:e.spaces.space64}})));t.a=e=>{const{children:t,hoverText:n}=e;return i.a.createElement(s.a,{contentStyle:a.popover,enableHover:!0,renderContent:()=>i.a.createElement(r.b,{style:a.hoverText},n),withArrow:!0},t)}},pbku:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=Object.freeze({ON_BLOCK_AUTHOR:"onBlockAuthor",ON_LINGER:"onLinger",ON_IS_RELEVANT:"onIsRelevant",ON_SHOW_MORE:"onShowMore",ON_LIKE:"onLike",ON_FOLLOW:"onFollow"})},tvEI:function(e,t,n){"use strict";n.r(t);var o=n("VPAj"),i=n("ezF+"),r=n("ERkP"),s=n.n(r),a=n("nBUg"),c=n("rHpw"),l=n("b5s6");const d=({entry:e,isCarouselItem:t,isCondensed:n})=>{const{forwardPivot:o,id:i,nudges:r}=e.content;return s.a.createElement(a.b.Provider,{value:{isCarouselItem:()=>t}},s.a.createElement(l.a,{forwardPivotInfo:o,isCondensed:n,nudges:r,style:t?h.carouselQuoteTweet:h.quotedTweet,tweetId:i}))},h=c.a.create((e=>({quotedTweet:{marginHorizontal:e.componentDimensions.gutterHorizontal,marginTop:0,marginBottom:e.componentDimensions.gutterVertical},carouselQuoteTweet:{marginTop:0,marginBottom:0,marginRight:0,marginLeft:e.spaces.space12,width:"312px",height:"172px"}})));var u=s.a.memo(d),p=n("M6G0");t.default=e=>i.b({component:u,divider:e.divider||{},defaultScribeNamespace:p.a,getBehavioralEventContextOverride:p.c,getScribeDataItem:p.d,isFocusable:Object(o.a)(!0),shouldDisplayBorder:Object(p.f)(!!e.isCarouselItem)}).getHandler((()=>({...e})))},wtjx:function(e,t,n){"use strict";n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return w})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return f}));var o=n("Ssj5"),i=n("RqPI");const r="recentSearches",s="rweb.recentSearches",a=e=>(t,n,{userPersistence:o})=>o.set(s,{recentSearches:e}).catch((()=>{Promise.resolve()})),c=(e,t)=>{let n=[];if(e&&e.user){const o=e.user;n=t.filter((e=>e.keyword||e.topic||e.event||e.user&&e.user.id!==o.id))}else if(e&&e.topic){const o=e.topic;n=t.filter((e=>e.keyword||e.user||e.event||e.topic&&e.topic.id!==o.id))}else if(e&&e.event){const o=e.event;n=t.filter((e=>e.keyword||e.user||e.topic||e.event&&e.event.id!==o.id))}else if(e&&e.keyword){const o=e.keyword;n=t.filter((e=>e.keyword&&e.keyword.query!==o.query||e.user||e.topic||e.event))}return n},l={fetched:!1,recentSearches:[]};const d=e=>e.recentSearches.recentSearches,h=e=>d(e)[0]||null,u=e=>e.recentSearches.fetched,p="rweb/recentSearches/INIT_FROM_CACHE",m=e=>({type:p,payload:e}),_="rweb/recentSearches/REMOVE_QUERY",w=e=>(t,n,{userPersistence:o})=>{t({payload:e,type:_});const r=n().recentSearches;return Object(i.o)(n())?t(a(r.recentSearches)):Promise.resolve()},b="rweb/recentSearches/CLEAR_ALL",C=()=>(e,t,{userPersistence:n})=>{e({type:b});const o=t().recentSearches;return Object(i.o)(t())?e(a(o.recentSearches)):Promise.resolve()},g="rweb/recentSearches/ADD_QUERY",v=e=>(t,n,{userPersistence:o})=>{t({payload:e,type:g});const r=n().recentSearches;return Object(i.o)(n())?t(a(r.recentSearches)):Promise.resolve()},f=()=>(e,t,{userPersistence:n})=>t().recentSearches.fetched?Promise.resolve():e(((e,t,{userPersistence:n})=>{const o=t();return Object(i.o)(o)?n.get(s).then((t=>{e(m(t))})).catch((()=>{e(m())})):(e(m()),Promise.resolve())}));o.a.register({[r]:function(e=l,t){switch(t.type){case g:{const n=t.payload,o=n?c(n,e.recentSearches):[];return o.length>49&&o.splice(49,1),n&&o.unshift(n),{...e,recentSearches:o}}case _:{const n=t.payload,o=n?c(n,e.recentSearches):[];return{...e,recentSearches:o}}case b:return{fetched:!0,recentSearches:[]};case p:return{...e,...t.payload,fetched:!0};default:return e}}})},xZXe:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ue}));var o=n("97Jx"),i=n.n(o),r=(n("kYxP"),n("Cm4o"),n("KrtT"),n("ERkP")),s=n.n(r),a=n("MWbm"),c=n("E0cF"),l=n("OIC0"),d=n("+pKb"),h=n("/Ikv"),u=n("Z6aJ"),p=n("lHOd"),m=n("qqsb"),_=n.n(m),w=n("fs1G"),b=n("zTrU"),C=n("mN6z"),g=n("hACr"),v=n("BLtI"),f=n("Cqiq"),y=n("iFPY"),k=n("xM7j"),I=n("3zeG"),T=n("24HD"),E=n("ZyXd"),A=n("sCEu"),x=n("IO7v"),S=n("cFuS"),P=n("7JQg"),O=n("fz3c"),F=n("6bZg"),D=n("X04g"),U=n("Rp9C"),M=n("3IPs"),R=n("uArA"),L=n("4hQ9"),B=n("v6aA"),N=n("TZwD"),j=n("jQy5"),H=n("0KEI"),V=n("Ig1G"),q=n("x5Pi"),z=n("rxPX"),W=n("EGrD"),K=n("Fmkq"),G=n("jL08"),J=n("eSoz"),X=n("j7tW"),Q=n("6rlp"),Z=n("0pUJ"),Y=n("RqPI"),$=n("P1r1"),ee=n("1YZw"),te=n("Zejx"),ne=n("XOJV"),oe=n("D5n3"),ie=n("G6rE");const re=(e,{tweetId:t})=>Object(X.b)(e,t),se=(e,t)=>t.tweetId,ae=(e,{urtAdvertiser:t,urtPromotedContent:n})=>{if(e&&n){const o=e.promoted_content;return{...e,promoted_content:{adMetadataContainer:n.adMetadataContainer,disclosure_type:n.disclosureType,experiment_values:n.experimentValues,impression_id:n.impressionId,advertiser:t?{id_str:t.id_str}:void 0,advertiser_name:(null==t?void 0:t.name)||void 0,click_tracking_info:n.clickTrackingInfo,...o}}}return e},ce=(e,{socialContext:t})=>t,le=(e,{socialContext:t})=>{const n=t&&t.topicContext;return n?te.a.select(e,n.topicId):void 0},de=(e,t)=>{const n=t.tweetId,o=n&&ne.a.select(e,n);return o?Object(J.g)(e,o):void 0},he=(e,t)=>{const n=ne.a.createHydratedTweetSelector(se)(e,t),o=null==n?void 0:n.quoted_status;return o?Object(J.g)(e,o):void 0},ue=(e,{urtPromotedContent:t})=>t,pe=(e,{urtPromotedContent:t})=>t?ie.e.select(e,t.advertiserId):null,me=(e,t)=>t.contextTweetId;var _e=Object(z.a)().propsFromState((()=>({adFreeArticleDomains:W.c,articleDomains:G.b,community:de,contextTweet:ne.a.createHydratedTweetSelector(me),displaySensitiveMedia:$.k,explicitSocialContext:ce,isNsfwUser:$.t,isPinned:re,loggedInUser:ie.e.selectLoggedInUser,quoteTweetCommunity:he,topic:le,tweet:ne.a.createHydratedTweetSelector(se),urtAdvertiser:pe,urtPromotedContent:ue,userCountry:Y.A,userLanguage:Y.q}))).adjustStateProps((({adFreeArticleDomains:e,articleDomains:t,community:n,contextTweet:o,displaySensitiveMedia:i,explicitSocialContext:r,isNsfwUser:s,isPinned:a,loggedInUser:c,quoteTweetCommunity:l,topic:d,tweet:h,urtAdvertiser:u,urtPromotedContent:p,userCountry:m,userLanguage:_})=>{var w,b,C;const g=h&&Object(q.f)(h,null==c?void 0:c.id_str),v=null==h||null==(w=h.card)||null==(b=w.binding_values)||null==(C=b.domain)?void 0:C.string_value,f=Object(G.a)(t,v),y=null==h?void 0:h.quoted_status,k=y?Object(q.f)(y,null==c?void 0:c.id_str,l):void 0,I=k&&Object(q.e)(k),T=Object(V.g)(null==n?void 0:n.role),E=r||g;return{adFreeArticleDomains:e,contextTweet:o,displaySensitiveMedia:i,isCardArticle:f,isNsfwUser:s,isPinned:a,loggedInUser:c,promotedContentAdvertiser:u||void 0,quoteTweetSocialContextProps:I,socialContext:E,socialContextColor:Object(V.j)(n,E),topic:d,tweet:ae(h,{urtPromotedContent:p,urtAdvertiser:u}),userCountry:m,userLanguage:_,withCommunityModerationAuthority:T}})).propsFromActions((()=>({addToast:ee.b,block:ie.e.block,createLocalApiErrorHandler:Object(H.createLocalApiErrorHandlerWithContextFactory)("TWEET_CONTAINER_CONTEXT"),log:Q.a,fetchAdFreeToken:W.a,fetchCommunityIfNeeded:J.c.fetchOneIfNeeded,fetchTopicIfNeeded:te.a.fetchOneIfNeeded,loadAdFreeArticleDomainsFromPersistence:W.b,mute:Z.a,onUnretweet:oe.a,richScribeAction:K.richScribeAction,setArticlesVisited:G.e,undoTopicNotInterested:te.a.undoNotInterested,unblock:ie.e.unblock,unmute:ie.e.unmute,updateLongformNotesLearnMoreBanner:ne.a.updateLongformNotesLearnMoreBanner}))).withAnalytics(),we=n("Irs7");var be=n("64vW"),Ce=n("gZV8"),ge=n("rHpw");function ve(e){const{id:t,onFullyVisible:n,position:o,testID:i}=e,r=s.a.useMemo((()=>{switch(o){case"top":return fe.topPixel;case"bottom":return fe.bottomPixel;case"right":return fe.rightPixel;case"left":return fe.leftPixel;default:return}}),[o]),c=s.a.useCallback((e=>{e.visibleFraction()>=Ce.c&&n()}),[n]);return s.a.createElement(a.a,{style:[fe.impressionPixelContainer,r],testID:i},s.a.createElement(Ce.e,{key:t,onPlacementChange:c},s.a.createElement(a.a,{style:fe.impressionPixel})))}const fe=ge.a.create((e=>({impressionPixel:{visibility:"hidden",height:"1px",width:"1px"},impressionPixelContainer:{position:"absolute"},topPixel:{top:"0",right:"50%"},bottomPixel:{bottom:"0",right:"50%"},rightPixel:{right:"0",top:"50%"},leftPixel:{left:"0",top:"50%"}}))),ye="top-impression-pixel",ke="bottom-impression-pixel",Ie="right-impression-pixel",Te="left-impression-pixel";class Ee extends s.a.PureComponent{constructor(...e){super(...e),this._areHeightsReady=()=>this.props.heightsReady,this._renderImpressionPixels=e=>s.a.createElement(s.a.Fragment,null,s.a.createElement(ve,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"top",testID:ye}),s.a.createElement(ve,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"right",testID:Ie}),s.a.createElement(ve,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"bottom",testID:ke}),s.a.createElement(ve,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"left",testID:Te})),this._handleOnVisible=e=>()=>{const{id:t,onVisible:n}=this.props,o=e();o&&this._lastVisibleId!==t&&n&&(this._lastVisibleId=t,n(o))},this._handlePlacementChange=e=>{const{id:t,onFullyVisible:n,onVisible:o,shouldUseImpressionPixel:i}=this.props;if(!this._areHeightsReady())return;i||this._lastVisibleId!==t&&e.verticalOverlap()>=1&&(this._lastVisibleId=t,o(e));const r=e.visibleFraction()>=Ce.c,s=e.item.height>e.viewport.height,a=e.verticalOverlap()===e.viewport.height||s&&e.visibleFraction()>=Ce.d;this._lastFullyVisibleId!==t&&(r||a)&&(this._lastFullyVisibleId=t,n&&n(e))},this._handleLayout=e=>{const{nativeEvent:{layout:{height:t,width:n}}}=e,o={width:n,height:t};if(this._prevLayout&&(this._prevLayout.width!==n||this._prevLayout.height!==t)){const{onResize:e}=this.props;e&&e(this._prevLayout,o)}this._prevLayout=o}}render(){const{children:e,id:t,shouldUseImpressionPixel:n}=this.props;return s.a.createElement(Ce.e,{key:t,onLayout:this._handleLayout,onPlacementChange:this._handlePlacementChange},(({getScrollPlacement:t})=>s.a.createElement(s.a.Fragment,null,n&&this._areHeightsReady()&&this._renderImpressionPixels(t),e)))}}function Ae(e){return s.a.createElement(be.a.Consumer,null,(({heightsReady:t})=>s.a.createElement(Ee,i()({},e,{heightsReady:t}))))}const xe=_.a.f277e94a,Se=_.a.e4c6c30a;class Pe extends s.a.Component{constructor(e,t){var n;super(e,t),this._shouldLogPromotedImpression=Fe.bind(null,this.context.featureSwitches),this._isProbablyRemovedByAdBlocker=Oe.bind(null,this.context.featureSwitches),this._isArticleNudgeEnabled=this.context.featureSwitches.isTrue("responsive_web_article_nudge_enabled"),this._isCompatibilityScribeEnabled=this.context.featureSwitches.isTrue("responsive_web_extension_compatibility_scribe"),this._isCommunitiesEnabled=this.context.featureSwitches.isTrue("c9s_enabled"),this._shouldUseImpressionPixel=this.context.featureSwitches.isTrue("responsive_web_impression_pixel_enabled"),this._hasClaimsForAdFreeArticles=null==(n=this.context.userClaims)?void 0:n.isTrueAndEnabled("subscriptions_feature_1006"),this._twitterArticleLearnMoreBannerEnabled=this.context.featureSwitches.isTrue("responsive_web_twitter_article_view_enabled"),this._renderBlockOrUnblockConfirmationSheet=()=>{const{tweet:e}=this.props,{user:t}=e;return Object(T.j)({confirmation:Object(T.h)(t),onClose:this._handleBlockOrUnblockConfirmClose,handleConfirm:this._handleBlockOrUnblockUserConfirm})},this._handleShowReportedTweet=()=>{this.setState({displayReported:!0,enableKeyboardShortcuts:!1})},this._handleUnretweet=()=>{const{createLocalApiErrorHandler:e,onUnretweet:t,tweet:n}=this.props;t(c.a.getOriginalTweet(n).id_str,{promotedContent:n.promoted_content}).catch(e(x.a))},this._getShortcutKeyHandlers=()=>{const{onClick:e,shortcutKey:t}=this._getMuteOrUnmuteAction(),{shortcutKey:n}=this._getBlockOrUnblockAction(),o=this.context.loggedInUserId===this.props.tweet.user.id_str;return{...t&&{[t]:e},...n&&!o&&{[n]:this._handleBlockOrUnblockConfirmOpen}}},this._handleBlockOrUnblockConfirmOpen=()=>{this.setState({showBlockOrUnblockConfirmation:!0})},this._handleBlockOrUnblockConfirmClose=()=>{this.setState({showBlockOrUnblockConfirmation:!1})},this._handleBlockOrUnblockUserConfirm=()=>{const{onClick:e}=this._getBlockOrUnblockAction();this._handleBlockOrUnblockConfirmClose(),e&&e()},this._getBaseTweetProps=()=>{var e,t;const{contextualClientEventInfo:n,conversationTreeMetadata:o,feedbackItems:i,focalTweetId:r,forwardPivotInfo:s,handleBlockTrigger:a,isNsfwUser:l,isPinned:d,onTweetDismiss:h,ruxContext:u,saveAsRecentSearch:p,scribeData:m,shouldStoreTypeaheadItem:_,socialContext:w,topicFollowPrompt:b,tweet:C,userCountry:g,userLanguage:v,withActionsDisabled:f,withCommunityModerationAuthority:y,withCurationMenu:k,withHideReply:I,withMuteConversation:T,withUnhideReply:E,withViewHiddenReplies:A}=this.props,x=c.a.getOriginalTweet(C),S=this._getPromotedContent(),P=m.items&&m.items[0]&&m.items[0].suggestion_details,O=this._isSelected(),F=x&&x.card&&!C.is_quote_status?x.card.url:void 0,{loggedInUserId:D}=this.context,U=(null==x||null==(e=x.user)?void 0:e.id_str)===D,M=!x.in_reply_to_status_id_str&&U&&!x.community_id_str,R=this._renderConversationControlsTooltip(),L=null==(t=x.longformNotesLearnMore)?void 0:t.showBanner;return{excludeCardUrl:F,inlineCalloutInfo:this._getInlineCalloutInfo(),isFocal:r===C.id_str,onAnalyticsClick:this._handleAnalyticsClick,onAvatarClick:this._handleAvatarClick,onBirdwatchNotesIconClick:this._handleBirdwatchNotesIconClick,onBirdwatchNotesIconShown:this._handleBirdwatchNotesIconShown,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onClick:C.isPreview?this._handlePreviewClick:this._handleTweetClick,onEntityClick:this._handleEntityClick,onFocus:this._handleFocus,onLikeSuccess:this._handleLikeSuccess,onMediaClick:C.isPreview?this._handleEmbeddedMediaPreviewClick:this._handleEmbeddedMediaClick,onMediaHashtagHighlightClick:this._handleMediaHashtagHighlightClick,onModeratedIconClick:this._handleModeratedIconClick,onModeratedIconShown:this._handleModeratedIconShown,onPoliticalSponsorWebsiteClick:this._handlePoliticalSponsorWebsiteClick,onPromoteButtonClick:this._handlePromoteButtonClick,onPromoteAgainButtonClick:this._handlePromoteAgainButtonClick,onPromotedDisclaimerLearnMoreClick:this._handlePromotedDisclaimerLearnMoreClick,onPromotedIndicatorClick:this._handlePromotedIndicatorClick,onPromotedUserProfileCardClick:this._handlePromotedUserProfileCardClick,onQuoteTweetClick:this._handleQuoteTweetClick,onReply:this._handleInlineReplyClick,onReplyContextClick:this._handleReplyContextClick,onScreenNameClick:this._handleScreenNameClick,onSelfThreadClick:this._handleSelfThreadClick,onSelfThreadImpression:this._handleSelfThreadImpression,onUndoTopicNotInterestedClick:this._handleUndoTopicNotInterested,onUserFollowIndicatorClick:this._handleUserFollowIndicator,onUserFollowIndicatorDismissClick:this._handleUserFollowIndicatorDismiss,onUserFollowIndicatorLearnMoreClick:this._handleUserFollowIndicatorLearnMoreClick,onVibeClick:this._handleVibeClick,promotedContent:S,renderCurationActionMenu:k&&!C.isPreview?this._getRenderCurationActionMenu(s&&s.displayType,i,a,f,l,d,O,this._handleCaretClick,h,S,x,I,y,T,E,M,A,o,null==n?void 0:n.entityToken,R,g,v):void 0,saveAsRecentSearch:p,shouldStoreTypeaheadItem:_,showLongformNotesLearnMoreBanner:L,to:{state:{focal:x.id_str,socialContext:w,contextualClientEventInfo:n,contextTweetId:C.id_str,promotedContent:S,suggestionDetails:P,topicFollowPrompt:b},pathname:x.permalink,query:u?{cxt:u}:void 0}}},this._getReaderModeTweetProps=()=>{var e;const{contextualClientEventInfo:t,hideHighlightedUserLabel:n,ruxContext:o,scribeData:i,socialContext:r,topicFollowPrompt:s,tweet:a,tweetTextSize:l}=this.props,d=c.a.getOriginalTweet(a),h=this._getPromotedContent(),u=i.items&&i.items[0]&&i.items[0].suggestion_details;return{excludeCardUrl:null==(e=a.card)?void 0:e.url,hideHighlightedUserLabel:n,onAnalyticsClick:w.a,onAvatarClick:w.a,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onClick:a.isPreview?this._handlePreviewClick:this._handleTweetClick,onEntityClick:w.a,onFocus:this._handleFocus,onMediaClick:this._handleEmbeddedMediaClick,onReplyContextClick:w.a,to:{state:{focal:d.id_str,socialContext:r,contextualClientEventInfo:t,contextTweetId:a.id_str,promotedContent:h,suggestionDetails:u,topicFollowPrompt:s},pathname:d.permalink,query:o?{cxt:o}:void 0},tweet:a,tweetTextSize:l||"headline1",withActions:!1,withAvatarLink:!1,withReaderModeBottomBar:!0,withUserAvatar:!1,withUserHoverCard:!1,withUserName:!1,withTimestamp:!1}},this._getInlineCalloutInfo=()=>{const{displaySensitiveMedia:e,isNsfwUser:t,scribeNamespace:n,tweet:o,userCountry:i,userLanguage:r}=this.props,{featureSwitches:s,loggedInUserId:a}=this.context;if(Object(L.e)({displaySensitiveMedia:e,featureSwitches:s,isNsfwUser:t,loggedInUserId:a,tweet:o,userCountry:i,userLanguage:r}))return Object(L.d)(o,n,s)},this._getBlockOrUnblockAction=()=>{const{addToast:e,block:t,contextualClientEventInfo:n,createLocalApiErrorHandler:o,tweet:i,unblock:r}=this.props,{user:s}=i,a=this._getPromotedContent(),c={addToast:e,behavioralEventEntityToken:null==n?void 0:n.entityToken,createLocalApiErrorHandler:o,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(N.a)({...c,block:t,unblock:r,user:s,promotedContent:a})},this._getMuteOrUnmuteAction=()=>{const{addToast:e,contextualClientEventInfo:t,createLocalApiErrorHandler:n,mute:o,tweet:i,unmute:r}=this.props,{user:s}=i,a={addToast:e,behavioralEventEntityToken:null==t?void 0:t.entityToken,createLocalApiErrorHandler:n,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}},c=this._getPromotedContent();return Object(j.a)({...a,mute:o,unmute:r,user:s,promotedContent:c})},this._renderConversationControlsTooltip=()=>{const{loggedInUserId:e}=this.context,{showMidConversationControlEducationText:t,tweet:n}=this.props,o=c.a.getOriginalTweet(n);if(!o)return!1;const i=!!o.community_id_str,r=o.user&&o.user.id_str===e,s=o.reply_count>0;return!o.in_reply_to_status_id_str&&r&&s&&!i&&t},this._getRenderCurationActionMenu=Object(b.a)(((e,t,n,o,i,r,a,c,l,d,h,u,p,m,_,w,b,C,g,v,f,y)=>()=>s.a.createElement(I.a,{behavioralEventEntityToken:g,feedbackItems:t,forwardPivotDisplayType:e,handleBlockTrigger:n,isDisabled:o,isNsfwUser:i,isPinned:r,onMenuClick:c,onTweetDismiss:l,promotedContent:d,tweet:h,userCountry:f,userLanguage:y,withChangeConversationControls:w,withChangeConversationControlsTooltip:v,withCommunityModerationAuthority:p,withHideReply:u,withMuteConversation:m,withUnhideReply:_,withViewHiddenReplies:b}))),this._getDefaultScribeData=Object(b.a)(((e,t,n,o,i,r)=>{const s=(({clickTrackingEmbedDetails:e,contextualScribeData:t,isSelected:n,overflow:o,promotedContent:i,scribeData:r,tweet:s})=>({...t||{},...r||{},...e&&{click_tracking_embed_details:e},items:U.a.addTweetToItems(r?r.items:[],s,i,n,o)}))({tweet:e,promotedContent:t,scribeData:n,overflow:o,isSelected:this._isSelected(),contextualScribeData:i,clickTrackingEmbedDetails:r});return this._cachedFinalScribeData&&Object(C.a)(s,this._cachedFinalScribeData)||(this._cachedFinalScribeData=s),this._cachedFinalScribeData})),this._scribeAction=(e,t={},n,o,i)=>{var r;const{analytics:s,history:a,richScribeAction:l,scribeData:d,scribeNamespace:h,tweet:u}=this.props,p=null==(r=a.location.state)?void 0:r.overflow,m=this._getPromotedContent();let _=d;if(o){const e=U.a.getUserItem(u.user,m),t=_.items?[..._.items,e]:[e];_={..._,items:t}}if(i){const e={article_details:{is_ad_free:i}},t=_.items?[..._.items,e]:[e];_={..._,items:t}}l({...h,...e},{...this._getDefaultScribeData(c.a.getOriginalTweet(u),m,_,p,s.contextualScribeData,n),...t})},this._handlePoliticalSponsorWebsiteClick=()=>{this._scribeAction({component:"political_ad",element:"organization_website",action:"click"})},this._handlePromotedDisclaimerLearnMoreClick=e=>()=>{this._scribeAction({component:e,element:"learn_more",action:"click"})},this._handlePromotedIndicatorClick=()=>{this._handleAsyncPromotedEvent(S.b.FOOTER_PROFILE)},this._handleFocus=()=>{this.setState({enableKeyboardShortcuts:!0})},this._handleBlur=()=>{this.setState({enableKeyboardShortcuts:!1})},this._getPromotedContent=()=>{const{displayPromotedContent:e,tweet:t}=this.props;return e?t.promoted_content:void 0},this._handleImpression=e=>{this._shouldLogPromotedImpression(e)&&this._handleAsyncPromotedEvent(S.b.IMPRESSION)},this._handleFullyVisible=e=>{this._shouldLogPromotedImpression(e)&&this._handleAsyncPromotedEvent(S.b.DWELL)},this._handleResize=(e,t)=>{!this._isProbablyRemovedByAdBlocker(e)&&this._isProbablyRemovedByAdBlocker(t)&&(E.a.recordAdBlockerPresence(),this._isCompatibilityScribeEnabled&&this._scribeAction({action:"blocked_ad"}))},this._handleInlineReplyClick=e=>{const{loggedInUserId:t}=this.context,{history:n,tweet:o}=this.props,i=this._getPromotedContent();e.preventDefault(),this._scribeAction({element:"inline_reply",action:"reply"}),n.push({state:{inReplyToStatusId:o.id_str,isSelfThreadReply:!!t&&Object(L.c)({tweet:o,loggedInUserId:t}),promotedContent:i},pathname:"/compose/tweet"})},this._handleLikeSuccess=()=>{if(this.context.featureSwitches.isTrue("home_timeline_like_reactivity_enabled")){const{onLike:e}=this.props,t="LikeReactionFatigue";try{const n=JSON.parse(window.sessionStorage.getItem(t))||0;n<this.context.featureSwitches.getNumberValue("home_timeline_like_reactivity_fatigue")&&e&&e().then((e=>{null!=e&&e.performed&&window.sessionStorage.setItem(t,JSON.stringify(n+1))}))}catch(e){}}},this._handleReplyContextClick=(e,t)=>this._scribeAction({element:"reply_context",action:"click"},{event_value:t}),this._handleAsyncPromotedEvent=(e,t)=>{const{createLocalApiErrorHandler:n,log:o,tweet:i}=this.props,r=this._getPromotedContent();if(r){const{disclosure_type:s,impression_id:a}=r;o({disclosureType:s,itemId:i.id_str,itemType:S.c.TWEET,params:{event:e,impression_id:a,...t}}).catch(n())}},this._handleModeratedIconClick=()=>this._scribeAction({element:"moderated_replies_icon",action:"click"}),this._handleModeratedIconShown=()=>this._scribeAction({element:"moderated_replies_icon",action:"impression"}),this._handleBirdwatchNotesIconClick=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"click"}),this._handleBirdwatchNotesIconShown=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"impression"}),this._handleAnalyticsClick=()=>{this._scribeAction({element:"analytics",action:"click"})},this._handlePromoteButtonClick=()=>{this._scribeAction({element:"promote",action:"click"})},this._handlePromoteAgainButtonClick=()=>{this._scribeAction({element:"promote_again",action:"click"})},this._handleVibeClick=()=>{var e,t;const{tweet:n}=this.props;this._scribeAction({element:"vibe_pill",action:"click"},{items:[{id:n.id_str,vibe_details:{vibe_text:null==(e=n.vibe)?void 0:e.text,...null==(t=n.vibe)?void 0:t.annotation}}]})},this._handleAvatarClick=()=>{const{tweet:e}=this.props;this._handleSaveAsRecentSearchUser(),this._scribeAction({element:"avatar",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(S.b.PROFILE_IMAGE_CLICK)},this._handleCaretClick=()=>this._scribeAction({element:"caret",action:"click"}),this._handleTweetClick=Object(R.a)((e=>{if(!e.defaultPrevented){if(e.stopPropagation(),window.getSelection().toString().length)return;this._scribeAction({element:"tweet",action:"click"}),this._handleAsyncPromotedEvent(S.b.VIEW_DETAILS)}})),this._handlePreviewClick=e=>{e.preventDefault()},this._handleEmbeddedMediaPreviewClick=e=>{null==e||e.preventDefault()},this._handleEmbeddedMediaClick=()=>{this._scribeAction({element:"platform_photo_card",action:"click"}),this._handleAsyncPromotedEvent(S.b.EMBEDDED_MEDIA)},this._handleQuoteTweetClick=()=>{this._scribeAction({element:"tweet",action:"click"}),this._handleAsyncPromotedEvent(S.b.VIEW_DETAILS)},this._handleEntityClick=(e,t,n)=>{const{adFreeArticleDomains:o,createLocalApiErrorHandler:i,fetchAdFreeToken:r,tweet:s}=this.props,a=S.a[t],c=F.a[t],h=this._getPromotedContent(),u=U.a.getClickTrackingEmbedDetails(h,n);if(a){const t=a===S.b.URL_CLICK&&e.currentTarget instanceof window.HTMLElement?{url:e.currentTarget.href}:void 0;this._handleAsyncPromotedEvent(a,t)}if(t===l.a.MEDIA)return this._handleTweetClick(e);t===l.a.URL&&u&&this._scribeAction({action:d.b.CLICK_ID_EMBED},{},u);let p=!1;if(this._hasClaimsForAdFreeArticles&&null!=n&&n.expandedUrl){const t=new URL(n.expandedUrl).hostname,[a,c]=new A.a(r,i()).getAdFreeArticlesClickHandler({destinationUrl:n.embeddedUrl,linkDomain:t,adFreeArticleDomains:o,tweetAuthorUserId:s.user.id_str});a&&(c(e),p=!0)}if(t===l.a.MENTION){const e=null!=n&&n.text?[{item_type:D.a.ItemType.USER,name:n.text,id:n.id_str}]:void 0;return this._scribeAction({action:c},{targets:e},void 0,void 0,p)}if(t===l.a.HASHTAG){const e=null!=n&&n.text?[{name:n.text}]:void 0;return this._scribeAction({action:c},{targets:e},void 0,void 0,p)}if(t===l.a.INTERACTIVE_HIGHLIGHT&&void 0!==(null==n?void 0:n.id))return this._scribeAction({element:"interactive_text",action:c},{interactive_text_details:{id:n.id}},void 0,void 0,p);c&&this._scribeAction({action:c},void 0,void 0,void 0,p)},this._handlePromotedUserProfileCardClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"user_recommendation",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(S.b.SCREEN_NAME_CLICK)},this._handleScreenNameClick=()=>{const{tweet:e}=this.props;this._handleSaveAsRecentSearchUser(),this._scribeAction({element:"user",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(S.b.SCREEN_NAME_CLICK)},this._handleSelfThreadClick=()=>this._scribeAction({element:"self_thread",action:"click"}),this._handleSelfThreadImpression=()=>this._scribeAction({element:"self_thread",action:"impression"}),this._handleTopicFetch=()=>{var e;const{createLocalApiErrorHandler:t,fetchTopicIfNeeded:n,socialContext:o}=this.props,i=o&&(null==(e=o.topicContext)?void 0:e.topicId);i&&n(i).catch(t())},this._handleCommunityFetch=()=>{const{createLocalApiErrorHandler:e,fetchCommunityIfNeeded:t,tweet:n}=this.props;if(this._isCommunitiesEnabled&&n){var o;const i=n.community_id_str,r=null==(o=n.quoted_status)?void 0:o.community_id_str;i&&t(i).catch(e()),r&&t(r).catch(e())}},this._handleLongformNotesLearnMoreRender=()=>{const{tweet:e,updateLongformNotesLearnMoreBanner:t}=this.props,n=c.a.getOriginalTweet(e),o=c.a.hasLongformNoteUrl(n);e&&o&&this._twitterArticleLearnMoreBannerEnabled&&t(n.id_str)},this._handleUndoTopicNotInterested=()=>{const{createLocalApiErrorHandler:e,topic:t,undoTopicNotInterested:n}=this.props;this._scribeAction({element:"topic",action:"un_not_interested"}),t&&n(t.id).catch(e())},this._handleUserFollowIndicator=()=>{this._scribeAction({component:"super_follower_educaton",element:"indicator",action:"click"})},this._handleUserFollowIndicatorDismiss=()=>{this._scribeAction({component:"super_follower_education",action:"dismiss"})},this._handleUserFollowIndicatorLearnMoreClick=e=>{this._scribeAction({component:"super_follower_education",element:"learn_more",action:"click"}),e&&e()},this._handleCardLinkClick=e=>{var t;const{adFreeArticleDomains:n,analytics:o,createLocalApiErrorHandler:i,fetchAdFreeToken:r,isCardArticle:s,setArticlesVisited:a,tweet:c}=this.props;if(s&&this._isArticleNudgeEnabled){var l;const e=null==c||null==(l=c.card)?void 0:l.url;var d;if(e)a(e),o.scribe({component:"article_nudge",element:"read_article",action:"click",data:{items:[{token:null==c||null==(d=c.card)?void 0:d.url,in_reply_to_tweet_id:c.id_str}]}})}const u=null==c||null==(t=c.card)?void 0:t.binding_values;if(this._hasClaimsForAdFreeArticles&&u){const[t,o]=new A.a(r,i()).getAdFreeArticlesClickHandler({destinationUrl:h.a.getBindingValue(u,"card_url"),linkDomain:h.a.getBindingValue(u,"domain"),adFreeArticleDomains:n});t&&o(e)}},this._handleSaveAsRecentSearchUser=()=>{const{saveAsRecentSearch:e,shouldStoreTypeaheadItem:t,tweet:n}=this.props,{user:o}=n;e&&t&&t(D.a.ItemType.USER)&&e({user:{id:o.id_str,type:M.a.User}})},this._isSelected=()=>{const{conversationTreeMetadata:e,tweet:t}=this.props,{selectedTweet:n}=e||{};return n&&t.id_str===n.selectedTweetId},this._handleMediaHashtagHighlightClick=()=>{this._handleAsyncPromotedEvent(S.b.HASHTAG_CLICK)},this.state={displayReported:!1,enableKeyboardShortcuts:!1,showBlockOrUnblockConfirmation:!1};const o=this._getPromotedContent();this._shouldHidePromotedTweet=u.a.isPromoted(o)&&E.a.shouldHidePromotedTweets(this.context.featureSwitches)}shouldComponentUpdate(e,t){return!Object(C.a)(this.props,e)||!Object(C.a)(this.state,t)}componentDidMount(){this._shouldHidePromotedTweet&&this._isCompatibilityScribeEnabled&&this._scribeAction({action:"hide_promoted"}),this._handleTopicFetch(),this._handleCommunityFetch(),this._handleLongformNotesLearnMoreRender(),this._hasClaimsForAdFreeArticles&&this.props.loadAdFreeArticleDomainsFromPersistence()}render(){var e;const{loggedInUserId:t}=this.context,{conversationPosition:n,conversationTreeMetadata:o,showWithheldBannerOnMyTweets:i,tweet:r}=this.props;if(!this._shouldRender())return o?s.a.createElement(k.a,{conversationPosition:n,conversationTreeMetadata:o},Se):null;const l=(null==r||null==(e=r.user)?void 0:e.id_str)===t,d=Object(f.b)(c.a.getOriginalTweet(r).withheld_scope),h=l&&!r.retweeted_status,u=h&&"user"===c.a.getOriginalTweet(r).withheld_scope&&!i,p=Object(O.h)(r)&&!this.state.displayReported;return s.a.createElement(s.a.Fragment,null,d?s.a.createElement(a.a,null,u?null:this._renderWithheldTweet(),h?this._renderContent():null):p?this._renderReportedTombstone():this._renderContent(),this._renderIntentPrompt(),this.state.showBlockOrUnblockConfirmation?this._renderBlockOrUnblockConfirmationSheet():null)}_renderIntentPrompt(){const{contextualClientEventInfo:e,forwardPivotInfo:t,history:n,nudges:o,tweet:i,tweetId:r}=this.props;if(i&&"focal_module"===(null==e?void 0:e.component)&&n.location.pathname.indexOf("/intent/")>-1&&n.location.query.tweet_id===r)return s.a.createElement(y.a,{forwardPivotInfo:t,history:n,location:n.location,nudges:o,tweetId:i.id_str})}_renderWithheldTweet(){const{conversationPosition:e,conversationTreeMetadata:t,tweet:n}=this.props,o=n.user.id_str,i=c.a.getOriginalTweet(n),{loggedInUserId:r}=this.context,a=!!r&&r===o&&i.retweeted,l=i.withheld_text||i.text,d=i.withheld_entities||i.entities,h=n.user.id_str===r;return s.a.createElement(f.a,{conversationPosition:e,conversationTreeMetadata:h?void 0:t,displayTextRange:i.display_text_range,entities:d,lang:i.lang,onUnretweet:a?this._handleUnretweet:void 0,showUnretweetButton:a,text:l})}_renderReportedTombstone(){const{conversationPosition:e,conversationTreeMetadata:t,tweet:n}=this.props,o=c.a.getOriginalTweet(n),i=Object(O.c)(o.reportingVisibility);return s.a.createElement(k.a,{actionText:xe,conversationPosition:e,conversationTreeMetadata:t,lang:o.lang,onClick:this._handleShowReportedTweet},i)}_renderContent(){var e;const{allowDownvote:t,analytics:n,bookmarkFolderId:o,contextTweet:i,contextualClientEventInfo:r,conversationPosition:a,conversationTreeMetadata:l,displayBlocked:d,forwardPivotInfo:h,hasModeratedReplies:u,hideConversationControlsEducationText:p,hideExclusivityInfoEducationTextInReplies:m,hideTrustedFriendsEducationTextInReplies:_,history:w,hitHighlights:b,injectedFeedbackItem:f,innerForwardPivotInfo:y,innerNudges:k,isReaderMode:I,isUnread:T,linkify:E,loggedInUser:A,nudges:x,promotedContentAdvertiser:S,quoteTweetSocialContextProps:O,quotedTweetTombstoneInfo:F,replyBadge:D,replyContext:U,rootTweetAuthorId:M,scribeData:R,scribeNamespace:L,shouldSelfThreadIncludeAvatar:B,socialContext:N,socialContextColor:j,topic:H,topicFollowPrompt:V,tweet:q,withActions:z,withActionsDisabled:W,withBirdwatchPivots:K,withCardLinks:G,withInlineMedia:J,withQuotedTweetLinks:X,withRemoveFromBookmarks:Q,withSelfThread:Z,withSocialContext:Y,withUserPresence:$}=this.props,{enableKeyboardShortcuts:ee}=this.state,te=c.a.getOriginalTweet(q),ne=this._getPromotedContent(),oe=Object(C.a)(this._cachedScribeNamespace,L)?this._cachedScribeNamespace:this._cachedScribeNamespace=L,ie=null==(e=w.location.state)?void 0:e.overflow,re={...{allowDownvote:t,bookmarkFolderId:o,contextTweet:i,contextualClientEventInfo:r,conversationPosition:a,conversationTreeMetadata:l,displayBlocked:d,enableKeyboardShortcuts:ee,forwardPivotInfo:h,nudges:x,innerNudges:k,hasModeratedReplies:u,hideConversationControlsEducationText:p,hideExclusivityInfoEducationTextInReplies:m,hideTrustedFriendsEducationTextInReplies:_,hitHighlights:b,injectedFeedbackItem:f,innerForwardPivotInfo:y,linkify:E,loggedInUser:A,promotedContentAdvertiser:S,quotedTweetTombstoneInfo:F,quoteTweetSocialContextProps:O,replyBadge:D,replyContext:U,rootTweetAuthorId:M,shouldSelfThreadIncludeAvatar:B,socialContext:N,socialContextColor:j,topic:H,topicFollowPrompt:V,tweet:q,withActions:z,withActionsDisabled:W,withBirdwatchPivots:K,withCardLinks:G,withInlineMedia:J,withQuotedTweetLinks:X,withRemoveFromBookmarks:Q,withSelfThread:Z,withSocialContext:Y,withUnreadStyles:T,withUserPresence:$},...I?this._getReaderModeTweetProps():this._getBaseTweetProps()},se=s.a.createElement(P.c,{data:this._getDefaultScribeData(te,ne,R,ie,n.contextualScribeData,void 0),namespace:oe},s.a.createElement(g.a,{enabled:!!ee,handlers:this._getShortcutKeyHandlers()},s.a.createElement(v.b,re)));return ne?s.a.createElement(Ae,{id:q.id_str,onFullyVisible:this._handleFullyVisible,onResize:this._handleResize,onVisible:this._handleImpression,shouldUseImpressionPixel:this._shouldUseImpressionPixel},se):se}_shouldRender(){const{tweet:e}=this.props;return!(this._shouldHidePromotedTweet||this._tweetIsDeleted()||this._shouldHideBlockedTweet()||Object(O.f)(e))}_tweetIsDeleted(){const{tweet:e}=this.props,{retweeted_status:t}=e;return e.isDeleted||t&&t.isDeleted}_shouldHideBlockedTweet(){var e,t;const{displayBlocked:n,focalTweetId:o,tweet:i}=this.props,r=c.a.getOriginalTweet(i),s=!(null==i||null==(e=i.user)||!e.blocking)||!(null==r||null==(t=r.user)||!t.blocking);return o!==i.id_str&&(!n&&s)}}Pe.defaultProps={displayBlocked:!1,shouldSelfThreadIncludeAvatar:!1,showWithheldBannerOnMyTweets:!0,withCardLinks:!1,withCurationMenu:!0,withRemoveFromBookmarks:!1,withMuteConversation:!1},Pe.contextType=B.a;const Oe=(e,t)=>t.height<=e.getNumberValue("responsive_web_extension_compatibility_size_threshold",50),Fe=(e,t)=>!(e.isTrue("responsive_web_extension_compatibility_impression_guard")&&Oe(e,t.item)),De=e=>{const t=s.a.useContext(p.a);return((e,t)=>{const n=Object(we.b)();s.a.useEffect((()=>{t||n.scribe({action:"hydration_failed",data:{tweet_id:e}})}),[n,t,e])})(e.tweetId,e.tweet),e.tweet?s.a.createElement(Pe,i()({},e,{history:t,tweet:e.tweet})):null};De.defaultProps=Pe.defaultProps;const Ue=_e(De);t.b=Object(P.a)({component:"tweet"})(Ue)}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.tweetHandler.02456498.js.map