(window.webpackJsonp=window.webpackJsonp||[]).push([[368],{"3zeG":function(e,t,i){"use strict";i("kYxP"),i("ERkP");var o=i("zb92");const n=Object(o.a)({loader:()=>Promise.all([i.e(0),i.e(195)]).then(i.bind(null,"MzK7"))});t.a=n},"64vW":function(e,t,i){"use strict";var o=i("ERkP");const n=i.n(o).a.createContext({heightsReady:!0});t.a=n},"6bZg":function(e,t,i){"use strict";var o=i("OIC0");t.a={[o.a.CASHTAG]:void 0,[o.a.EMOJI]:void 0,[o.a.HASHTAG]:"hashtag_click",[o.a.INTERACTIVE_HIGHLIGHT]:"highlight_click",[o.a.MEDIA]:void 0,[o.a.MENTION]:"mention_click",[o.a.TEXT]:void 0,[o.a.URL]:"open_link"}},"NO+D":function(e,t,i){"use strict";i.r(t);var o=i("ezF+"),n=(i("kYxP"),i("ERkP")),r=i.n(n),s=i("kY28"),a=i("rcen"),l=i("xM7j"),c=i("xZXe"),d=i("P1oR"),h=i("rxPX"),u=Object(h.a)().propsFromActions((({module:e})=>({applyFeedbackAction:e.applyFeedbackAction})));const _=e=>{const{alignment:t,entities:i,rtl:o,text:n}=e;return r.a.createElement(a.a,{alignment:t,entities:i,rtl:o,text:n})},p=({applyFeedbackAction:e,entry:t,isFocalTweet:i,isReaderMode:o,tweetDismissFeedbackKey:n,withHideReply:a})=>{const{content:{tombstoneInfo:{revealText:h,richRevealText:u,richText:p,text:m}={},tweet:{forwardPivot:w,id:b,innerForwardPivot:C,innerTombstoneInfo:v,nudges:g}={}},conversationPosition:k,conversationTreeMetadata:I,referringContext:{contextTweetId:y,socialContext:f}={}}=t,T=u?_(u):h,A=p?_(p):m,[E,x]=r.a.useState(!0);r.a.useEffect((()=>{x(!0)}),[b]);const P=r.a.useCallback((()=>{x(!1)}),[]),S=r.a.useCallback((()=>{n&&e({entry:t,feedbackKeys:[n]})}),[e,t,n]);return E||!b?r.a.createElement(l.a,{actionText:T,children:A,conversationPosition:k,conversationTreeMetadata:I,onClick:P}):b?i&&!o?r.a.createElement(d.b,{contextTweetId:y,forwardPivotInfo:w,innerForwardPivotInfo:C,nudges:g,onTweetDismiss:S,quotedTweetTombstoneInfo:v,socialContext:f,tweetId:b,withHideReply:a}):r.a.createElement(c.b,{conversationPosition:k,conversationTreeMetadata:I,displayBlocked:!0,displayPromotedContent:!0,forwardPivotInfo:w,innerForwardPivotInfo:C,isReaderMode:o,nudges:g,onTweetDismiss:S,quotedTweetTombstoneInfo:v,replyContext:o?s.a.ReplyContextTypes.None:void 0,shouldSelfThreadIncludeAvatar:!0,tweetId:b,withActions:!0,withHideReply:a,withInlineMedia:!0,withSocialContext:!0}):null};var m=u(r.a.memo(p));t.default=e=>o.b({component:m,shouldDisplayBorder:e=>{const{conversationPosition:t,treeDisplay:i}=e;return"VerticalConversation"!==(null==i?void 0:i.displayType)&&(!t||!!t.isEnd)}}).getHandler((()=>({...e})))},P1oR:function(e,t,i){"use strict";i.d(t,"a",(function(){return Be}));var o=i("97Jx"),n=i.n(o),r=(i("kYxP"),i("Cm4o"),i("KrtT"),i("ERkP")),s=i.n(r),a=i("MWbm"),l=i("E0cF"),c=i("OIC0"),d=i("+pKb"),h=i("/Ikv"),u=i("qqsb"),_=i.n(u),p=i("zTrU"),m=i("mN6z"),w=i("ONCy"),b=i("aITJ"),C=i("hACr"),v=i("BLtI"),g=i("Cqiq"),k=i("iFPY"),I=i("xM7j"),y=i("3zeG"),f=i("24HD"),T=i("sCEu"),A=i("cFuS"),E=i("7JQg"),x=i("fz3c"),P=i("6bZg"),S=i("Rp9C"),U=i("4hQ9"),F=i("TnY3"),O=i("xZGM"),D=i("v6aA"),L=i("vMOa"),M=i("mqpi"),N=i("zb92"),R=i("RuTB");var B=Object(N.a)({loader:()=>Promise.all([i.e(0),i.e(12),i.e(9),i.e(81)]).then(i.bind(null,"x8Sc")),renderPlaceholder:(e,t)=>s.a.createElement(R.a,{hasError:e,onRetry:t})});var H=Object(N.a)({loader:()=>Promise.all([i.e(0),i.e(3),i.e(4),i.e(5),i.e(88)]).then(i.bind(null,"RrO2")),renderPlaceholder:(e,t)=>s.a.createElement(R.a,{hasError:e,onRetry:t})}),j=i("TZwD"),V=i("jQy5"),q=i("Z6aJ"),K=i("0KEI"),W=i("Ig1G"),G=i("SrIh"),z=i("x5Pi"),J=i("rxPX"),Z=i("EGrD"),Y=i("Fmkq"),Q=i("jL08"),X=i("eSoz"),$=i("j7tW"),ee=i("6rlp"),te=i("0pUJ"),ie=i("RqPI"),oe=i("P1r1"),ne=i("1YZw"),re=i("Zejx"),se=i("XOJV"),ae=i("G6rE");const le=(e,t)=>Object($.b)(e,t.tweetId),ce=(e,t)=>t.tweetId,de=(e,t)=>t.contextTweetId,he=(e,t)=>{const{promotedContent:i,tweetId:o}=t;if(i&&i.advertiser)return ae.e.select(e,i.advertiser.id_str);if(i&&q.a.isPromoted(i)){const{advertiser_name:e}=i;Object(G.a)("No advertiser info for non-URT promoted tweet",{extra:{advertiser_name:e,tweetId:o}})}},ue=(e,t)=>t.socialContext,_e=(e,{socialContext:t})=>{const i=t&&t.topicContext;return i?re.a.select(e,i.topicId):void 0},pe=(e,t)=>{const i=se.a.createHydratedTweetSelector(ce)(e,t);return null!=i&&i.community_id_str?X.c.select(e,null==i?void 0:i.community_id_str):void 0},me=(e,t)=>{const i=se.a.createHydratedTweetSelector(ce)(e,t),o=null==i?void 0:i.quoted_status,n=null==o?void 0:o.community_id_str;return n?X.c.select(e,n):void 0},we=(e,t)=>"PUSH"===t.history.action,be=(e,t)=>Object(O.I)(e,O.l),Ce=(e,t)=>Object(O.G)(e,O.l);var ve=Object(J.a)().propsFromState((()=>({adFreeArticleDomains:Z.c,articleDomains:Q.b,community:pe,contextTweet:se.a.createHydratedTweetSelector(de),daysSinceDownvoteEducation:Ce,displaySensitiveMedia:oe.k,explicitSocialContext:ue,isForwardNavigation:we,isNsfwUser:oe.t,isPinned:le,loggedInUser:ae.e.selectLoggedInUser,promotedContentAdvertiser:he,quoteTweetCommunity:me,shouldShowDownvoteFullscreenEducation:be,topic:_e,tweet:se.a.createHydratedTweetSelector(ce),userCountry:ie.A,userLanguage:ie.q}))).adjustStateProps((({adFreeArticleDomains:e,articleDomains:t,community:i,contextTweet:o,daysSinceDownvoteEducation:n,displaySensitiveMedia:r,explicitSocialContext:s,isForwardNavigation:a,isNsfwUser:l,isPinned:c,loggedInUser:d,promotedContentAdvertiser:h,quoteTweetCommunity:u,shouldShowDownvoteFullscreenEducation:_,topic:p,tweet:m,userCountry:w,userLanguage:b})=>{var C,v,g;const k=o?Object(z.f)(o,null==d?void 0:d.id_str,i):m?Object(z.f)(m,null==d?void 0:d.id_str,i):void 0,I=null==m||null==(C=m.card)||null==(v=C.binding_values)||null==(g=v.domain)?void 0:g.string_value,y=Object(Q.a)(t,I),f=null==m?void 0:m.quoted_status,T=f?Object(z.f)(f,null==d?void 0:d.id_str,u):void 0,A=T&&Object(z.e)(T),E=Object(W.g)(null==i?void 0:i.role),x=s||k;return{adFreeArticleDomains:e,community:i,contextTweet:o,daysSinceDownvoteEducation:n,displaySensitiveMedia:r,isCardArticle:y,isForwardNavigation:a,isNsfwUser:l,isPinned:c,loggedInUser:d,promotedContentAdvertiser:h,quoteTweetSocialContextProps:A,shouldShowDownvoteFullscreenEducation:_,socialContext:x,socialContextColor:Object(W.j)(i,x),topic:p,tweet:m,userCountry:w,userLanguage:b,withCommunityModerationAuthority:E}})).propsFromActions((()=>({addFlag:O.E,addToast:ne.b,block:ae.e.block,createLocalApiErrorHandler:Object(K.createLocalApiErrorHandlerWithContextFactory)("TWEET_DETAIL_CONTAINER"),fetchAdFreeToken:Z.a,fetchCommunityIfNeeded:X.c.fetchOneIfNeeded,fetchTopicIfNeeded:re.a.fetchOneIfNeeded,loadAdFreeArticleDomainsFromPersistence:Z.b,log:ee.a,mute:te.a,updateHeadsUp:se.a.updateHeadsUp,updateLongformNotesLearnMoreBanner:se.a.updateLongformNotesLearnMoreBanner,richScribeAction:Y.richScribeAction,setArticlesVisited:Q.e,unblock:ae.e.unblock,undoTopicNotInterested:re.a.undoNotInterested,unmute:ae.e.unmute})));var ge=Object(N.a)({loader:()=>i.e(214).then(i.bind(null,"5Yok"))}),ke=i("4zmP"),Ie=i("rHpw"),ye=i("IqLm"),fe=i("Irs7");const Te=_.a.c9370e46,Ae=_.a.b4e042ba,Ee=_.a.i859a9d4,xe=Ie.a.create((e=>({root:{borderTopWidth:e.borderWidths.small,borderColor:e.colors.borderColor,borderStyle:"solid"},callout:{margin:e.spaces.space8,width:"auto"}})));var Pe=e=>{const{onAction:t,onClose:i}=e,o=Object(fe.b)();s.a.useEffect((()=>{o.scribe({section:"reply_voting_nux",element:"pre_downvote",action:"impression"})}),[o]);const n=s.a.createElement(_.a.I18NFormatMessage,{$i18n:"id9ba4fb"},s.a.createElement(ye.a,{accessibilityLabel:Ae}));return s.a.createElement(a.a,{style:xe.root},s.a.createElement(ke.a,{action:{label:Ee,link:""},headline:Te,onAction:t,onClose:i,style:xe.callout,text:n,withCloseButton:!0}))},Se=i("Nh1N"),Ue=i("FGLp");const Fe=_.a.de21174c,Oe=_.a.haebcf52,De=_.a.i859a9d4,Le=Ie.a.create((e=>({callout:{marginVertical:e.spaces.space8,marginHorizontal:e.spaces.space16}})));var Me=()=>{const e=Object(fe.b)();return Object(Ue.a)((()=>{e.scribe({element:"left_conversation_banner",action:"impression"})})),s.a.createElement(a.a,{style:Le.callout},s.a.createElement(ke.a,{Icon:Se.a,action:{label:De,link:"https://help.twitter.com/using-twitter/mentions-and-replies#mention-control"},headline:Fe,text:Oe,type:"primary"}))};const Ne=_.a.f277e94a;class Re extends s.a.Component{constructor(...e){var t,i;super(...e),this.state={displayReported:!1,enableKeyboardShortcuts:!1,showDownvoteFullscreenFromInline:!1,replyPressToggle:!1,showBlockOrUnblockConfirmation:!1},this._shouldDisable=M.b.bind(null,this.context.featureSwitches),this._downvoteEnabled=this.context.featureSwitches.isTrue("rweb_reply_downvote_enabled"),this._isArticleNudgeEnabled=this.context.featureSwitches.isTrue("responsive_web_article_nudge_enabled"),this._isCommunitiesEnabled=this.context.featureSwitches.isTrue("c9s_enabled"),this._hasClaimsForAdFreeArticles=null==(t=this.context.userClaims)?void 0:t.isTrueAndEnabled("subscriptions_feature_1006"),this._conversationHeadsUpFSValue=null==(i=this.context.featureSwitches)?void 0:i.getStringValue("conversational_safety_heads_up_treatment_A_enabled"),this._downvoteNuxDays=this.context.featureSwitches.getNumberValue("rweb_reply_downvote_nux_inline_days"),this._twitterArticleLearnMoreBannerEnabled=this.context.featureSwitches.isTrue("responsive_web_twitter_article_view_enabled"),this._getScribeData=Object(p.a)(((e,t,i)=>{const o=function(e,t,i){return{...i||{},items:S.a.addTweetToItems(i?i.items:[],e,t)}}(e,t,i);return this._cachedScribeData&&Object(m.a)(o,this._cachedScribeData)||(this._cachedScribeData=o),this._cachedScribeData})),this._renderConversationControlsTooltip=()=>{const{loggedInUserId:e}=this.context,{tweet:t}=this.props;if(!t)return!1;const i=l.a.getOriginalTweet(t),o=!!i.community_id_str,n=i.user.id_str===e,r=i.reply_count>0;return n&&r&&!i.in_reply_to_status_id_str&&!o},this._renderBlockOrUnblockConfirmationSheet=()=>{const{tweet:e}=this.props;if(!e)return null;const{user:t}=e;return Object(f.j)({confirmation:Object(f.h)(t),onClose:this._handleBlockOrUnblockConfirmClose,handleConfirm:this._handleBlockOrUnblockUserConfirm})},this._shouldShowDownvoteInlineEducation=()=>{const{daysSinceDownvoteEducation:e}=this.props;return this._allowDownvoteEducations()&&null!==e&&e>=this._downvoteNuxDays},this._shouldShowDownvoteFullscreenEducation=()=>{const{isForwardNavigation:e,shouldShowDownvoteFullscreenEducation:t}=this.props;return e&&this._allowDownvoteEducations()&&t},this._allowDownvoteEducations=()=>{const{loggedInUser:e,tweet:t}=this.props,i=new Date;i.setDate(i.getDate()-14);const o=e&&new Date(null==e?void 0:e.created_at)<i;return this._downvoteEnabled&&e&&o&&t&&t.reply_count>=10&&!t.self_thread&&!t.softIntervention&&!t.tombstoneInfo},this._getInlineCalloutInfo=()=>{const{displaySensitiveMedia:e,isNsfwUser:t,scribeNamespace:i,tweet:o,userCountry:n,userLanguage:r}=this.props,{featureSwitches:s,loggedInUserId:a}=this.context;if(o&&Object(U.e)({displaySensitiveMedia:e,featureSwitches:s,isNsfwUser:t,loggedInUserId:a,tweet:o,userCountry:n,userLanguage:r}))return Object(U.d)(o,i,s)},this._handleReplyPress=()=>{this.setState({replyPressToggle:!this.state.replyPressToggle})},this._handleModeratedIconClick=()=>this._scribeAction({element:"moderated_replies_icon",action:"click"}),this._handleModeratedIconShown=()=>this._scribeAction({element:"moderated_replies_icon",action:"impression"}),this._handleBirdwatchNotesIconClick=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"click"}),this._handleBirdwatchNotesIconShown=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"impression"}),this._handleFocus=()=>{this.setState({enableKeyboardShortcuts:!0})},this._handleBlur=()=>{this.setState({enableKeyboardShortcuts:!1})},this._handleShowReportedTweet=()=>{this.setState({displayReported:!0})},this._getShortcutKeyHandlers=()=>{const{onClick:e,shortcutKey:t}=this._getMuteOrUnmuteAction(),{shortcutKey:i}=this._getBlockOrUnblockAction(),{loggedInUserId:o}=this.context,{tweet:n}=this.props;if(!n)return{};const r=n.user.id_str===o;return{...t&&{[t]:e},...i&&!r&&{[i]:this._handleBlockOrUnblockConfirmOpen}}},this._handleBlockOrUnblockConfirmOpen=()=>{this.setState({showBlockOrUnblockConfirmation:!0})},this._handleBlockOrUnblockConfirmClose=()=>{this.setState({showBlockOrUnblockConfirmation:!1})},this._handleBlockOrUnblockUserConfirm=()=>{const{onClick:e}=this._getBlockOrUnblockAction();this._handleBlockOrUnblockConfirmClose(),e&&e()},this._getBlockOrUnblockAction=()=>{const{addToast:e,block:t,contextualBehavioralEventInfo:i,createLocalApiErrorHandler:o,promotedContent:n,tweet:r,unblock:s}=this.props;if(!r)return{};const{user:a}=r,l={addToast:e,behavioralEventEntityToken:null==i?void 0:i.entityToken,createLocalApiErrorHandler:o,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(j.a)({...l,block:t,unblock:s,user:a,promotedContent:n})},this._getMuteOrUnmuteAction=()=>{const{addToast:e,contextualBehavioralEventInfo:t,createLocalApiErrorHandler:i,mute:o,promotedContent:n,tweet:r,unmute:s}=this.props;if(!r)return{};const{user:a}=r,l={addToast:e,behavioralEventEntityToken:null==t?void 0:t.entityToken,createLocalApiErrorHandler:i,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(V.a)({...l,mute:o,unmute:s,user:a,promotedContent:n})},this._getRenderCurationActionMenu=Object(p.a)(((e,t,i,o,n,r,a,l,c,d,h,u,_,p,m,w)=>()=>!!c&&s.a.createElement(y.a,{behavioralEventEntityToken:p,forwardPivotDisplayType:e,isNsfwUser:i,isPinned:o,onDeleteTweet:()=>{const{fromApp:e,usedFallback:i}=n.state||{};e&&!i?t.goBack():t.push("/")},onMenuClick:r,onTweetDismiss:a,promotedContent:l,tweet:c,userCountry:m,userLanguage:w,withChangeConversationControls:d,withChangeConversationControlsTooltip:h,withCommunityModerationAuthority:_,withHideReply:u,withMuteConversation:!0,withViewHiddenReplies:!0}))),this._scribeAction=(e,t,i,o)=>{const{promotedContent:n,richScribeAction:r,scribeNamespace:s,tweet:a}=this.props,l=a?S.a.forTweet(a,n):void 0,c=o?{...l,article_details:{is_ad_free:o}}:l;r({...s,...e},{items:c?[c]:[],...Object(w.a)(i?{click_tracking_embed_details:i}:null),...t})},this._handleReplyContextClick=(e,t)=>{this._scribeAction({element:"reply_context",action:"click"},{event_value:t})},this._handlePromotedIndicatorClick=()=>{this._handleAsyncPromotedEvent(A.b.FOOTER_PROFILE)},this._handleMediaClick=()=>{this._scribeAction({element:"platform_photo_card",action:"click"}),this._handleAsyncPromotedEvent(A.b.EMBEDDED_MEDIA)},this._handleEntityClick=(e,t,i)=>{const{adFreeArticleDomains:o,createLocalApiErrorHandler:n,fetchAdFreeToken:r,tweet:s}=this.props,a=A.a[t],l=P.a[t],h=S.a.getClickTrackingEmbedDetails(this.props.promotedContent,i);if(a){const t=a===A.b.URL_CLICK&&e.currentTarget instanceof window.HTMLElement?{url:e.currentTarget.href}:void 0;this._handleAsyncPromotedEvent(a,t)}t===c.a.URL&&h&&this._scribeAction({action:d.b.CLICK_ID_EMBED},void 0,h);let u=!1;if(this._hasClaimsForAdFreeArticles&&null!=i&&i.expandedUrl){const t=new URL(i.expandedUrl).hostname,[a,l]=new T.a(r,n()).getAdFreeArticlesClickHandler({destinationUrl:i.embeddedUrl,linkDomain:t,adFreeArticleDomains:o,tweetAuthorUserId:null==s?void 0:s.user.id_str});a&&(l(e),u=!0)}if(t===c.a.INTERACTIVE_HIGHLIGHT&&void 0!==(null==i?void 0:i.id))return this._scribeAction({element:"interactive_text",action:l},{interactive_text_details:{id:i.id}},void 0,u);l&&this._scribeAction({action:l},void 0,void 0,u)},this._handlePromotedDisclaimerLearnMoreClick=e=>()=>{this._scribeAction({component:e,element:"learn_more",action:"click"})},this._handlePoliticalSponsorWebsiteClick=()=>{this._scribeAction({component:"political_ad",element:"organization_website",action:"click"})},this._handleAnalyticsClick=()=>{this._scribeAction({element:"analytics",action:"click"})},this._handlePromoteButtonClick=()=>{this._scribeAction({element:"promote",action:"click"})},this._handlePromoteAgainButtonClick=()=>{this._scribeAction({element:"promote_again",action:"click"})},this._handleAvatarClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"avatar",action:"profile_click"},{profile_id:`${e?e.user.id:""}`}),this._handleAsyncPromotedEvent(A.b.PROFILE_IMAGE_CLICK)},this._handleScreenNameClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"user",action:"profile_click"},{profile_id:`${e?e.user.id:""}`}),this._handleAsyncPromotedEvent(A.b.SCREEN_NAME_CLICK)},this._handleCaretClick=()=>{this._scribeAction({element:"caret",action:"click"})},this._handleCommunityFetch=()=>{const{createLocalApiErrorHandler:e,fetchCommunityIfNeeded:t,tweet:i}=this.props;if(i&&this._isCommunitiesEnabled){var o;const n=i.community_id_str,r=null==(o=i.quoted_status)?void 0:o.community_id_str;n&&t(n).catch(e()),r&&t(r).catch(e())}},this._handleHeadsUpRender=()=>{const{conversationAnnotation:e,tweet:t,updateHeadsUp:i}=this.props;if(!t)return null;const o=l.a.getOriginalTweet(t),n=(null==o?void 0:o.reply_count)>20;if(!("Political"===(null==e?void 0:e.conversation_annotation_type)&&n))return null;i(o.id_str)},this._handleLongformNotesLearnMoreRender=()=>{const{tweet:e,updateLongformNotesLearnMoreBanner:t}=this.props;if(e){const i=l.a.getOriginalTweet(e),o=l.a.hasLongformNoteUrl(i);this._twitterArticleLearnMoreBannerEnabled&&o&&t(i.id_str)}},this._handleTopicFetch=()=>{var e;const{createLocalApiErrorHandler:t,fetchTopicIfNeeded:i,socialContext:o}=this.props,n=null==o||null==(e=o.topicContext)?void 0:e.topicId;n&&i(n).catch(t())},this._handleUndoTopicNotInterested=()=>{const{createLocalApiErrorHandler:e,topic:t,undoTopicNotInterested:i}=this.props;this._scribeAction({element:"topic",action:"un_not_interested"}),t&&i(t.id).catch(e())},this._handleUserFollowIndicator=()=>{this._scribeAction({component:"super_follower_educaton",element:"indicator",action:"click"})},this._handleUserFollowIndicatorDismiss=()=>{this._scribeAction({component:"super_follower_education",action:"dismiss"})},this._handleUserFollowIndicatorLearnMoreClick=()=>{this._scribeAction({component:"super_follower_education",element:"learn_more",action:"click"})},this._handleCardLinkClick=e=>{var t;const{adFreeArticleDomains:i,createLocalApiErrorHandler:o,fetchAdFreeToken:n,isCardArticle:r,setArticlesVisited:s,tweet:a}=this.props;if(this._isArticleNudgeEnabled&&r){var l;const e=null==a||null==(l=a.card)?void 0:l.url;var c;if(e)s(e),this._scribeAction({component:"article_nudge",element:"read_article",action:"click"},{items:[{token:null==a||null==(c=a.card)?void 0:c.url,in_reply_to_tweet_id:null==a?void 0:a.id_str}]})}const d=null==a||null==(t=a.card)?void 0:t.binding_values;if(this._hasClaimsForAdFreeArticles&&d){const[t,r]=new T.a(n,o()).getAdFreeArticlesClickHandler({destinationUrl:h.a.getBindingValue(d,"card_url"),linkDomain:h.a.getBindingValue(d,"domain"),adFreeArticleDomains:i});t&&r(e)}},this._handleMediaHashtagHighlightClick=()=>{this._handleAsyncPromotedEvent(A.b.HASHTAG_CLICK)}}componentDidMount(){this._handleTopicFetch(),this._handleCommunityFetch(),this._handleHeadsUpRender(),this._handleLongformNotesLearnMoreRender(),this._hasClaimsForAdFreeArticles&&this.props.loadAdFreeArticleDomainsFromPersistence()}componentDidUpdate(e){if(this.props.tweet&&e.tweet&&!e.tweet.user.blocking&&this.props.tweet.user.blocking){const{history:e}=this.props;e.goBack({backLocation:"/"})}this.props.conversationAnnotation!==e.conversationAnnotation&&this._handleHeadsUpRender()}componentWillUnmount(){const{addFlag:e}=this.props;this._shouldShowDownvoteInlineEducation()&&e(O.l,{updateTimestamp:!0})}render(){const{loggedInUserId:e}=this.context,{tweet:t}=this.props;if(!t)return null;const i=t.user.id_str===e,o=Object(g.b)(t.withheld_scope),n=Object(x.h)(t)&&!this.state.displayReported;return s.a.createElement(s.a.Fragment,null,o?s.a.createElement(a.a,null,this._renderWithheldTweet(),i?this._renderTweetComponent():null):n?this._renderReportedTombstone():this._renderTweetComponent(),this._renderIntentPrompt(),this.state.showBlockOrUnblockConfirmation&&!i?this._renderBlockOrUnblockConfirmationSheet():null)}_renderIntentPrompt(){const{forwardPivotInfo:e,history:t,nudges:i,tweet:o}=this.props;if(o&&t.location.pathname.indexOf("/intent/")>-1)return s.a.createElement(k.a,{forwardPivotInfo:e,history:t,location:t.location,nudges:i,tweetId:o.id_str})}_renderTweetComponent(){var e,t;const{allowDownvote:i,changeDropdownState:o,contextTweet:r,contextualBehavioralEventInfo:a,conversationAnnotation:c,forwardPivotInfo:d,hasModeratedReplies:h,history:u,innerForwardPivotInfo:_,innerNudges:p,isNsfwUser:w,isPinned:b,location:g,loggedInUser:k,nudges:I,onTweetDismiss:y,promotedContent:f,promotedContentAdvertiser:T,quoteTweetSocialContextProps:A,quotedTweetTombstoneInfo:x,readerModeAvailable:P,replyBadge:S,replyDropdownSelection:U,rootTweetAuthorId:F,scribeData:O,scribeNamespace:D,socialContext:M,socialContextColor:N,topic:R,topicFollowPrompt:B,tweet:H,userCountry:j,userLanguage:V,withActions:q,withCommunityModerationAuthority:K,withHideReply:W,withInlineMedia:G,withSocialContext:z}=this.props;if(!H)return null;const{loggedInUserId:J}=this.context,{enableKeyboardShortcuts:Z}=this.state,Y=H&&H.card&&!H.is_quote_status?H.card.url:void 0,Q=l.a.getOriginalTweet(H),X={allowDownvote:i,contextTweet:r,enableKeyboardShortcuts:Z,excludeCardUrl:Y,forwardPivotInfo:d,hasModeratedReplies:h,innerForwardPivotInfo:_,loggedInUser:k,promotedContent:f,promotedContentAdvertiser:T,quotedTweetTombstoneInfo:x,quoteTweetSocialContextProps:A,readerModeAvailable:P,socialContext:M,socialContextColor:N,topic:R,topicFollowPrompt:B,tweet:H,replyBadge:S,rootTweetAuthorId:F,withActions:q,withInlineMedia:G,withSocialContext:z,nudges:I,innerNudges:p},$=Object(m.a)(this._cachedScribeNamespace,D)?this._cachedScribeNamespace:this._cachedScribeNamespace=D,ee=Q.user.id_str===J,te=!Q.in_reply_to_status_id_str&&ee&&!Q.community_id_str,ie=this._renderConversationControlsTooltip(),oe=!!Q.in_reply_to_status_id_str,ne=(null==Q?void 0:Q.reply_count)>20,re="Political"===(null==c?void 0:c.conversation_annotation_type)&&(null==(e=H.headsUp)?void 0:e.showBanner)&&!oe&&ne,se=null==(t=Q.longformNotesLearnMore)?void 0:t.showBanner,ae=this.context.featureSwitches.isTrue("responsive_web_deamplification_replies_dropdown_selector_enabled")&&H.reply_count>0;return s.a.createElement(E.c,{data:this._getScribeData(H.retweeted_status||H,f,O),namespace:$},s.a.createElement(C.a,{enabled:!!Z,handlers:this._getShortcutKeyHandlers()},this._renderLeftConversationBanner(),s.a.createElement(v.b,n()({},X,{inlineCalloutInfo:this._getInlineCalloutInfo(),isFocal:!0,onAnalyticsClick:this._handleAnalyticsClick,onAvatarClick:this._handleAvatarClick,onBirdwatchNotesIconClick:this._handleBirdwatchNotesIconClick,onBirdwatchNotesIconShown:this._handleBirdwatchNotesIconShown,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onEntityClick:this._handleEntityClick,onFocus:this._handleFocus,onMediaClick:this._handleMediaClick,onMediaHashtagHighlightClick:this._handleMediaHashtagHighlightClick,onModeratedIconClick:this._handleModeratedIconClick,onModeratedIconShown:this._handleModeratedIconShown,onPoliticalSponsorWebsiteClick:this._handlePoliticalSponsorWebsiteClick,onPromoteAgainButtonClick:this._handlePromoteAgainButtonClick,onPromoteButtonClick:this._handlePromoteButtonClick,onPromotedDisclaimerLearnMoreClick:this._handlePromotedDisclaimerLearnMoreClick,onPromotedIndicatorClick:this._handlePromotedIndicatorClick,onReplyContextClick:this._handleReplyContextClick,onReplyPress:this._handleReplyPress,onScreenNameClick:this._handleScreenNameClick,onUndoTopicNotInterestedClick:this._handleUndoTopicNotInterested,onUserFollowIndicatorClick:this._handleUserFollowIndicator,onUserFollowIndicatorDismissClick:this._handleUserFollowIndicatorDismiss,onUserFollowIndicatorLearnMoreClick:this._handleUserFollowIndicatorLearnMoreClick,renderCurationActionMenu:this._getRenderCurationActionMenu(null==d?void 0:d.displayType,u,w,b,g,this._handleCaretClick,y,f,l.a.getOriginalTweet(H),te,ie,W,K,null==a?void 0:a.entityToken,j,V),showConversationHeadsUp:re,showLongformNotesLearnMoreBanner:se})),ae?s.a.createElement(L.a,{changeDropdownState:o,replyDropdownSelection:U}):null,this._renderInlineReply(),this._renderDownvoteEducation()))}_renderLeftConversationBanner(){var e;const{tweet:t}=this.props,{loggedInUserId:i}=this.context;return(null==t||null==(e=t.unmentioned_user_ids)?void 0:e.includes(i))?s.a.createElement(Me,null):null}_renderDownvoteEducation(){const{addFlag:e}=this.props,{showDownvoteFullscreenFromInline:t}=this.state;return s.a.createElement(s.a.Fragment,null,t||this._shouldShowDownvoteFullscreenEducation()?s.a.createElement(ge,{onDismiss:()=>{t?this.setState({showDownvoteFullscreenFromInline:!1}):e(O.l)}}):null,this._shouldShowDownvoteInlineEducation()?s.a.createElement(Pe,{onAction:()=>{this.setState({showDownvoteFullscreenFromInline:!0})},onClose:()=>{e(O.l,{updateTimestamp:!0})}}):null)}_renderInlineReply(){const{history:e,location:t,tweet:i,tweetId:o}=this.props,{replyPressToggle:n}=this.state,{loggedInUserId:r}=this.context;if(!i)return null;const a=r&&!this._shouldDisable(i,M.a.Reply),l=b.b.isMobileOS()?B:H;return a?s.a.createElement(l,{history:e,location:t,parentTweetId:o,replyPressToggle:n}):null}_renderWithheldTweet(){const{tweet:e}=this.props;return!!e&&s.a.createElement(g.a,{displayTextRange:e.display_text_range,entities:e.withheld_entities||e.entities,lang:e.lang,text:e.withheld_text||e.text})}_renderReportedTombstone(){const{tweet:e}=this.props;if(e){const t=l.a.getOriginalTweet(e),i=Object(x.c)(t.reportingVisibility);return s.a.createElement(I.a,{actionText:Ne,lang:e.lang,onClick:this._handleShowReportedTweet},i)}}_handleAsyncPromotedEvent(e,t){const{createLocalApiErrorHandler:i,log:o,promotedContent:n,tweet:r}=this.props;if(r&&n){const{disclosure_type:s,impression_id:a}=n;o({disclosureType:s,itemId:r.id_str,itemType:"tweet",params:{event:e,impression_id:a,...t}}).catch(i())}}}Re.contextType=D.a;const Be=Object(F.a)(ve(Re));t.b=Object(E.a)({component:"tweet"})(Be)},j7tW:function(e,t,i){"use strict";i.d(t,"a",(function(){return h})),i.d(t,"c",(function(){return u})),i.d(t,"b",(function(){return _}));i("kYxP");var o=i("x5Pi"),n=i("PiaM"),r=i("oEOe"),s=i("SRyb"),a=i("G6rE");const l="rweb/pinnedTweets",c=r.a(l,"PIN"),d=r.a(l,"UNPIN"),h=e=>(t,i,{api:l,featureSwitches:d})=>r.c(t,{params:{id:e},request:l.Tweets.pin})({actionTypes:c,context:"ACTION_PIN_TWEET",meta:{tweetId:e}},(r=>{const l=a.e.selectLoggedInUser(i());if(void 0===l)return;const c=l.id_str,h=l.pinned_tweet_ids_str&&l.pinned_tweet_ids_str[0];t(a.e.patchUser(c,{pinned_tweet_ids_str:[e]}));const u=Object(s.a)(d,c,"default");return[...h?[u.removeTweets({[h]:!0}),u.injectEntry(n.k({id:h,sortIndex:h}),{atTop:!1})]:[],u.removeTweets({[e]:!0}),u.injectEntry(n.k({id:e,content:{socialContext:{generalContext:o.a}},sortIndex:"NOT_USED"}))]})),u=e=>(t,i,{api:o,featureSwitches:l})=>r.c(t,{params:{id:e},request:o.Tweets.unpin})({actionTypes:d,context:"ACTION_UNPIN_TWEET",meta:{tweetId:e}},(o=>{const r=a.e.selectLoggedInUser(i());if(void 0===r)return;const c=r.id_str;return t(a.e.patchUser(c,{pinned_tweet_ids_str:[]})),[Object(s.a)(l,c,"default").removeTweets({[e]:!0}),Object(s.a)(l,c,"default").injectEntry(n.k({id:e,sortIndex:e}),{atTop:!1})]})),_=(e,t)=>{const i=a.e.selectLoggedInUser(e);return!(null==i||!i.pinned_tweet_ids_str)&&i.pinned_tweet_ids_str[0]===t}},xZXe:function(e,t,i){"use strict";i.d(t,"a",(function(){return De}));var o=i("97Jx"),n=i.n(o),r=(i("kYxP"),i("Cm4o"),i("KrtT"),i("ERkP")),s=i.n(r),a=i("MWbm"),l=i("E0cF"),c=i("OIC0"),d=i("+pKb"),h=i("/Ikv"),u=i("Z6aJ"),_=i("lHOd"),p=i("qqsb"),m=i.n(p),w=i("fs1G"),b=i("zTrU"),C=i("mN6z"),v=i("hACr"),g=i("BLtI"),k=i("Cqiq"),I=i("iFPY"),y=i("xM7j"),f=i("3zeG"),T=i("24HD"),A=i("ZyXd"),E=i("sCEu"),x=i("IO7v"),P=i("cFuS"),S=i("7JQg"),U=i("fz3c"),F=i("6bZg"),O=i("X04g"),D=i("Rp9C"),L=i("3IPs"),M=i("uArA"),N=i("4hQ9"),R=i("v6aA"),B=i("TZwD"),H=i("jQy5"),j=i("0KEI"),V=i("Ig1G"),q=i("x5Pi"),K=i("rxPX"),W=i("EGrD"),G=i("Fmkq"),z=i("jL08"),J=i("eSoz"),Z=i("j7tW"),Y=i("6rlp"),Q=i("0pUJ"),X=i("RqPI"),$=i("P1r1"),ee=i("1YZw"),te=i("Zejx"),ie=i("XOJV"),oe=i("D5n3"),ne=i("G6rE");const re=(e,{tweetId:t})=>Object(Z.b)(e,t),se=(e,t)=>t.tweetId,ae=(e,{urtAdvertiser:t,urtPromotedContent:i})=>{if(e&&i){const o=e.promoted_content;return{...e,promoted_content:{adMetadataContainer:i.adMetadataContainer,disclosure_type:i.disclosureType,experiment_values:i.experimentValues,impression_id:i.impressionId,advertiser:t?{id_str:t.id_str}:void 0,advertiser_name:(null==t?void 0:t.name)||void 0,click_tracking_info:i.clickTrackingInfo,...o}}}return e},le=(e,{socialContext:t})=>t,ce=(e,{socialContext:t})=>{const i=t&&t.topicContext;return i?te.a.select(e,i.topicId):void 0},de=(e,t)=>{const i=t.tweetId,o=i&&ie.a.select(e,i);return o?Object(J.g)(e,o):void 0},he=(e,t)=>{const i=ie.a.createHydratedTweetSelector(se)(e,t),o=null==i?void 0:i.quoted_status;return o?Object(J.g)(e,o):void 0},ue=(e,{urtPromotedContent:t})=>t,_e=(e,{urtPromotedContent:t})=>t?ne.e.select(e,t.advertiserId):null,pe=(e,t)=>t.contextTweetId;var me=Object(K.a)().propsFromState((()=>({adFreeArticleDomains:W.c,articleDomains:z.b,community:de,contextTweet:ie.a.createHydratedTweetSelector(pe),displaySensitiveMedia:$.k,explicitSocialContext:le,isNsfwUser:$.t,isPinned:re,loggedInUser:ne.e.selectLoggedInUser,quoteTweetCommunity:he,topic:ce,tweet:ie.a.createHydratedTweetSelector(se),urtAdvertiser:_e,urtPromotedContent:ue,userCountry:X.A,userLanguage:X.q}))).adjustStateProps((({adFreeArticleDomains:e,articleDomains:t,community:i,contextTweet:o,displaySensitiveMedia:n,explicitSocialContext:r,isNsfwUser:s,isPinned:a,loggedInUser:l,quoteTweetCommunity:c,topic:d,tweet:h,urtAdvertiser:u,urtPromotedContent:_,userCountry:p,userLanguage:m})=>{var w,b,C;const v=h&&Object(q.f)(h,null==l?void 0:l.id_str),g=null==h||null==(w=h.card)||null==(b=w.binding_values)||null==(C=b.domain)?void 0:C.string_value,k=Object(z.a)(t,g),I=null==h?void 0:h.quoted_status,y=I?Object(q.f)(I,null==l?void 0:l.id_str,c):void 0,f=y&&Object(q.e)(y),T=Object(V.g)(null==i?void 0:i.role),A=r||v;return{adFreeArticleDomains:e,contextTweet:o,displaySensitiveMedia:n,isCardArticle:k,isNsfwUser:s,isPinned:a,loggedInUser:l,promotedContentAdvertiser:u||void 0,quoteTweetSocialContextProps:f,socialContext:A,socialContextColor:Object(V.j)(i,A),topic:d,tweet:ae(h,{urtPromotedContent:_,urtAdvertiser:u}),userCountry:p,userLanguage:m,withCommunityModerationAuthority:T}})).propsFromActions((()=>({addToast:ee.b,block:ne.e.block,createLocalApiErrorHandler:Object(j.createLocalApiErrorHandlerWithContextFactory)("TWEET_CONTAINER_CONTEXT"),log:Y.a,fetchAdFreeToken:W.a,fetchCommunityIfNeeded:J.c.fetchOneIfNeeded,fetchTopicIfNeeded:te.a.fetchOneIfNeeded,loadAdFreeArticleDomainsFromPersistence:W.b,mute:Q.a,onUnretweet:oe.a,richScribeAction:G.richScribeAction,setArticlesVisited:z.e,undoTopicNotInterested:te.a.undoNotInterested,unblock:ne.e.unblock,unmute:ne.e.unmute,updateLongformNotesLearnMoreBanner:ie.a.updateLongformNotesLearnMoreBanner}))).withAnalytics(),we=i("Irs7");var be=i("64vW"),Ce=i("gZV8"),ve=i("rHpw");function ge(e){const{id:t,onFullyVisible:i,position:o,testID:n}=e,r=s.a.useMemo((()=>{switch(o){case"top":return ke.topPixel;case"bottom":return ke.bottomPixel;case"right":return ke.rightPixel;case"left":return ke.leftPixel;default:return}}),[o]),l=s.a.useCallback((e=>{e.visibleFraction()>=Ce.c&&i()}),[i]);return s.a.createElement(a.a,{style:[ke.impressionPixelContainer,r],testID:n},s.a.createElement(Ce.e,{key:t,onPlacementChange:l},s.a.createElement(a.a,{style:ke.impressionPixel})))}const ke=ve.a.create((e=>({impressionPixel:{visibility:"hidden",height:"1px",width:"1px"},impressionPixelContainer:{position:"absolute"},topPixel:{top:"0",right:"50%"},bottomPixel:{bottom:"0",right:"50%"},rightPixel:{right:"0",top:"50%"},leftPixel:{left:"0",top:"50%"}}))),Ie="top-impression-pixel",ye="bottom-impression-pixel",fe="right-impression-pixel",Te="left-impression-pixel";class Ae extends s.a.PureComponent{constructor(...e){super(...e),this._areHeightsReady=()=>this.props.heightsReady,this._renderImpressionPixels=e=>s.a.createElement(s.a.Fragment,null,s.a.createElement(ge,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"top",testID:Ie}),s.a.createElement(ge,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"right",testID:fe}),s.a.createElement(ge,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"bottom",testID:ye}),s.a.createElement(ge,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"left",testID:Te})),this._handleOnVisible=e=>()=>{const{id:t,onVisible:i}=this.props,o=e();o&&this._lastVisibleId!==t&&i&&(this._lastVisibleId=t,i(o))},this._handlePlacementChange=e=>{const{id:t,onFullyVisible:i,onVisible:o,shouldUseImpressionPixel:n}=this.props;if(!this._areHeightsReady())return;n||this._lastVisibleId!==t&&e.verticalOverlap()>=1&&(this._lastVisibleId=t,o(e));const r=e.visibleFraction()>=Ce.c,s=e.item.height>e.viewport.height,a=e.verticalOverlap()===e.viewport.height||s&&e.visibleFraction()>=Ce.d;this._lastFullyVisibleId!==t&&(r||a)&&(this._lastFullyVisibleId=t,i&&i(e))},this._handleLayout=e=>{const{nativeEvent:{layout:{height:t,width:i}}}=e,o={width:i,height:t};if(this._prevLayout&&(this._prevLayout.width!==i||this._prevLayout.height!==t)){const{onResize:e}=this.props;e&&e(this._prevLayout,o)}this._prevLayout=o}}render(){const{children:e,id:t,shouldUseImpressionPixel:i}=this.props;return s.a.createElement(Ce.e,{key:t,onLayout:this._handleLayout,onPlacementChange:this._handlePlacementChange},(({getScrollPlacement:t})=>s.a.createElement(s.a.Fragment,null,i&&this._areHeightsReady()&&this._renderImpressionPixels(t),e)))}}function Ee(e){return s.a.createElement(be.a.Consumer,null,(({heightsReady:t})=>s.a.createElement(Ae,n()({},e,{heightsReady:t}))))}const xe=m.a.f277e94a,Pe=m.a.e4c6c30a;class Se extends s.a.Component{constructor(e,t){var i;super(e,t),this._shouldLogPromotedImpression=Fe.bind(null,this.context.featureSwitches),this._isProbablyRemovedByAdBlocker=Ue.bind(null,this.context.featureSwitches),this._isArticleNudgeEnabled=this.context.featureSwitches.isTrue("responsive_web_article_nudge_enabled"),this._isCompatibilityScribeEnabled=this.context.featureSwitches.isTrue("responsive_web_extension_compatibility_scribe"),this._isCommunitiesEnabled=this.context.featureSwitches.isTrue("c9s_enabled"),this._shouldUseImpressionPixel=this.context.featureSwitches.isTrue("responsive_web_impression_pixel_enabled"),this._hasClaimsForAdFreeArticles=null==(i=this.context.userClaims)?void 0:i.isTrueAndEnabled("subscriptions_feature_1006"),this._twitterArticleLearnMoreBannerEnabled=this.context.featureSwitches.isTrue("responsive_web_twitter_article_view_enabled"),this._renderBlockOrUnblockConfirmationSheet=()=>{const{tweet:e}=this.props,{user:t}=e;return Object(T.j)({confirmation:Object(T.h)(t),onClose:this._handleBlockOrUnblockConfirmClose,handleConfirm:this._handleBlockOrUnblockUserConfirm})},this._handleShowReportedTweet=()=>{this.setState({displayReported:!0,enableKeyboardShortcuts:!1})},this._handleUnretweet=()=>{const{createLocalApiErrorHandler:e,onUnretweet:t,tweet:i}=this.props;t(l.a.getOriginalTweet(i).id_str,{promotedContent:i.promoted_content}).catch(e(x.a))},this._getShortcutKeyHandlers=()=>{const{onClick:e,shortcutKey:t}=this._getMuteOrUnmuteAction(),{shortcutKey:i}=this._getBlockOrUnblockAction(),o=this.context.loggedInUserId===this.props.tweet.user.id_str;return{...t&&{[t]:e},...i&&!o&&{[i]:this._handleBlockOrUnblockConfirmOpen}}},this._handleBlockOrUnblockConfirmOpen=()=>{this.setState({showBlockOrUnblockConfirmation:!0})},this._handleBlockOrUnblockConfirmClose=()=>{this.setState({showBlockOrUnblockConfirmation:!1})},this._handleBlockOrUnblockUserConfirm=()=>{const{onClick:e}=this._getBlockOrUnblockAction();this._handleBlockOrUnblockConfirmClose(),e&&e()},this._getBaseTweetProps=()=>{var e,t;const{contextualClientEventInfo:i,conversationTreeMetadata:o,feedbackItems:n,focalTweetId:r,forwardPivotInfo:s,handleBlockTrigger:a,isNsfwUser:c,isPinned:d,onTweetDismiss:h,ruxContext:u,saveAsRecentSearch:_,scribeData:p,shouldStoreTypeaheadItem:m,socialContext:w,topicFollowPrompt:b,tweet:C,userCountry:v,userLanguage:g,withActionsDisabled:k,withCommunityModerationAuthority:I,withCurationMenu:y,withHideReply:f,withMuteConversation:T,withUnhideReply:A,withViewHiddenReplies:E}=this.props,x=l.a.getOriginalTweet(C),P=this._getPromotedContent(),S=p.items&&p.items[0]&&p.items[0].suggestion_details,U=this._isSelected(),F=x&&x.card&&!C.is_quote_status?x.card.url:void 0,{loggedInUserId:O}=this.context,D=(null==x||null==(e=x.user)?void 0:e.id_str)===O,L=!x.in_reply_to_status_id_str&&D&&!x.community_id_str,M=this._renderConversationControlsTooltip(),N=null==(t=x.longformNotesLearnMore)?void 0:t.showBanner;return{excludeCardUrl:F,inlineCalloutInfo:this._getInlineCalloutInfo(),isFocal:r===C.id_str,onAnalyticsClick:this._handleAnalyticsClick,onAvatarClick:this._handleAvatarClick,onBirdwatchNotesIconClick:this._handleBirdwatchNotesIconClick,onBirdwatchNotesIconShown:this._handleBirdwatchNotesIconShown,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onClick:C.isPreview?this._handlePreviewClick:this._handleTweetClick,onEntityClick:this._handleEntityClick,onFocus:this._handleFocus,onLikeSuccess:this._handleLikeSuccess,onMediaClick:C.isPreview?this._handleEmbeddedMediaPreviewClick:this._handleEmbeddedMediaClick,onMediaHashtagHighlightClick:this._handleMediaHashtagHighlightClick,onModeratedIconClick:this._handleModeratedIconClick,onModeratedIconShown:this._handleModeratedIconShown,onPoliticalSponsorWebsiteClick:this._handlePoliticalSponsorWebsiteClick,onPromoteButtonClick:this._handlePromoteButtonClick,onPromoteAgainButtonClick:this._handlePromoteAgainButtonClick,onPromotedDisclaimerLearnMoreClick:this._handlePromotedDisclaimerLearnMoreClick,onPromotedIndicatorClick:this._handlePromotedIndicatorClick,onPromotedUserProfileCardClick:this._handlePromotedUserProfileCardClick,onQuoteTweetClick:this._handleQuoteTweetClick,onReply:this._handleInlineReplyClick,onReplyContextClick:this._handleReplyContextClick,onScreenNameClick:this._handleScreenNameClick,onSelfThreadClick:this._handleSelfThreadClick,onSelfThreadImpression:this._handleSelfThreadImpression,onUndoTopicNotInterestedClick:this._handleUndoTopicNotInterested,onUserFollowIndicatorClick:this._handleUserFollowIndicator,onUserFollowIndicatorDismissClick:this._handleUserFollowIndicatorDismiss,onUserFollowIndicatorLearnMoreClick:this._handleUserFollowIndicatorLearnMoreClick,onVibeClick:this._handleVibeClick,promotedContent:P,renderCurationActionMenu:y&&!C.isPreview?this._getRenderCurationActionMenu(s&&s.displayType,n,a,k,c,d,U,this._handleCaretClick,h,P,x,f,I,T,A,L,E,o,null==i?void 0:i.entityToken,M,v,g):void 0,saveAsRecentSearch:_,shouldStoreTypeaheadItem:m,showLongformNotesLearnMoreBanner:N,to:{state:{focal:x.id_str,socialContext:w,contextualClientEventInfo:i,contextTweetId:C.id_str,promotedContent:P,suggestionDetails:S,topicFollowPrompt:b},pathname:x.permalink,query:u?{cxt:u}:void 0}}},this._getReaderModeTweetProps=()=>{var e;const{contextualClientEventInfo:t,hideHighlightedUserLabel:i,ruxContext:o,scribeData:n,socialContext:r,topicFollowPrompt:s,tweet:a,tweetTextSize:c}=this.props,d=l.a.getOriginalTweet(a),h=this._getPromotedContent(),u=n.items&&n.items[0]&&n.items[0].suggestion_details;return{excludeCardUrl:null==(e=a.card)?void 0:e.url,hideHighlightedUserLabel:i,onAnalyticsClick:w.a,onAvatarClick:w.a,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onClick:a.isPreview?this._handlePreviewClick:this._handleTweetClick,onEntityClick:w.a,onFocus:this._handleFocus,onMediaClick:this._handleEmbeddedMediaClick,onReplyContextClick:w.a,to:{state:{focal:d.id_str,socialContext:r,contextualClientEventInfo:t,contextTweetId:a.id_str,promotedContent:h,suggestionDetails:u,topicFollowPrompt:s},pathname:d.permalink,query:o?{cxt:o}:void 0},tweet:a,tweetTextSize:c||"headline1",withActions:!1,withAvatarLink:!1,withReaderModeBottomBar:!0,withUserAvatar:!1,withUserHoverCard:!1,withUserName:!1,withTimestamp:!1}},this._getInlineCalloutInfo=()=>{const{displaySensitiveMedia:e,isNsfwUser:t,scribeNamespace:i,tweet:o,userCountry:n,userLanguage:r}=this.props,{featureSwitches:s,loggedInUserId:a}=this.context;if(Object(N.e)({displaySensitiveMedia:e,featureSwitches:s,isNsfwUser:t,loggedInUserId:a,tweet:o,userCountry:n,userLanguage:r}))return Object(N.d)(o,i,s)},this._getBlockOrUnblockAction=()=>{const{addToast:e,block:t,contextualClientEventInfo:i,createLocalApiErrorHandler:o,tweet:n,unblock:r}=this.props,{user:s}=n,a=this._getPromotedContent(),l={addToast:e,behavioralEventEntityToken:null==i?void 0:i.entityToken,createLocalApiErrorHandler:o,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(B.a)({...l,block:t,unblock:r,user:s,promotedContent:a})},this._getMuteOrUnmuteAction=()=>{const{addToast:e,contextualClientEventInfo:t,createLocalApiErrorHandler:i,mute:o,tweet:n,unmute:r}=this.props,{user:s}=n,a={addToast:e,behavioralEventEntityToken:null==t?void 0:t.entityToken,createLocalApiErrorHandler:i,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}},l=this._getPromotedContent();return Object(H.a)({...a,mute:o,unmute:r,user:s,promotedContent:l})},this._renderConversationControlsTooltip=()=>{const{loggedInUserId:e}=this.context,{showMidConversationControlEducationText:t,tweet:i}=this.props,o=l.a.getOriginalTweet(i);if(!o)return!1;const n=!!o.community_id_str,r=o.user&&o.user.id_str===e,s=o.reply_count>0;return!o.in_reply_to_status_id_str&&r&&s&&!n&&t},this._getRenderCurationActionMenu=Object(b.a)(((e,t,i,o,n,r,a,l,c,d,h,u,_,p,m,w,b,C,v,g,k,I)=>()=>s.a.createElement(f.a,{behavioralEventEntityToken:v,feedbackItems:t,forwardPivotDisplayType:e,handleBlockTrigger:i,isDisabled:o,isNsfwUser:n,isPinned:r,onMenuClick:l,onTweetDismiss:c,promotedContent:d,tweet:h,userCountry:k,userLanguage:I,withChangeConversationControls:w,withChangeConversationControlsTooltip:g,withCommunityModerationAuthority:_,withHideReply:u,withMuteConversation:p,withUnhideReply:m,withViewHiddenReplies:b}))),this._getDefaultScribeData=Object(b.a)(((e,t,i,o,n,r)=>{const s=(({clickTrackingEmbedDetails:e,contextualScribeData:t,isSelected:i,overflow:o,promotedContent:n,scribeData:r,tweet:s})=>({...t||{},...r||{},...e&&{click_tracking_embed_details:e},items:D.a.addTweetToItems(r?r.items:[],s,n,i,o)}))({tweet:e,promotedContent:t,scribeData:i,overflow:o,isSelected:this._isSelected(),contextualScribeData:n,clickTrackingEmbedDetails:r});return this._cachedFinalScribeData&&Object(C.a)(s,this._cachedFinalScribeData)||(this._cachedFinalScribeData=s),this._cachedFinalScribeData})),this._scribeAction=(e,t={},i,o,n)=>{var r;const{analytics:s,history:a,richScribeAction:c,scribeData:d,scribeNamespace:h,tweet:u}=this.props,_=null==(r=a.location.state)?void 0:r.overflow,p=this._getPromotedContent();let m=d;if(o){const e=D.a.getUserItem(u.user,p),t=m.items?[...m.items,e]:[e];m={...m,items:t}}if(n){const e={article_details:{is_ad_free:n}},t=m.items?[...m.items,e]:[e];m={...m,items:t}}c({...h,...e},{...this._getDefaultScribeData(l.a.getOriginalTweet(u),p,m,_,s.contextualScribeData,i),...t})},this._handlePoliticalSponsorWebsiteClick=()=>{this._scribeAction({component:"political_ad",element:"organization_website",action:"click"})},this._handlePromotedDisclaimerLearnMoreClick=e=>()=>{this._scribeAction({component:e,element:"learn_more",action:"click"})},this._handlePromotedIndicatorClick=()=>{this._handleAsyncPromotedEvent(P.b.FOOTER_PROFILE)},this._handleFocus=()=>{this.setState({enableKeyboardShortcuts:!0})},this._handleBlur=()=>{this.setState({enableKeyboardShortcuts:!1})},this._getPromotedContent=()=>{const{displayPromotedContent:e,tweet:t}=this.props;return e?t.promoted_content:void 0},this._handleImpression=e=>{this._shouldLogPromotedImpression(e)&&this._handleAsyncPromotedEvent(P.b.IMPRESSION)},this._handleFullyVisible=e=>{this._shouldLogPromotedImpression(e)&&this._handleAsyncPromotedEvent(P.b.DWELL)},this._handleResize=(e,t)=>{!this._isProbablyRemovedByAdBlocker(e)&&this._isProbablyRemovedByAdBlocker(t)&&(A.a.recordAdBlockerPresence(),this._isCompatibilityScribeEnabled&&this._scribeAction({action:"blocked_ad"}))},this._handleInlineReplyClick=e=>{const{loggedInUserId:t}=this.context,{history:i,tweet:o}=this.props,n=this._getPromotedContent();e.preventDefault(),this._scribeAction({element:"inline_reply",action:"reply"}),i.push({state:{inReplyToStatusId:o.id_str,isSelfThreadReply:!!t&&Object(N.c)({tweet:o,loggedInUserId:t}),promotedContent:n},pathname:"/compose/tweet"})},this._handleLikeSuccess=()=>{if(this.context.featureSwitches.isTrue("home_timeline_like_reactivity_enabled")){const{onLike:e}=this.props,t="LikeReactionFatigue";try{const i=JSON.parse(window.sessionStorage.getItem(t))||0;i<this.context.featureSwitches.getNumberValue("home_timeline_like_reactivity_fatigue")&&e&&e().then((e=>{null!=e&&e.performed&&window.sessionStorage.setItem(t,JSON.stringify(i+1))}))}catch(e){}}},this._handleReplyContextClick=(e,t)=>this._scribeAction({element:"reply_context",action:"click"},{event_value:t}),this._handleAsyncPromotedEvent=(e,t)=>{const{createLocalApiErrorHandler:i,log:o,tweet:n}=this.props,r=this._getPromotedContent();if(r){const{disclosure_type:s,impression_id:a}=r;o({disclosureType:s,itemId:n.id_str,itemType:P.c.TWEET,params:{event:e,impression_id:a,...t}}).catch(i())}},this._handleModeratedIconClick=()=>this._scribeAction({element:"moderated_replies_icon",action:"click"}),this._handleModeratedIconShown=()=>this._scribeAction({element:"moderated_replies_icon",action:"impression"}),this._handleBirdwatchNotesIconClick=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"click"}),this._handleBirdwatchNotesIconShown=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"impression"}),this._handleAnalyticsClick=()=>{this._scribeAction({element:"analytics",action:"click"})},this._handlePromoteButtonClick=()=>{this._scribeAction({element:"promote",action:"click"})},this._handlePromoteAgainButtonClick=()=>{this._scribeAction({element:"promote_again",action:"click"})},this._handleVibeClick=()=>{var e,t;const{tweet:i}=this.props;this._scribeAction({element:"vibe_pill",action:"click"},{items:[{id:i.id_str,vibe_details:{vibe_text:null==(e=i.vibe)?void 0:e.text,...null==(t=i.vibe)?void 0:t.annotation}}]})},this._handleAvatarClick=()=>{const{tweet:e}=this.props;this._handleSaveAsRecentSearchUser(),this._scribeAction({element:"avatar",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(P.b.PROFILE_IMAGE_CLICK)},this._handleCaretClick=()=>this._scribeAction({element:"caret",action:"click"}),this._handleTweetClick=Object(M.a)((e=>{if(!e.defaultPrevented){if(e.stopPropagation(),window.getSelection().toString().length)return;this._scribeAction({element:"tweet",action:"click"}),this._handleAsyncPromotedEvent(P.b.VIEW_DETAILS)}})),this._handlePreviewClick=e=>{e.preventDefault()},this._handleEmbeddedMediaPreviewClick=e=>{null==e||e.preventDefault()},this._handleEmbeddedMediaClick=()=>{this._scribeAction({element:"platform_photo_card",action:"click"}),this._handleAsyncPromotedEvent(P.b.EMBEDDED_MEDIA)},this._handleQuoteTweetClick=()=>{this._scribeAction({element:"tweet",action:"click"}),this._handleAsyncPromotedEvent(P.b.VIEW_DETAILS)},this._handleEntityClick=(e,t,i)=>{const{adFreeArticleDomains:o,createLocalApiErrorHandler:n,fetchAdFreeToken:r,tweet:s}=this.props,a=P.a[t],l=F.a[t],h=this._getPromotedContent(),u=D.a.getClickTrackingEmbedDetails(h,i);if(a){const t=a===P.b.URL_CLICK&&e.currentTarget instanceof window.HTMLElement?{url:e.currentTarget.href}:void 0;this._handleAsyncPromotedEvent(a,t)}if(t===c.a.MEDIA)return this._handleTweetClick(e);t===c.a.URL&&u&&this._scribeAction({action:d.b.CLICK_ID_EMBED},{},u);let _=!1;if(this._hasClaimsForAdFreeArticles&&null!=i&&i.expandedUrl){const t=new URL(i.expandedUrl).hostname,[a,l]=new E.a(r,n()).getAdFreeArticlesClickHandler({destinationUrl:i.embeddedUrl,linkDomain:t,adFreeArticleDomains:o,tweetAuthorUserId:s.user.id_str});a&&(l(e),_=!0)}if(t===c.a.MENTION){const e=null!=i&&i.text?[{item_type:O.a.ItemType.USER,name:i.text,id:i.id_str}]:void 0;return this._scribeAction({action:l},{targets:e},void 0,void 0,_)}if(t===c.a.HASHTAG){const e=null!=i&&i.text?[{name:i.text}]:void 0;return this._scribeAction({action:l},{targets:e},void 0,void 0,_)}if(t===c.a.INTERACTIVE_HIGHLIGHT&&void 0!==(null==i?void 0:i.id))return this._scribeAction({element:"interactive_text",action:l},{interactive_text_details:{id:i.id}},void 0,void 0,_);l&&this._scribeAction({action:l},void 0,void 0,void 0,_)},this._handlePromotedUserProfileCardClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"user_recommendation",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(P.b.SCREEN_NAME_CLICK)},this._handleScreenNameClick=()=>{const{tweet:e}=this.props;this._handleSaveAsRecentSearchUser(),this._scribeAction({element:"user",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(P.b.SCREEN_NAME_CLICK)},this._handleSelfThreadClick=()=>this._scribeAction({element:"self_thread",action:"click"}),this._handleSelfThreadImpression=()=>this._scribeAction({element:"self_thread",action:"impression"}),this._handleTopicFetch=()=>{var e;const{createLocalApiErrorHandler:t,fetchTopicIfNeeded:i,socialContext:o}=this.props,n=o&&(null==(e=o.topicContext)?void 0:e.topicId);n&&i(n).catch(t())},this._handleCommunityFetch=()=>{const{createLocalApiErrorHandler:e,fetchCommunityIfNeeded:t,tweet:i}=this.props;if(this._isCommunitiesEnabled&&i){var o;const n=i.community_id_str,r=null==(o=i.quoted_status)?void 0:o.community_id_str;n&&t(n).catch(e()),r&&t(r).catch(e())}},this._handleLongformNotesLearnMoreRender=()=>{const{tweet:e,updateLongformNotesLearnMoreBanner:t}=this.props,i=l.a.getOriginalTweet(e),o=l.a.hasLongformNoteUrl(i);e&&o&&this._twitterArticleLearnMoreBannerEnabled&&t(i.id_str)},this._handleUndoTopicNotInterested=()=>{const{createLocalApiErrorHandler:e,topic:t,undoTopicNotInterested:i}=this.props;this._scribeAction({element:"topic",action:"un_not_interested"}),t&&i(t.id).catch(e())},this._handleUserFollowIndicator=()=>{this._scribeAction({component:"super_follower_educaton",element:"indicator",action:"click"})},this._handleUserFollowIndicatorDismiss=()=>{this._scribeAction({component:"super_follower_education",action:"dismiss"})},this._handleUserFollowIndicatorLearnMoreClick=e=>{this._scribeAction({component:"super_follower_education",element:"learn_more",action:"click"}),e&&e()},this._handleCardLinkClick=e=>{var t;const{adFreeArticleDomains:i,analytics:o,createLocalApiErrorHandler:n,fetchAdFreeToken:r,isCardArticle:s,setArticlesVisited:a,tweet:l}=this.props;if(s&&this._isArticleNudgeEnabled){var c;const e=null==l||null==(c=l.card)?void 0:c.url;var d;if(e)a(e),o.scribe({component:"article_nudge",element:"read_article",action:"click",data:{items:[{token:null==l||null==(d=l.card)?void 0:d.url,in_reply_to_tweet_id:l.id_str}]}})}const u=null==l||null==(t=l.card)?void 0:t.binding_values;if(this._hasClaimsForAdFreeArticles&&u){const[t,o]=new E.a(r,n()).getAdFreeArticlesClickHandler({destinationUrl:h.a.getBindingValue(u,"card_url"),linkDomain:h.a.getBindingValue(u,"domain"),adFreeArticleDomains:i});t&&o(e)}},this._handleSaveAsRecentSearchUser=()=>{const{saveAsRecentSearch:e,shouldStoreTypeaheadItem:t,tweet:i}=this.props,{user:o}=i;e&&t&&t(O.a.ItemType.USER)&&e({user:{id:o.id_str,type:L.a.User}})},this._isSelected=()=>{const{conversationTreeMetadata:e,tweet:t}=this.props,{selectedTweet:i}=e||{};return i&&t.id_str===i.selectedTweetId},this._handleMediaHashtagHighlightClick=()=>{this._handleAsyncPromotedEvent(P.b.HASHTAG_CLICK)},this.state={displayReported:!1,enableKeyboardShortcuts:!1,showBlockOrUnblockConfirmation:!1};const o=this._getPromotedContent();this._shouldHidePromotedTweet=u.a.isPromoted(o)&&A.a.shouldHidePromotedTweets(this.context.featureSwitches)}shouldComponentUpdate(e,t){return!Object(C.a)(this.props,e)||!Object(C.a)(this.state,t)}componentDidMount(){this._shouldHidePromotedTweet&&this._isCompatibilityScribeEnabled&&this._scribeAction({action:"hide_promoted"}),this._handleTopicFetch(),this._handleCommunityFetch(),this._handleLongformNotesLearnMoreRender(),this._hasClaimsForAdFreeArticles&&this.props.loadAdFreeArticleDomainsFromPersistence()}render(){var e;const{loggedInUserId:t}=this.context,{conversationPosition:i,conversationTreeMetadata:o,showWithheldBannerOnMyTweets:n,tweet:r}=this.props;if(!this._shouldRender())return o?s.a.createElement(y.a,{conversationPosition:i,conversationTreeMetadata:o},Pe):null;const c=(null==r||null==(e=r.user)?void 0:e.id_str)===t,d=Object(k.b)(l.a.getOriginalTweet(r).withheld_scope),h=c&&!r.retweeted_status,u=h&&"user"===l.a.getOriginalTweet(r).withheld_scope&&!n,_=Object(U.h)(r)&&!this.state.displayReported;return s.a.createElement(s.a.Fragment,null,d?s.a.createElement(a.a,null,u?null:this._renderWithheldTweet(),h?this._renderContent():null):_?this._renderReportedTombstone():this._renderContent(),this._renderIntentPrompt(),this.state.showBlockOrUnblockConfirmation?this._renderBlockOrUnblockConfirmationSheet():null)}_renderIntentPrompt(){const{contextualClientEventInfo:e,forwardPivotInfo:t,history:i,nudges:o,tweet:n,tweetId:r}=this.props;if(n&&"focal_module"===(null==e?void 0:e.component)&&i.location.pathname.indexOf("/intent/")>-1&&i.location.query.tweet_id===r)return s.a.createElement(I.a,{forwardPivotInfo:t,history:i,location:i.location,nudges:o,tweetId:n.id_str})}_renderWithheldTweet(){const{conversationPosition:e,conversationTreeMetadata:t,tweet:i}=this.props,o=i.user.id_str,n=l.a.getOriginalTweet(i),{loggedInUserId:r}=this.context,a=!!r&&r===o&&n.retweeted,c=n.withheld_text||n.text,d=n.withheld_entities||n.entities,h=i.user.id_str===r;return s.a.createElement(k.a,{conversationPosition:e,conversationTreeMetadata:h?void 0:t,displayTextRange:n.display_text_range,entities:d,lang:n.lang,onUnretweet:a?this._handleUnretweet:void 0,showUnretweetButton:a,text:c})}_renderReportedTombstone(){const{conversationPosition:e,conversationTreeMetadata:t,tweet:i}=this.props,o=l.a.getOriginalTweet(i),n=Object(U.c)(o.reportingVisibility);return s.a.createElement(y.a,{actionText:xe,conversationPosition:e,conversationTreeMetadata:t,lang:o.lang,onClick:this._handleShowReportedTweet},n)}_renderContent(){var e;const{allowDownvote:t,analytics:i,bookmarkFolderId:o,contextTweet:n,contextualClientEventInfo:r,conversationPosition:a,conversationTreeMetadata:c,displayBlocked:d,forwardPivotInfo:h,hasModeratedReplies:u,hideConversationControlsEducationText:_,hideExclusivityInfoEducationTextInReplies:p,hideTrustedFriendsEducationTextInReplies:m,history:w,hitHighlights:b,injectedFeedbackItem:k,innerForwardPivotInfo:I,innerNudges:y,isReaderMode:f,isUnread:T,linkify:A,loggedInUser:E,nudges:x,promotedContentAdvertiser:P,quoteTweetSocialContextProps:U,quotedTweetTombstoneInfo:F,replyBadge:O,replyContext:D,rootTweetAuthorId:L,scribeData:M,scribeNamespace:N,shouldSelfThreadIncludeAvatar:R,socialContext:B,socialContextColor:H,topic:j,topicFollowPrompt:V,tweet:q,withActions:K,withActionsDisabled:W,withBirdwatchPivots:G,withCardLinks:z,withInlineMedia:J,withQuotedTweetLinks:Z,withRemoveFromBookmarks:Y,withSelfThread:Q,withSocialContext:X,withUserPresence:$}=this.props,{enableKeyboardShortcuts:ee}=this.state,te=l.a.getOriginalTweet(q),ie=this._getPromotedContent(),oe=Object(C.a)(this._cachedScribeNamespace,N)?this._cachedScribeNamespace:this._cachedScribeNamespace=N,ne=null==(e=w.location.state)?void 0:e.overflow,re={...{allowDownvote:t,bookmarkFolderId:o,contextTweet:n,contextualClientEventInfo:r,conversationPosition:a,conversationTreeMetadata:c,displayBlocked:d,enableKeyboardShortcuts:ee,forwardPivotInfo:h,nudges:x,innerNudges:y,hasModeratedReplies:u,hideConversationControlsEducationText:_,hideExclusivityInfoEducationTextInReplies:p,hideTrustedFriendsEducationTextInReplies:m,hitHighlights:b,injectedFeedbackItem:k,innerForwardPivotInfo:I,linkify:A,loggedInUser:E,promotedContentAdvertiser:P,quotedTweetTombstoneInfo:F,quoteTweetSocialContextProps:U,replyBadge:O,replyContext:D,rootTweetAuthorId:L,shouldSelfThreadIncludeAvatar:R,socialContext:B,socialContextColor:H,topic:j,topicFollowPrompt:V,tweet:q,withActions:K,withActionsDisabled:W,withBirdwatchPivots:G,withCardLinks:z,withInlineMedia:J,withQuotedTweetLinks:Z,withRemoveFromBookmarks:Y,withSelfThread:Q,withSocialContext:X,withUnreadStyles:T,withUserPresence:$},...f?this._getReaderModeTweetProps():this._getBaseTweetProps()},se=s.a.createElement(S.c,{data:this._getDefaultScribeData(te,ie,M,ne,i.contextualScribeData,void 0),namespace:oe},s.a.createElement(v.a,{enabled:!!ee,handlers:this._getShortcutKeyHandlers()},s.a.createElement(g.b,re)));return ie?s.a.createElement(Ee,{id:q.id_str,onFullyVisible:this._handleFullyVisible,onResize:this._handleResize,onVisible:this._handleImpression,shouldUseImpressionPixel:this._shouldUseImpressionPixel},se):se}_shouldRender(){const{tweet:e}=this.props;return!(this._shouldHidePromotedTweet||this._tweetIsDeleted()||this._shouldHideBlockedTweet()||Object(U.f)(e))}_tweetIsDeleted(){const{tweet:e}=this.props,{retweeted_status:t}=e;return e.isDeleted||t&&t.isDeleted}_shouldHideBlockedTweet(){var e,t;const{displayBlocked:i,focalTweetId:o,tweet:n}=this.props,r=l.a.getOriginalTweet(n),s=!(null==n||null==(e=n.user)||!e.blocking)||!(null==r||null==(t=r.user)||!t.blocking);return o!==n.id_str&&(!i&&s)}}Se.defaultProps={displayBlocked:!1,shouldSelfThreadIncludeAvatar:!1,showWithheldBannerOnMyTweets:!0,withCardLinks:!1,withCurationMenu:!0,withRemoveFromBookmarks:!1,withMuteConversation:!1},Se.contextType=R.a;const Ue=(e,t)=>t.height<=e.getNumberValue("responsive_web_extension_compatibility_size_threshold",50),Fe=(e,t)=>!(e.isTrue("responsive_web_extension_compatibility_impression_guard")&&Ue(e,t.item)),Oe=e=>{const t=s.a.useContext(_.a);return((e,t)=>{const i=Object(we.b)();s.a.useEffect((()=>{t||i.scribe({action:"hydration_failed",data:{tweet_id:e}})}),[i,t,e])})(e.tweetId,e.tweet),e.tweet?s.a.createElement(Se,n()({},e,{history:t,tweet:e.tweet})):null};Oe.defaultProps=Se.defaultProps;const De=me(Oe);t.b=Object(S.a)({component:"tweet"})(De)}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.inlineTombstoneHandler.76a1e108.js.map