(window.webpackJsonp=window.webpackJsonp||[]).push([[200],{"0W/e":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("rHpw");const r=e=>1===e?{height:n.a.theme.spacesPx.space48,width:n.a.theme.spacesPx.space48}:{height:n.a.theme.spacesPx.space40,width:e*n.a.theme.spacesPx.space40}},PEva:function(e,t,a){"use strict";a.r(t);a("kYxP");var n=a("ERkP"),r=a.n(n),l=a("MWbm"),i=a("USG3"),s=a("uz49"),o=a("Zl35"),c=a("fZNH"),u=a("ub6r"),p=a("hhMf"),m=a("mNIZ"),d=a("zCLo"),h=a("Q0n6"),b=a("kCRK"),y=a("+xEG"),f=a("aoyV"),E=a("0nHQ"),g=a("5VhU"),S=a("Ur4q"),C=a("oH2E"),v=a("shC7"),w=a("t62R"),R=a("Wms4"),T=a("vCAy"),A=a("rHpw"),k=a("oSwX"),L=a("aNKf");const _=A.a.create((e=>({root:{position:"absolute",top:0,left:0,width:"100%"},gradientContainer:{padding:e.spaces.space16},flexRow:{alignItems:"center",flexDirection:"row"},rightSpacing:{marginRight:e.spaces.space4}})));var x=({children:e})=>r.a.createElement(l.a,{style:_.root},r.a.createElement(L.a,{colors:[A.a.theme.colors.translucentBlack77,A.a.theme.colors.transparent],style:_.gradientContainer},r.a.createElement(l.a,{style:_.flexRow},r.a.Children.toArray(e).map(((e,t,{length:a})=>{const n=`LinearGradient-children-${t}`,i=t<a-1?_.rightSpacing:"";return r.a.createElement(l.a,{key:n,style:i},e)}))))),O=a("w05h"),I=a("VLhD"),P=a("5Ixf"),F=a("AtEG"),B=a("NnQ9"),N=a("p6DB"),D=a("aITJ"),M=a("kRXa"),j=a("IE/l"),W=a("N2PN"),H=a("dPHj"),V=a("wtsM"),z=a("k/Ka"),U=a("Lsrn");const Y=(e={})=>Object(z.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[U.a.root,e.style],viewBox:"0 0 24 24"},r.a.createElement("g",null,r.a.createElement("path",{d:"M20.5 2h-1c-.828 0-1.5.672-1.5 1.5v6.976L4.87 2.116c-.228-.146-.522-.157-.762-.023-.24.132-.39.384-.39.657v18.5c0 .273.15.525.39.657.113.063.237.093.36.093.142 0 .28-.04.403-.117L18 13.527V20.5c0 .828.672 1.5 1.5 1.5h1c.828 0 1.5-.672 1.5-1.5v-17c0-.828-.672-1.5-1.5-1.5z"})));Y.metadata={width:24,height:24};var K=Y,$=a("fs1G"),q=a("/yvb"),G=a("3rX5"),X=a("cm6r"),Q=a("0W/e");const J=A.a.create((({borderRadii:e,borderWidths:t,colors:a,spaces:n})=>({thumbnail:{backgroundColor:a.translucentBlack77,borderRadius:e.small,display:"flex",flexDirection:v.a.getConstants().isRTL?"row-reverse":"row",overflow:"hidden",opacity:1},thumbnailFocused:{boxShadow:`0 0 0 ${t.medium} ${a.white}`,outlineStyle:"none"},countdownTime:{paddingHorizontal:n.space4,minWidth:"1em",display:"flex",alignItems:"center",justifyContent:"center",fontVariant:["tabular-nums"]},iconMargin:{marginLeft:"0.5em"},iconMarginRtl:{marginRight:"0.5em"}})));var Z=({onClick:e})=>{const{aspectRatio:t,playerState:a}=r.a.useContext(o.b.PeriodicContext);if(!a)return null;const n=Object(h.f)(a);if(!n||n.displayType!==b.c.AD)return null;const s=n.durationMs,c=s<7e3,u=(c?s:5e3)-(n.currentTimeMs||0),p=u>250,m=u<0,d=Object(h.d)(n)||0,y=Object(h.g)(n)||0,f=(c?y:5)-d,E=Object(O.m)({seconds:Object(O.q)(f)});return r.a.createElement(X.a,{accessibilityLabel:m?O.l:E,accessibilityRole:"button",focusable:!0,interactive:!0,interactiveStyles:null,onClick:m&&e?e:$.a,testID:"ControlBar-containerView"},(e=>{const n=v.a.getConstants().isRTL;return r.a.createElement(r.a.Fragment,null,!m&&r.a.createElement(i.a,{show:p},r.a.createElement(l.a,{style:[J.thumbnail,e.isFocused&&J.thumbnailFocused],testID:"ControlBar-videoThumbnail"},r.a.createElement(w.b,{color:"white",size:"subtext2",style:J.countdownTime},f),r.a.createElement(G.a,{source:a.posterImage,style:Object(Q.a)(t)}))),r.a.createElement(i.a,{show:m},r.a.createElement(q.a,{focusable:!1,interactivityState:e,pointerEvents:"auto",size:"small",testID:"ControlBar-skipButton",type:"onMediaDominantColorFilled"},r.a.createElement(w.b,{dir:"ltr",weight:"normal"},O.k,r.a.createElement(K,{style:n?J.iconMarginRtl:J.iconMargin})))))}))};const ee="PrerollControlBar-",te={CAPTIONS:`${ee}Captions`,FULLSCREEN:`${ee}Fullscreen`};class ae extends r.a.Component{constructor(...e){super(...e),this._parentRef=r.a.createRef(),this._renderRightContent=e=>{const{playerApi:t,playerState:a}=this.props;if(!t||!a)return null;const n=D.b.isIOS();return r.a.createElement(r.a.Fragment,null,this._renderTimePlayed(),this._renderVolumeControls(t,a),!n&&r.a.createElement(e,{focus:!0,interactionKey:te.FULLSCREEN,interactionTimeoutMs:0,mouseover:!0},this._renderFullScreenButton(t,a)))},this._renderActionButton=(e,t)=>{const{controls:a,isPlaying:n}=t,{pause:l,play:i}=e,s=Object(h.f)(t);return!s||s.isLive?null:n||a&&"PLAY_REQUESTED"===a.playState?r.a.createElement(W.b,{accessibilityLabel:V.d,hoverLabelPreferredHorizontalOrientation:"end",icon:r.a.createElement(P.a,null),onPress:l}):r.a.createElement(W.b,{accessibilityLabel:V.e,hoverLabelPreferredHorizontalOrientation:"end",icon:r.a.createElement(F.a,null),onPress:i})},this._renderAdText=()=>r.a.createElement(H.a,null,O.o),this._renderTimePlayed=()=>r.a.createElement(o.a,{periodic:!0},(({playerState:e})=>{const t=Object(h.f)(e),a=Object(h.d)(t),n=Object(h.g)(t);return t&&"number"==typeof a&&n&&!t.isLive?r.a.createElement(H.a,null,`${Object(h.b)(a)} / ${Object(h.b)(n)}`):null})),this._renderVolumeControls=(e,t)=>{const{isMuted:a,volume:n}=t,{mute:l,setVolume:i,unmute:s}=e,o=a?s:l,c=a?V.g:V.c;return r.a.createElement(M.a,{accessibilityLabelIcon:c,accessibilityLabelSlider:V.h,isMuted:a,onMuteToggle:o,onSliderChange:this._setVolumePercent(i),volumePercent:100*n})},this._setVolumePercent=e=>t=>{e(t/100)},this._renderFullScreenButton=(e,t)=>{const{fullscreen:a}=t;return a.isFullscreen?r.a.createElement(W.b,{accessibilityLabel:V.b,hoverLabelPreferredHorizontalOrientation:"start",icon:r.a.createElement(re,{isFullscreen:a.isFullscreen}),onPress:this._exitFullScreen(e)}):r.a.createElement(W.b,{accessibilityLabel:V.a,hoverLabelPreferredHorizontalOrientation:"start",icon:r.a.createElement(re,{isFullscreen:a.isFullscreen}),onPress:this._requestFullScreen(e)})},this._requestFullScreen=e=>()=>{e.fullScreen(this.props.containerRef)},this._exitFullScreen=e=>()=>e.exitFullScreen(),this._renderSkipAffordance=()=>r.a.createElement(l.a,{pointerEvents:"none",style:ne.skipAffordance},r.a.createElement(Z,null))}render(){const{displayDismissableControls:e,playerApi:t,playerState:a,skipButton:n}=this.props;return t&&a?r.a.createElement(p.a.ObserverContext.Consumer,null,(i=>r.a.createElement(l.a,{ref:this._parentRef,style:ne.root},r.a.createElement(j.a,{actionButton:this._renderActionButton(t,a),displayDismissableControls:e,leftContent:this._renderAdText(),rightContent:this._renderRightContent(i),skipButton:n})))):null}}const ne=A.a.create((e=>({root:{writingDirection:"ltr",cursor:"auto",width:"100%"},skipAffordance:{marginLeft:e.spaces.space12,visibility:"hidden"}})));function re({isFullscreen:e,style:t}){const{hidden:a,shown:n}=le;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{style:e?a:n}),r.a.createElement(N.a,{style:e?n:a}))}const le={hidden:{display:"none",height:"1.5em"},shown:{display:"block",height:"1.5em"}};var ie=ae;class se extends r.a.PureComponent{constructor(...e){super(...e),this._buildMessage=(e,t)=>{switch(e){case b.d.watch_now:return t?Object(O.e)({advertiserName:t}):O.j;case b.d.shop:return t?Object(O.c)({advertiserName:t}):O.h;case b.d.see_more:return t?Object(O.b)({advertiserName:t}):O.g;case b.d.go_to:return t?Object(O.a)({advertiserName:t}):O.f;case b.d.visit_site:default:return t?Object(O.d)({advertiserName:t}):O.i}},this._handlePress=e=>()=>{e.callToActionClicked()}}componentDidMount(){const{playerApi:e}=this.props;e&&e.callToActionImpression()}render(){const{advertiserName:e,avatarUri:t,ctaType:a,ctaUrl:n,playerApi:l}=this.props;if(!l)return null;const i=this._buildMessage(a,e);return r.a.createElement(q.a,{accessibilityLabel:i,icon:t?r.a.createElement(k.default,{borderColor:"white",borderWidth:"small",size:"medium",uri:t}):void 0,link:n,onPress:this._handlePress(l),size:"xSmall",style:oe.root,type:"onMediaDominantColorFilled"},i)}}const oe=A.a.create((e=>({root:{position:"absolute",left:e.spaces.space12,top:e.spaces.space12}})));var ce=se;class ue extends r.a.Component{constructor(...e){super(...e),this.state={showControlBar:!1,stackedLabels:!1},this._durationLabelRef=r.a.createRef(),this._descriptionLabelRef=r.a.createRef(),this._handleLayout=()=>{var e,t;const a=null==(e=this._durationLabelRef)?void 0:e.current,n=null==(t=this._descriptionLabelRef)?void 0:t.current;a&&n&&a.measure(((e,t)=>{n.measure(((e,a)=>{t!==a?this.setState({stackedLabels:!0}):this.setState({stackedLabels:!1})}))}))},this._renderPrerollControlBar=e=>{const{containerRef:t,onSkip:a,playerApi:n,playerState:s}=this.props;if(!n||!s)return null;const{Observer:o,observed:c}=e,u=Object(I.c)(s,c,I.b),p=s.fullscreen.isFullscreen,m=v.a.getConstants().isRTL,d=[pe.labelOuterContainerBase,m?pe.labelOuterContainerRtl:pe.labelOuterContainerLtr];return r.a.createElement(l.a,{style:pe.bottomContentContainer},r.a.createElement(l.a,{style:pe.bottomContentRow},r.a.createElement(l.a,{style:[pe.forceFullWidth,pe.flexDirectionRow]},r.a.createElement(o,{focus:!0,interactionKey:I.a.A11YHook},r.a.createElement(l.a,{focusable:!0})),r.a.createElement(l.a,{style:pe.flexExpand},r.a.createElement(l.a,{style:d},r.a.createElement(i.a,{show:u},r.a.createElement(l.a,{style:[pe.bottomContentRow,pe.rowBottomSpace]},this._renderLabels()))),p?null:r.a.createElement(l.a,{style:pe.bottomContentRow},r.a.createElement(l.a,{style:[pe.skipThumbnail,m?pe.skipThumbnailAbsoluteRtl:pe.skipThumbnailAbsolute],testID:me.floatSkipThumbnail},r.a.createElement(Z,{onClick:a}))),r.a.createElement(o,{focus:!0,interactionKey:I.a.ControlBar,mouseover:!0,touch:!0},r.a.createElement(ie,{containerRef:t,displayDismissableControls:!u,playerApi:n,playerState:s,skipButton:p?r.a.createElement(l.a,{style:[pe.skipThumbnail,m?pe.skipThumbnailRelativeRtl:pe.skipThumbnailRelative],testID:me.inlineSkipThumbnail},r.a.createElement(Z,{onClick:a})):null}))))))},this._renderWithIntentionContext=e=>{const{playerApi:t,playerState:a}=this.props;if(!t||!a)return null;const n=Object(h.f)(a),l=null==n?void 0:n.advertiserProfileImageUrl,i=null==n?void 0:n.advertiserName,s=null==n?void 0:n.cta;return r.a.createElement(r.a.Fragment,null,s?r.a.createElement(ce,{advertiserName:i,avatarUri:l,ctaType:s.type,ctaUrl:s.url,playerApi:t}):r.a.createElement(x,null,l&&r.a.createElement(k.default,{accessibilityHidden:!0,borderColor:"white",borderWidth:"small",focusable:!1,size:"medium",uri:l}),i&&r.a.createElement(w.b,{color:"white",weight:"bold"},i)),this._renderPrerollControlBar(e))},this._renderLabels=()=>r.a.createElement(o.a,{periodic:!0},(({playerState:e})=>{const t=Object(h.f)(e),a=Object(h.g)(t),n=Object(h.d)(t)||0,i=a?a-n:null,s=v.a.getConstants().isRTL,o=[pe.labelContainerBase,s?pe.labelContainerRtl:pe.labelContainerLtr],c=[T.b.borderRadiusLeft,this.state.stackedLabels&&T.b.borderRadiusRight],u=[T.b.borderRadiusRight,this.state.stackedLabels&&T.b.borderRadiusLeft],p=t&&"number"==typeof i&&!t.isLive?r.a.createElement(l.a,{ref:this._durationLabelRef},r.a.createElement(R.a,{key:"PrerollVideoOverlay-DurationLabel",style:[T.b.label,s?pe.labelSpaceLeft:T.b.spaceRight,this.state.stackedLabels&&pe.labelBottomSpace,...s?u:c]},r.a.createElement(w.b,{numberOfLines:1},Object(h.b)(i)))):null,m=r.a.createElement(l.a,{ref:this._descriptionLabelRef},r.a.createElement(R.a,{key:"PrerollVideoOverlay-DescriptionLabel",style:[T.b.label,s?pe.labelSpaceLeft:T.b.spaceRight,...s?c:u]},r.a.createElement(w.b,{numberOfLines:1},O.o)));return r.a.createElement(l.a,{onLayout:this._handleLayout,pointerEvents:"none",style:o},p,m)}))}render(){const{playerApi:e,playerState:t}=this.props;return e&&t?r.a.createElement(p.a.Context.Consumer,null,this._renderWithIntentionContext):null}}const pe=A.a.create((e=>({bottomContentContainer:{flexWrap:"wrap",position:"absolute",bottom:0,width:"100%"},bottomContentRow:{alignItems:"flex-end",flexWrap:"nowrap",flexDirection:v.a.getConstants().isRTL?"row-reverse":"row",flexGrow:1,flexShrink:0,justifyContent:"space-between",width:"100%"},rowBottomSpace:{marginBottom:e.spaces.space12},forceFullWidth:{width:"100%"},labelOuterContainerBase:{flexWrap:"wrap",position:"absolute",bottom:0,maxWidth:"65%"},labelOuterContainerLtr:{flexDirection:"row",left:0},labelOuterContainerRtl:{flexDirection:"row-reverse",right:0},labelBottomSpace:{marginBottom:e.spaces.space2},labelContainerBase:{justifyContent:"flex-start",flexWrap:"wrap",flexGrow:1,flexShrink:1,flexBasis:"auto"},labelContainerLtr:{flexDirection:"row",marginLeft:e.spaces.space12},labelContainerRtl:{flexDirection:"row-reverse",marginRight:e.spaces.space12},labelSpaceLeft:{marginLeft:e.spaces.space2},skipThumbnail:{flexGrow:0,flexShrink:0,flexBasis:"auto",alignItems:"flex-end"},skipThumbnailRelative:{marginBottom:e.spaces.space12,marginRight:e.spaces.space12},skipThumbnailAbsolute:{position:"absolute",bottom:e.spaces.space12,right:e.spaces.space12,maxWidth:"35%"},skipThumbnailRelativeRtl:{marginBottom:e.spaces.space12,marginLeft:e.spaces.space12},skipThumbnailAbsoluteRtl:{position:"absolute",bottom:e.spaces.space12,left:e.spaces.space12,maxWidth:"35%"},flexExpand:{flexGrow:1,flexShrink:1,flexBasis:0},flexDirectionRow:{flexDirection:v.a.getConstants().isRTL?"row-reverse":"row"},flexWrap:{flexWrap:"wrap",justifyContent:"space-between"},hidden:{visibility:"hidden"}}))),me={floatSkipThumbnail:"float-SkipThumbnail",inlineSkipThumbnail:"inline-SkipThumbnail"};var de=ue,he=a("ReFq");class be extends r.a.PureComponent{constructor(...e){super(...e),this.state={wasPrerollSkipped:!1},this._renderVideoPlayer=e=>{var t;const{playerApi:a,playerState:n,poster:l,useKeyboardShortcuts:i}=this.props;if(!a||!n)return null;const u=Object(h.f)(n),p=(null==u?void 0:u.displayType)===b.c.AD&&(null==u?void 0:u.playbackCompleted),m=null==(t=n.errorInfo)?void 0:t.adFailed,y=(null==u?void 0:u.displayType)===b.c.AD&&(null==u?void 0:u.useRedesignedPrerollUx);return y&&(this.state.wasPrerollSkipped||p||m)?r.a.createElement(o.a,null,(({aspectRatio:e})=>{const t=l||n.posterImage;return r.a.createElement(s.a,{aspectRatio:e,imageSrc:t,onTransitionComplete:this._handleTransitionAnimationComplete})})):y?this._renderVideo(e,!0):r.a.createElement(d.a,{enabled:!!i,playerApi:a,playerState:n},r.a.createElement(c.a,{playerState:n},this._renderVideo(e,!1)))},this._renderVideo=(e,t)=>{var a,n;const{accessibilityLabel:s,containerRef:o,customControlBarIcon:c,fullscreenAdsDisabledOnIOS:p,guestsState:d,includeDisputeLinkInCopyrightErrorMessage:v,onScribeEvent:w,playerApi:R,playerDisplayOptions:T,playerState:A,poster:k,shouldShowAltLabel:L,showWatchAgain:_}=this.props;if(!R||!A)return null;const{Observer:x,observed:O}=e,P=Object(I.c)(A,O,I.b),F=!!A.error,B=Object(h.f)(A),N=(null==B?void 0:B.contentType)===b.a.GIF,D="PLAY_REQUESTED"!==(null==(a=A.controls)?void 0:a.playState),M=_&&A.tracksFinished,j=P&&A.isPreview,W=!(!P||null==B||!B.isLive),H=L?s:void 0,V=!(null!=T&&T.hideLeftBadges)&&(!!H||N||j||W),z=!(null!=T&&T.hideRightBadges)&&P,U=!(null!=T&&T.hidePosterImage),Y=null==(n=A.controls)?void 0:n.isPosterShown;return r.a.createElement(x,{click:!0,interactionKey:I.a.Root,mousemove:!0,mouseover:!0},F?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{hideControls:P,isTouchOnlyUI:I.b,playerApi:R,playerDisplayOptions:T,playerState:A}),U&&!M&&r.a.createElement(C.a,{imageSrc:k,playerApi:R,playerState:A,withPlayButton:D}),r.a.createElement(f.a,{playerState:A}),t?r.a.createElement(de,{containerRef:o,onSkip:this._handleSkip,playerApi:R,playerState:A}):r.a.createElement(r.a.Fragment,null,!N&&_&&r.a.createElement(he.a,{onScribeEvent:w,playerApi:R,playerState:A}),r.a.createElement(g.a,{guestsState:d,playerState:A}),!N&&r.a.createElement(x,{focus:!0,interactionKey:I.a.VideoCTA,mouseover:!0},r.a.createElement(i.a,{show:!P},r.a.createElement(m.a,{playerApi:R,playerState:A}))),!N&&!Y&&r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{focus:!0,interactionKey:I.a.A11YHook},r.a.createElement(l.a,{focusable:!0})),r.a.createElement(x,{focus:!0,interactionKey:I.a.ControlBar,mouseover:!0,touch:!0},r.a.createElement(u.a,{containerRef:o,customControlBarIcon:c,fullscreenAdsDisabledOnIOS:p,hideControls:P,playerApi:R,playerState:A,publisherDisplayName:null==B?void 0:B.publisherDisplayName,publisherProfileImageUrl:null==B?void 0:B.publisherProfileImageUrl,showScrubber:"ad"!==(null==B?void 0:B.displayType)&&!(null!=B&&B.isLive)}))),r.a.createElement(i.a,{show:V},r.a.createElement(y.a,{mediaAccessibilityLabel:H,playerDisplayOptions:T,playerState:A,position:"left"})),r.a.createElement(i.a,{show:z},r.a.createElement(y.a,{playerDisplayOptions:T,playerState:A,position:"right"})))),r.a.createElement(i.a,{show:F},F&&r.a.createElement(E.a,{imageSrc:k,includeDisputeLinkInCopyrightErrorMessage:v,playerApi:R,playerState:A})))},this._handleSkip=()=>{const{playerApi:e}=this.props;e&&e.pause(),this.setState({wasPrerollSkipped:!0})},this._handleTransitionAnimationComplete=()=>{const{playerApi:e}=this.props;e&&e.nextTrack()}}render(){const{playerApi:e,playerState:t}=this.props;return e&&t?r.a.createElement(p.a,null,r.a.createElement(p.a.Context.Consumer,null,this._renderVideoPlayer)):null}}t.default=be},ReFq:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));a("kYxP");var n=a("ERkP"),r=a.n(n),l=a("MWbm"),i=a("qqsb"),s=a.n(i),o=a("/yvb"),c=a("rHpw");const u=s.a.f2d4e6f2;class p extends r.a.PureComponent{constructor(...e){super(...e),this._createWatchAgainHandler=e=>t=>{const{onScribeEvent:a,playerApi:n}=this.props;t.stopPropagation(),a&&a({namespace:{element:e,action:"click"}}),n&&n.replay()},this._handleOnPress=this._createWatchAgainHandler("watch_again_button"),this._handleOnClick=this._createWatchAgainHandler("watch_again_overlay")}render(){const{playerState:e}=this.props;return e&&e.tracksFinished?r.a.createElement(l.a,{onClick:this._handleOnClick,style:m.overlay},r.a.createElement(o.a,{accessibilityLabel:u,onPress:this._handleOnPress,type:"onMediaDominantColorFilled"},u)):null}}const m=c.a.create((e=>({overlay:{...c.a.absoluteFillObject,backgroundColor:c.a.theme.colors.translucentBlack30,alignItems:"center",justifyContent:"center"}})))},uz49:function(e,t,a){"use strict";a("kYxP");var n=a("ERkP"),r=a.n(n),l=a("MWbm"),i=a("3rX5"),s=a("rHpw"),o=a("0W/e");const c={animationStage:"INITIAL",containerSize:null,imageTransform:null},u=(e=c,t)=>{switch(t.type){case"SET_TRANSFORM":if("INITIAL"===e.animationStage){const{aspectRatio:a,containerHeight:n,containerWidth:r}=t.payload,l=Object(o.a)(a),i={width:r,height:n},c={scaleX:l.width/r,scaleY:l.height/n,translateX:-1*s.a.theme.spacesPx.space12,translateY:-1*s.a.theme.spacesPx.space12};return{...e,animationStage:"SET_TRANSFORM",containerSize:i,imageTransform:c}}return e;case"START_ANIMATION":return"SET_TRANSFORM"===e.animationStage?{...e,animationStage:"START_ANIMATION",imageTransform:{scaleX:1,scaleY:1,translateX:0,translateY:0}}:e;case"FINISH_ANIMATION":return{...e,animationStage:"FINISH_ANIMATION"};default:return e}};const p={imageFill:{width:"100%",height:"100%"},imageWrapperBaseStyles:{transitionDuration:"250ms",transformOrigin:"bottom right",transitionProperty:"transform",transitionTimingFunction:"ease",position:"absolute",bottom:"0",right:"0"}};t.a=function({aspectRatio:e,imageSrc:t,onTransitionComplete:a}){const[n,o]=r.a.useReducer(u,c),{animationStage:m,containerSize:d,imageTransform:h}=n,b=r.a.useCallback((t=>{if(null!=t){const{height:a,width:n}=t.getBoundingClientRect();requestAnimationFrame((()=>{o({type:"SET_TRANSFORM",payload:{aspectRatio:e,containerHeight:a,containerWidth:n}})}))}}),[e]),y=r.a.useCallback((e=>{requestAnimationFrame((()=>{o({type:"START_ANIMATION"})}))}),[]),f=r.a.useCallback((()=>{o({type:"FINISH_ANIMATION"})}),[]);return r.a.useEffect((()=>{t||f()}),[t,f]),r.a.useEffect((()=>{"FINISH_ANIMATION"===m&&a&&a()}),[a,m]),r.a.useEffect((()=>{if("START_ANIMATION"===m){const e=setTimeout((()=>{f()}),300);return function(){clearTimeout(e)}}}),[m,f]),r.a.createElement(l.a,{ref:b,style:s.a.absoluteFill},(()=>{if(null==d||null==h||!t)return null;const e={height:d.height,width:d.width},{scaleX:a,scaleY:n,translateX:l,translateY:s}=h,o={transform:`matrix(${a}, 0, 0, ${n}, ${l}, ${s})`},c={...p.imageWrapperBaseStyles,...e,...o};return r.a.createElement("div",{onTransitionEnd:f,style:c},r.a.createElement(i.a,{ref:y,source:t,style:p.imageFill}))})())}},zCLo:function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),l=a("MWbm"),i=a("wD1h"),s=a("rHpw"),o=a("yUQ9");t.a=function(e){const t=r.a.useRef(null),{enabled:a,playerApi:n,playerState:c}=e;if(!a)return e.children||null;const u=e=>{n&&c&&(c.isPlaying?n.pause():n.play())},p=e=>{if(n&&c){const t=parseInt(e.key,10)/10;n.scrubToFraction(t)}};return r.a.createElement(i.a,{containerRef:t,enabled:!0,handlers:{[o.a.K]:u,[o.a.M]:e=>{n&&c&&(c.isMuted?n.unmute():n.mute())},[o.a.Space]:u,[o.a.C]:e=>{n&&c&&n.toggleCaptions()},[o.a.Home]:e=>{n&&c&&n.scrubToFraction(0)},[o.a[0]]:p,[o.a[1]]:p,[o.a[2]]:p,[o.a[3]]:p,[o.a[4]]:p,[o.a[5]]:p,[o.a[6]]:p,[o.a[7]]:p,[o.a[8]]:p,[o.a[9]]:p,[o.a.End]:e=>{n&&c&&n.scrubToFraction(1)}}},r.a.createElement(l.a,{focusable:!0,ref:t,style:s.a.absoluteFill},e.children))}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/loaders.video.VideoPlayerDefaultUI.22bf8b68.js.map