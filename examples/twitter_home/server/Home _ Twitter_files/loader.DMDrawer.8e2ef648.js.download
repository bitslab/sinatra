(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{"+Bsv":function(e,l,a){"use strict";var n=a("ERkP"),t=a.n(n),s=a("/yvb"),i=a("rHpw"),r=a("qqsb"),o=a.n(r),c=a("M2x3"),d="settingsAppBar";const u=o.a.bb081ea2,m={viewType:"settings_button"},g=t.a.memo((({onPress:e,pullRight:l,to:a})=>t.a.createElement(s.a,{accessibilityLabel:u,behavioralEventContext:m,hoverLabel:{label:u},icon:t.a.createElement(c.a,null),link:a,onPress:e,pullRight:l,style:p.button,testID:d,type:"primaryText"}))),p=i.a.create((e=>({button:{marginVertical:`calc(-${e.spaces.space12})`}})));l.a=g},"/5HX":function(e,l,a){"use strict";var n,t,s,i,r,o,c,d,u,m,g,p,y,_,h,k,v,b,F,f,T,K,S,E,L,I,R,C,w,M,x,A,D,O,P,U,H,q,N,j,W,B,V,z,Q,G,Y,$,X,J,Z,ee,le,ae,ne,te,se,ie,re,oe,ce,de,ue,me,ge,pe,ye,_e,he,ke,ve,be,Fe,fe,Te,Ke,Se,Ee,Le,Ie,Re,Ce,we,Me,xe,Ae,De,Oe,Pe,Ue,He,qe,Ne,je,We,Be,Ve,ze,Qe,Ge,Ye,$e,Xe,Je,Ze,el,ll,al,nl,tl,sl,il,rl,ol,cl,dl,ul,ml,gl,pl,yl,_l,hl,kl,vl,bl,Fl,fl,Tl,Kl,Sl,El,Ll,Il,Rl,Cl,wl,Ml,xl,Al,Dl,Ol,Pl,Ul,Hl,ql,Nl,jl,Wl,Bl,Vl,zl,Ql,Gl,Yl,$l,Xl,Jl,Zl,ea,la,aa,na,ta,sa,ia,ra,oa,ca,da,ua,ma,ga,pa,ya,_a,ha,ka,va,ba,Fa,fa,Ta,Ka,Sa,Ea,La,Ia,Ra,Ca,wa,Ma,xa,Aa,Da,Oa,Pa,Ua,Ha,qa,Na,ja,Wa,Ba,Va,za,Qa,Ga,Ya,$a,Xa,Ja,Za,en,ln,an,nn,tn,sn,rn,on,cn,dn,un,mn,gn,pn,yn,_n,hn=(n={defaultValue:null,kind:"LocalArgument",name:"cursor"},t={defaultValue:null,kind:"LocalArgument",name:"query"},s={defaultValue:null,kind:"LocalArgument",name:"withAttachments"},i={defaultValue:null,kind:"LocalArgument",name:"withConversationQueryHighlights"},r={defaultValue:!1,kind:"LocalArgument",name:"withDmMuting"},o={defaultValue:null,kind:"LocalArgument",name:"withMessageQueryHighlights"},c={defaultValue:null,kind:"LocalArgument",name:"withMessages"},d={defaultValue:null,kind:"LocalArgument",name:"withSafetyModeUserFields"},u={defaultValue:null,kind:"LocalArgument",name:"withSuperFollowsUserFields"},m={kind:"Variable",name:"query",variableName:"query"},g={kind:"Literal",name:"s",value:"e54f"},p=[m,g],y={alias:null,args:null,concreteType:"DMConversationLabelInfo",kind:"LinkedField",name:"labels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null}],storageKey:null},_={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},h=[y,{args:null,kind:"FragmentSpread",name:"evolutionDMInboxItem"},_],k=[{alias:null,args:null,concreteType:"DMHighlighting",kind:"LinkedField",name:"highlighting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"query_tokens",storageKey:null}],storageKey:null}],v={condition:"withConversationQueryHighlights",kind:"Condition",passingValue:!0,selections:k},b=[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"dm_convo_search",plural:!1,selections:h,storageKey:null},v],F={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"affects_sort",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"request_id",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},R={alias:null,args:null,concreteType:"DMInitialLowQualityState",kind:"LinkedField",name:"initial_low_quality_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_low_quality",storageKey:null}],storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"is_new_one_to_one_convo",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"marked_as_abuse",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"possibly_spam",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"sender_registration_token",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},U={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[A,P],storageKey:null},H=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[T,f,U],type:"User",abstractKey:null}],storageKey:null}],q={alias:null,args:null,kind:"ScalarField",name:"created_at_sec",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"expanded_url",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"indices",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},z=[j,W,B,V],Q={alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:[{alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls",plural:!0,selections:z,storageKey:null}],storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},Y={alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls_entity",plural:!0,selections:z,storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"media_key",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},ae={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},ne={alias:null,args:null,kind:"ScalarField",name:"percentage",storageKey:null},te=[{alias:null,args:null,kind:"ScalarField",name:"blue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"green",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"red",storageKey:null}],se=[X,J,Z,ee,{alias:null,args:null,concreteType:"ApiMediaRect",kind:"LinkedField",name:"salient_rect",plural:!1,selections:[le,{alias:null,args:null,kind:"ScalarField",name:"left",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"top",storageKey:null},ae],storageKey:null},{alias:null,args:null,concreteType:"MediaColorInfo",kind:"LinkedField",name:"color_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MediaColorPaletteItem",kind:"LinkedField",name:"palette",plural:!0,selections:[ne,{alias:null,args:null,concreteType:"MediaColor",kind:"LinkedField",name:"rgb",plural:!1,selections:te,storageKey:null}],storageKey:null}],storageKey:null}],ie={alias:null,args:null,concreteType:"AspectRatio",kind:"LinkedField",name:"aspect_ratio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"denominator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"numerator",storageKey:null}],storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"duration_millis",storageKey:null},oe={alias:null,args:null,kind:"ScalarField",name:"embeddable",storageKey:null},ce={alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:se,storageKey:null},de={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},ue={alias:null,args:null,concreteType:"VideoVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bit_rate",storageKey:null},de,V],storageKey:null},me={kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[T,$,{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[G,{kind:"InlineFragment",selections:se,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[ie,re,oe,ce,ue,{alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null}],type:"ApiVideo",abstractKey:null},{kind:"InlineFragment",selections:[X,ie,ce,ue],type:"ApiGif",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},ge={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},pe={alias:null,args:null,concreteType:"ApiMediaEntityColor",kind:"LinkedField",name:"rgb",plural:!1,selections:te,storageKey:null},ye={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},_e={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},he={alias:null,args:null,concreteType:"LegacyCardBinding",kind:"LinkedField",name:"binding_values",plural:!0,selections:[ge,{alias:null,args:null,concreteType:"ApiCardBindingValue",kind:"LinkedField",name:"value",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"boolean_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"double_value",storageKey:null},{alias:null,args:null,concreteType:"ApiCardBindingImageValue",kind:"LinkedField",name:"image_value",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alt",storageKey:null},le,ae,V],storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"image_color_value",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityColorPaletteColor",kind:"LinkedField",name:"palette",plural:!0,selections:[pe,ne],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"integer_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scribe_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"string_value",storageKey:null},ye,{alias:null,args:null,concreteType:"ApiCardBindingUserValue",kind:"LinkedField",name:"user_value",plural:!1,selections:[_e,{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},ke={alias:null,args:null,concreteType:"ApiCardPlatform",kind:"LinkedField",name:"card_platform",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiCardPlatformPlatform",kind:"LinkedField",name:"platform",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiCardPlatformAudience",kind:"LinkedField",name:"audience",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket",storageKey:null},A],storageKey:null},{alias:null,args:null,concreteType:"ApiCardPlatformDevice",kind:"LinkedField",name:"device",plural:!1,selections:[A,{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},ve={alias:"urlType",args:null,kind:"ScalarField",name:"url_type",storageKey:null},be={alias:null,args:null,concreteType:"TimelineUrl",kind:"LinkedField",name:"url",plural:!1,selections:[ve,V],storageKey:null},Fe=[V],fe={alias:null,args:null,concreteType:"BadgeInfo",kind:"LinkedField",name:"badge",plural:!1,selections:Fe,storageKey:null},Te={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},Ke={alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},Se={alias:null,args:null,kind:"ScalarField",name:"rtl",storageKey:null},Ee={alias:"fromIndex",args:null,kind:"ScalarField",name:"from_index",storageKey:null},Le={alias:"toIndex",args:null,kind:"ScalarField",name:"to_index",storageKey:null},Ie={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},Re={alias:"type",args:null,kind:"ScalarField",name:"__typename",storageKey:null},Ce=[N],we={kind:"InlineFragment",selections:Ce,type:"TimelineRichTextCashtag",abstractKey:null},Me={kind:"InlineFragment",selections:[T,V],type:"TimelineRichTextList",abstractKey:null},xe={kind:"InlineFragment",selections:Ce,type:"TimelineRichTextHashtag",abstractKey:null},Ae={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},De={kind:"InlineFragment",selections:[V,ve,{alias:"urtEndpointOptions",args:null,concreteType:"TimelineUrtEndpointOptions",kind:"LinkedField",name:"urt_endpoint_options",plural:!1,selections:[{alias:"cacheId",args:null,kind:"ScalarField",name:"cache_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},Ae,{alias:"requestParams",args:null,concreteType:"RequestParamsEntry",kind:"LinkedField",name:"request_params",plural:!0,selections:[ge,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],type:"TimelineUrl",abstractKey:null},Oe={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[P],storageKey:null},Pe={alias:"reason",args:null,kind:"ScalarField",name:"unavailable_reason",storageKey:null},Ue={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},He={kind:"InlineFragment",selections:[Pe,Ue],type:"UserUnavailable",abstractKey:null},qe=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[Oe,f],type:"User",abstractKey:null},He],storageKey:null}],Ne={alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Ee,Le,Ie,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Re,we,Me,xe,De,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:qe,storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[P,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:qe,storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},je={alias:"userLabelType",args:null,kind:"ScalarField",name:"user_label_type",storageKey:null},We={alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[be,fe,Te,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[Ke,Se,N,Ne],storageKey:null},je],storageKey:null}],storageKey:null},Be={condition:"withDmMuting",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dm_muting",storageKey:null}]},Ve={alias:null,args:null,kind:"ScalarField",name:"has_nft_avatar",storageKey:null},ze={alias:null,args:null,kind:"ScalarField",name:"blocked_by",storageKey:null},Qe={alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},Ge={alias:null,args:null,kind:"ScalarField",name:"can_dm",storageKey:null},Ye={alias:null,args:null,kind:"ScalarField",name:"can_media_tag",storageKey:null},$e={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},Xe={alias:null,args:null,kind:"ScalarField",name:"default_profile",storageKey:null},Je={alias:null,args:null,kind:"ScalarField",name:"default_profile_image",storageKey:null},Ze={alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls",plural:!0,selections:[j,W,V,B],storageKey:null},el=[Ze],ll=[{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"description",plural:!1,selections:el,storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"url",plural:!1,selections:el,storageKey:null}],al={alias:null,args:null,concreteType:"UserEntities",kind:"LinkedField",name:"entities",plural:!1,selections:ll,storageKey:null},nl={alias:null,args:null,kind:"ScalarField",name:"fast_followers_count",storageKey:null},tl={alias:null,args:null,kind:"ScalarField",name:"favourites_count",storageKey:null},sl={alias:null,args:null,kind:"ScalarField",name:"follow_request_sent",storageKey:null},il={alias:null,args:null,kind:"ScalarField",name:"follow_request_received",storageKey:null},rl={alias:null,args:null,kind:"ScalarField",name:"followed_by",storageKey:null},ol={alias:null,args:null,kind:"ScalarField",name:"followers_count",storageKey:null},cl={alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null},dl={alias:null,args:null,kind:"ScalarField",name:"friends_count",storageKey:null},ul={alias:null,args:null,kind:"ScalarField",name:"has_custom_timelines",storageKey:null},ml={alias:null,args:null,kind:"ScalarField",name:"is_translator",storageKey:null},gl={alias:null,args:null,kind:"ScalarField",name:"listed_count",storageKey:null},pl={alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},yl={alias:null,args:null,kind:"ScalarField",name:"media_count",storageKey:null},_l={alias:null,args:null,kind:"ScalarField",name:"muting",storageKey:null},hl={alias:null,args:null,kind:"ScalarField",name:"needs_phone_verification",storageKey:null},kl={alias:null,args:null,kind:"ScalarField",name:"normal_followers_count",storageKey:null},vl={alias:null,args:null,kind:"ScalarField",name:"notifications",storageKey:null},bl={alias:null,args:null,kind:"ScalarField",name:"pinned_tweet_ids_str",storageKey:null},Fl={alias:null,args:null,kind:"ScalarField",name:"possibly_sensitive",storageKey:null},fl=[{alias:null,args:null,concreteType:"ApiMediaEntityColorPaletteColor",kind:"LinkedField",name:"palette",plural:!0,selections:[ne,pe],storageKey:null}],Tl=[{alias:null,args:null,concreteType:"ApiMediaColorExtension",kind:"LinkedField",name:"mediaColor",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaColorExtensionR",kind:"LinkedField",name:"r",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"ok",plural:!1,selections:fl,storageKey:null}],storageKey:null}],storageKey:null}],Kl={alias:null,args:null,concreteType:"ApiMediaExtensions",kind:"LinkedField",name:"profile_banner_extensions",plural:!1,selections:Tl,storageKey:null},Sl={alias:null,args:null,kind:"ScalarField",name:"profile_banner_url",storageKey:null},El={alias:null,args:null,concreteType:"ApiMediaExtensions",kind:"LinkedField",name:"profile_image_extensions",plural:!1,selections:Tl,storageKey:null},Ll={alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},Il={alias:null,args:null,kind:"ScalarField",name:"profile_interstitial_type",storageKey:null},Rl={alias:null,args:null,kind:"ScalarField",name:"protected",storageKey:null},Cl={alias:null,args:null,kind:"ScalarField",name:"statuses_count",storageKey:null},wl={alias:null,args:null,kind:"ScalarField",name:"time_zone",storageKey:null},Ml={alias:null,args:null,kind:"ScalarField",name:"translator_type",storageKey:null},xl={alias:null,args:null,kind:"ScalarField",name:"utc_offset",storageKey:null},Al={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null},Dl={alias:null,args:null,kind:"ScalarField",name:"want_retweets",storageKey:null},Ol={alias:null,args:null,kind:"ScalarField",name:"withheld_description",storageKey:null},Pl={alias:null,args:null,concreteType:"UserEntities",kind:"LinkedField",name:"withheld_entities",plural:!1,selections:ll,storageKey:null},Ul={alias:null,args:null,kind:"ScalarField",name:"withheld_in_countries",storageKey:null},Hl={alias:null,args:null,kind:"ScalarField",name:"withheld_scope",storageKey:null},ql={alias:null,args:null,kind:"ScalarField",name:"professional_type",storageKey:null},Nl={alias:null,args:null,kind:"ScalarField",name:"display",storageKey:null},jl={alias:null,args:null,concreteType:"BusinessCategory",kind:"LinkedField",name:"category",plural:!0,selections:[T,A,Nl],storageKey:null},Wl={alias:null,args:null,concreteType:"Professional",kind:"LinkedField",name:"professional",plural:!1,selections:[f,ql,jl],storageKey:null},Bl={condition:"withSafetyModeUserFields",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"smart_blocked_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"smart_blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"smart_blocking_expiration",storageKey:null}]},Vl={condition:"withSuperFollowsUserFields",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"super_follow_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"super_followed_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"super_following",storageKey:null}]},zl={kind:"InlineFragment",selections:[Ue,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[Ke,Ne,Se,N],storageKey:null},Pe],type:"UserUnavailable",abstractKey:null},Ql={alias:null,args:null,kind:"ScalarField",name:"conversation_muted",storageKey:null},Gl={alias:null,args:null,kind:"ScalarField",name:"policy",storageKey:null},Yl={alias:null,args:null,kind:"ScalarField",name:"invite_via_mention",storageKey:null},$l={alias:null,args:null,kind:"ScalarField",name:"collab_invitation_status",storageKey:null},Xl={alias:null,args:null,kind:"ScalarField",name:"conversation_id_str",storageKey:null},Jl={alias:null,args:null,kind:"ScalarField",name:"coordinates",storageKey:null},Zl=[ye,Jl],ea={alias:null,args:null,concreteType:"ApiGeoFeature",kind:"LinkedField",name:"coordinates",plural:!1,selections:Zl,storageKey:null},la={alias:null,args:null,kind:"ScalarField",name:"display_text_range",storageKey:null},aa={alias:null,args:null,kind:"ScalarField",name:"ext_alt_text",storageKey:null},na={alias:null,args:null,kind:"ScalarField",name:"media_url_https",storageKey:null},ta={alias:null,args:null,kind:"ScalarField",name:"source_status_id_str",storageKey:null},sa={alias:null,args:null,kind:"ScalarField",name:"source_user_id_str",storageKey:null},ia={alias:null,args:null,concreteType:"ApiCallToActions",kind:"LinkedField",name:"call_to_actions",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiVisitSiteCallToAction",kind:"LinkedField",name:"visit_site",plural:!1,selections:Fe,storageKey:null},{alias:null,args:null,concreteType:"ApiWatchNowCallToAction",kind:"LinkedField",name:"watch_now",plural:!1,selections:Fe,storageKey:null},{alias:null,args:null,concreteType:"ApiAppInstallCallToAction",kind:"LinkedField",name:"app_install",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"play_store_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"app_store_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ipad_app_store_id",storageKey:null}],storageKey:null}],storageKey:null},ra={alias:null,args:null,kind:"ScalarField",name:"monetizable",storageKey:null},oa={alias:null,args:null,concreteType:"ApiMediaInfo360",kind:"LinkedField",name:"ext_info360",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is360",storageKey:null}],storageKey:null},ca={alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"ext_media_color",plural:!1,selections:fl,storageKey:null},da={alias:"mediaStats",args:null,concreteType:"ApiMediaEngagementInfo",kind:"LinkedField",name:"ext_media_stats",plural:!1,selections:[{alias:"viewCount",args:null,kind:"ScalarField",name:"view_count",storageKey:null}],storageKey:null},ua={alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},ma={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},ga={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"copyright_holder_name",storageKey:null}],type:"ApiMediaUnavailabilityInfoCopyrightViolation",abstractKey:null},pa={alias:null,args:null,concreteType:"ApiMediaAvailability",kind:"LinkedField",name:"ext_media_availability",plural:!1,selections:[ua,ma,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unavailability_info",plural:!1,selections:[ga],storageKey:null}],storageKey:null},ya={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},_a={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},ha={alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},ka={alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},va=[{alias:null,args:null,concreteType:"ApiMediaEntityFace",kind:"LinkedField",name:"faces",plural:!0,selections:[ya,_a,ha,ka],storageKey:null}],ba={alias:null,args:null,concreteType:"ApiMediaEntityFeatures",kind:"LinkedField",name:"features",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityTags",kind:"LinkedField",name:"all",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityTag",kind:"LinkedField",name:"tags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},A,P,ye],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"large",plural:!1,selections:va,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"medium",plural:!1,selections:va,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"small",plural:!1,selections:va,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"orig",plural:!1,selections:va,storageKey:null}],storageKey:null},Fa={alias:null,args:null,concreteType:"SensitiveMediaWarning",kind:"LinkedField",name:"sensitive_media_warning",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"adult_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"graphic_violence",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"other",storageKey:null}],storageKey:null},fa=[ha,ka,{alias:null,args:null,kind:"ScalarField",name:"resize",storageKey:null}],Ta={alias:null,args:null,concreteType:"ApiMediaEntitySizes",kind:"LinkedField",name:"sizes",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"large",plural:!1,selections:fa,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"medium",plural:!1,selections:fa,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"small",plural:!1,selections:fa,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"thumb",plural:!1,selections:fa,storageKey:null}],storageKey:null},Ka={alias:null,args:null,concreteType:"ApiMediaEntityOriginalInfo",kind:"LinkedField",name:"original_info",plural:!1,selections:[le,ae,{alias:null,args:null,concreteType:"ApiMediaEntityFocusRect",kind:"LinkedField",name:"focus_rects",plural:!0,selections:[ya,_a,ka,ha],storageKey:null}],storageKey:null},Sa={alias:null,args:null,concreteType:"ApiMediaEntityVideoInfo",kind:"LinkedField",name:"video_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null},re,{alias:null,args:null,concreteType:"ApiMediaEntityVideoVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bitrate",storageKey:null},de,V],storageKey:null}],storageKey:null},Ea={alias:null,args:null,concreteType:"ApiMentionEntity",kind:"LinkedField",name:"user_mentions",plural:!0,selections:[_e,A,P,B],storageKey:null},La=[B,N],Ia={alias:null,args:null,concreteType:"ApiTagEntity",kind:"LinkedField",name:"hashtags",plural:!0,selections:La,storageKey:null},Ra={alias:null,args:null,concreteType:"ApiTagEntity",kind:"LinkedField",name:"symbols",plural:!0,selections:La,storageKey:null},Ca={alias:null,args:null,kind:"ScalarField",name:"favorite_count",storageKey:null},wa={alias:null,args:null,kind:"ScalarField",name:"favorited",storageKey:null},Ma={alias:null,args:null,kind:"ScalarField",name:"full_text",storageKey:null},xa={alias:null,args:null,concreteType:"ApiGeoFeature",kind:"LinkedField",name:"geo",plural:!1,selections:Zl,storageKey:null},Aa={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_screen_name",storageKey:null},Da={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_status_id_str",storageKey:null},Oa={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_user_id_str",storageKey:null},Pa={alias:null,args:null,kind:"ScalarField",name:"is_quote_status",storageKey:null},Ua={alias:null,args:null,kind:"ScalarField",name:"lang",storageKey:null},Ha={alias:null,args:null,kind:"ScalarField",name:"limited_actions",storageKey:null},qa={alias:null,args:null,kind:"ScalarField",name:"possibly_sensitive_editable",storageKey:null},Na=[T],ja={alias:null,args:null,concreteType:"ApiPlace",kind:"LinkedField",name:"place",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiGeoAttributes",kind:"LinkedField",name:"attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"factual_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iso3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"locality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"street_address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"twitter",storageKey:null},V],storageKey:null},{alias:"bounding_box",args:null,concreteType:"ApiGeoPolygon",kind:"LinkedField",name:"bounding_box_polygon",plural:!1,selections:[Jl,ye],storageKey:null},{alias:null,args:null,concreteType:"ApiPlace",kind:"LinkedField",name:"contained_within",plural:!0,selections:Na,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},A,T,{alias:null,args:null,kind:"ScalarField",name:"place_type",storageKey:null},V],storageKey:null},Wa={alias:null,args:null,concreteType:"ApiTweetPromotedContent",kind:"LinkedField",name:"promoted_content",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"disclosure_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"impression_id",storageKey:null}],storageKey:null},Ba={alias:null,args:null,kind:"ScalarField",name:"quote_count",storageKey:null},Va={alias:null,args:null,kind:"ScalarField",name:"quoted_status_id_str",storageKey:null},za={alias:null,args:null,concreteType:"ApiShortenedUrl",kind:"LinkedField",name:"quoted_status_permalink",plural:!1,selections:[V,{alias:null,args:null,kind:"ScalarField",name:"expanded",storageKey:null},Nl],storageKey:null},Qa={alias:null,args:null,kind:"ScalarField",name:"reply_count",storageKey:null},Ga={alias:null,args:null,kind:"ScalarField",name:"retweet_count",storageKey:null},Ya={alias:null,args:null,kind:"ScalarField",name:"retweeted",storageKey:null},$a={alias:null,args:null,concreteType:"ApiScopes",kind:"LinkedField",name:"scopes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"followers",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"place_ids",storageKey:null}],storageKey:null},Xa={alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null},Ja={alias:null,args:null,kind:"ScalarField",name:"supplemental_language",storageKey:null},Za={alias:null,args:null,kind:"ScalarField",name:"user_id_str",storageKey:null},en={alias:null,args:null,kind:"ScalarField",name:"withheld_text",storageKey:null},ln={alias:null,args:null,concreteType:"ApiSelfThreadMetadata",kind:"LinkedField",name:"self_thread",plural:!1,selections:[_e],storageKey:null},an={condition:"withMessageQueryHighlights",kind:"Condition",passingValue:!0,selections:k},nn=[{kind:"Variable",name:"cursor",variableName:"cursor"},m,g],tn={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},sn=[X],rn=[y,T,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[G,{kind:"InlineFragment",selections:[J,Z,ee],type:"ApiImage",abstractKey:null}],storageKey:null},T],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[_e,Ll,P,A,Rl,Al],storageKey:null},tn,T,f],type:"User",abstractKey:null}],storageKey:null},T],storageKey:null}],storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},A],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"count",value:20}],concreteType:null,kind:"LinkedField",name:"conversation_slice",plural:!1,selections:[G,{kind:"TypeDiscriminator",abstractKey:"__isDMEventSliceResult"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEventResults",kind:"LinkedField",name:"dm_event_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[G,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"audio",plural:!1,selections:Na,storageKey:null}],type:"DMAudioAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:Na,storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[G,{kind:"InlineFragment",selections:sn,type:"ApiGif",abstractKey:null},{kind:"InlineFragment",selections:sn,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:sn,storageKey:null}],type:"ApiVideo",abstractKey:null}],storageKey:null},T],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:Na,storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null},N],storageKey:null},A,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[_e,A],storageKey:null},tn,T],type:"User",abstractKey:null}],storageKey:null},T],storageKey:null},w],storageKey:null},L,I,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[U,tn,T],type:"User",abstractKey:null}],storageKey:null},T],storageKey:null},S],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"reactions",plural:!1,selections:[G,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMReaction",kind:"LinkedField",name:"items",plural:!0,selections:[S,{alias:null,args:null,kind:"ScalarField",name:"reaction_key",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[f,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[A],storageKey:null},tn,T],type:"User",abstractKey:null}],storageKey:null},T],storageKey:null}],storageKey:null}],type:"DMReactionSlice",abstractKey:null}],storageKey:null},f,T],type:"DMEvent",abstractKey:null}],storageKey:null},T],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:"conversation_slice(count:20)"},{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null}],storageKey:null},_],on=[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"dm_convo_search",plural:!1,selections:rn,storageKey:null},v],cn=["query","s"],dn=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[T,f,U,tn],type:"User",abstractKey:null}],storageKey:null},T],un=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[Oe,tn,f,T],type:"User",abstractKey:null},He],storageKey:null},T],mn={alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Ee,Le,Ie,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[G,{kind:"TypeDiscriminator",abstractKey:"__isTimelineReferenceObject"},Re,we,Me,xe,De,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:un,storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[P,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:un,storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},gn=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[T,f,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[be,fe,Te,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[Ke,Se,N,mn],storageKey:null},je],storageKey:null}],storageKey:null},Be,Ve,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[ze,Qe,Ge,Ye,$e,Xe,Je,Te,al,nl,tl,sl,il,rl,ol,cl,dl,ul,ml,gl,pl,yl,_l,A,hl,kl,vl,bl,Fl,Kl,Sl,El,Ll,Il,Rl,P,Cl,wl,Ml,V,xl,Al,Dl,Ol,Pl,Ul,Hl],storageKey:null},tn,{alias:null,args:null,concreteType:"Professional",kind:"LinkedField",name:"professional",plural:!1,selections:[f,ql,jl,T],storageKey:null},Bl,Vl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Ue,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[Ke,mn,Se,N],storageKey:null},Pe],type:"UserUnavailable",abstractKey:null}],storageKey:null},T],pn={alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[f,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[he,ke,A,V,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_refs_results",plural:!0,selections:gn,storageKey:null}],storageKey:null},T],storageKey:null},yn=[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:gn,storageKey:null}],_n=[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[j,W,aa,_e,B,$,na,Fl,ta,sa,ye,V,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[Ae,Te,ia,oe,ra,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:yn,storageKey:null}],storageKey:null},oa,ca,da,{alias:null,args:null,concreteType:"ApiMediaAvailability",kind:"LinkedField",name:"ext_media_availability",plural:!1,selections:[ua,ma,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unavailability_info",plural:!1,selections:[G,ga],storageKey:null}],storageKey:null},ba,Fa,Ta,Ka,Sa],storageKey:null},Ea,Ze,Ia,Ra],{fragment:{argumentDefinitions:[n,t,s,i,r,o,c,d,u],kind:"Fragment",metadata:null,name:"evolutionDMAllSearchTabQuery",selections:[{alias:"dm_group_convo_slice_result",args:p,concreteType:null,kind:"LinkedField",name:"__evolutionDMAllTabGroupsQuery_dm_group_convo_slice_result_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMGroupConvoSearchItem",kind:"LinkedField",name:"items",plural:!0,selections:b,storageKey:null},F],type:"DMGroupConvoSlice",abstractKey:null}],storageKey:null},{alias:"dm_people_convo_slice_result",args:p,concreteType:null,kind:"LinkedField",name:"__evolutionDMAllTabPeopleQuery_dm_people_convo_slice_result_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMPeopleConvoSearchItem",kind:"LinkedField",name:"items",plural:!0,selections:b,storageKey:null},F],type:"DmPeopleConvoSlice",abstractKey:null}],storageKey:null},{condition:"withMessages",kind:"Condition",passingValue:!0,selections:[{alias:"dm_message_slice_result",args:p,concreteType:null,kind:"LinkedField",name:"__evolutionDMAllSearchTabMessageQuery_dm_message_slice_result_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[f,T,{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[K,S,E,L,I,{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"conversation",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[R,C,w,M,x,A,D,O,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:H,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"participants_snapshot_results",plural:!0,selections:H,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:H,storageKey:null},{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[q,T,N,{condition:"withAttachments",kind:"Condition",passingValue:!0,selections:[Q,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[G,me,{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[f,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[he,ke,A,V,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_refs_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[T,f,We,Be,Ve,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.blocked_by"},{kind:"RequiredField",field:Qe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.blocking"},Ge,Ye,$e,Xe,Je,Te,al,nl,{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.favourites_count"},{kind:"RequiredField",field:sl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.follow_request_sent"},il,{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.followed_by"},{kind:"RequiredField",field:ol,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.followers_count"},{kind:"RequiredField",field:cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.following"},{kind:"RequiredField",field:dl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.friends_count"},ul,ml,gl,pl,{kind:"RequiredField",field:yl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.media_count"},_l,A,hl,kl,vl,bl,Fl,Kl,Sl,El,Ll,Il,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.protected"},P,{kind:"RequiredField",field:Cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.statuses_count"},wl,Ml,V,xl,{kind:"RequiredField",field:Al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.verified"},Dl,Ol,Pl,Ul,Hl],storageKey:null},Wl,Bl,Vl],type:"User",abstractKey:null},zl],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[G,T,f,{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[f,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[he,ke,A,V,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_refs_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[T,f,We,Be,Ve,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.blocked_by"},{kind:"RequiredField",field:Qe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.blocking"},Ge,Ye,$e,Xe,Je,Te,al,nl,{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.favourites_count"},{kind:"RequiredField",field:sl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.follow_request_sent"},il,{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.followed_by"},{kind:"RequiredField",field:ol,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.followers_count"},{kind:"RequiredField",field:cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.following"},{kind:"RequiredField",field:dl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.friends_count"},ul,ml,gl,pl,{kind:"RequiredField",field:yl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.media_count"},_l,A,hl,kl,vl,bl,Fl,Kl,Sl,El,Ll,Il,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.protected"},P,{kind:"RequiredField",field:Cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.statuses_count"},wl,Ml,V,xl,{kind:"RequiredField",field:Al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.verified"},Dl,Ol,Pl,Ul,Hl],storageKey:null},Wl,Bl,Vl],type:"User",abstractKey:null},zl],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LegacyTweet",kind:"LinkedField",name:"legacy",plural:!1,selections:[Ql,$e,{alias:null,args:null,concreteType:"ApiConversationControl",kind:"LinkedField",name:"conversation_control",plural:!1,selections:[Gl,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"conversation_owner",plural:!1,selections:[Oe],storageKey:null},Yl],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collab_control",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborators_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[T,f,We,Be,Ve,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.blocked_by"},{kind:"RequiredField",field:Qe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.blocking"},Ge,Ye,$e,Xe,Je,Te,al,nl,{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.favourites_count"},{kind:"RequiredField",field:sl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.follow_request_sent"},il,{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.followed_by"},{kind:"RequiredField",field:ol,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.followers_count"},{kind:"RequiredField",field:cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.following"},{kind:"RequiredField",field:dl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.friends_count"},ul,ml,gl,pl,{kind:"RequiredField",field:yl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.media_count"},_l,A,hl,kl,vl,bl,Fl,Kl,Sl,El,Ll,Il,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.protected"},P,{kind:"RequiredField",field:Cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.statuses_count"},wl,Ml,V,xl,{kind:"RequiredField",field:Al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.verified"},Dl,Ol,Pl,Ul,Hl],storageKey:null},Wl,Bl,Vl],type:"User",abstractKey:null},zl],storageKey:null}],storageKey:null}],type:"CollabTweet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InvitedCollaborator",kind:"LinkedField",name:"invited_collaborators",plural:!0,selections:[$l,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborator_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[T,f,We,Be,Ve,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.blocked_by"},{kind:"RequiredField",field:Qe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.blocking"},Ge,Ye,$e,Xe,Je,Te,al,nl,{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.favourites_count"},{kind:"RequiredField",field:sl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.follow_request_sent"},il,{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.followed_by"},{kind:"RequiredField",field:ol,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.followers_count"},{kind:"RequiredField",field:cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.following"},{kind:"RequiredField",field:dl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.friends_count"},ul,ml,gl,pl,{kind:"RequiredField",field:yl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.media_count"},_l,A,hl,kl,vl,bl,Fl,Kl,Sl,El,Ll,Il,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.protected"},P,{kind:"RequiredField",field:Cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.statuses_count"},wl,Ml,V,xl,{kind:"RequiredField",field:Al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.verified"},Dl,Ol,Pl,Ul,Hl],storageKey:null},Wl,Bl,Vl],type:"User",abstractKey:null},zl],storageKey:null}],storageKey:null}],storageKey:null}],type:"CollabInvitation",abstractKey:null}],storageKey:null},Xl,ea,la,{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[j,W,aa,_e,B,$,na,Fl,ta,sa,ye,V,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[Ae,Te,ia,oe,ra,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[T,f,We,Be,Ve,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:Qe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.blocking"},Ge,Ye,$e,Xe,Je,Te,al,nl,{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:sl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.follow_request_sent"},il,{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:ol,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.following"},{kind:"RequiredField",field:dl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.friends_count"},ul,ml,gl,pl,{kind:"RequiredField",field:yl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.media_count"},_l,A,hl,kl,vl,bl,Fl,Kl,Sl,El,Ll,Il,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.protected"},P,{kind:"RequiredField",field:Cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.statuses_count"},wl,Ml,V,xl,{kind:"RequiredField",field:Al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.verified"},Dl,Ol,Pl,Ul,Hl],storageKey:null},Wl,Bl,Vl],type:"User",abstractKey:null},zl],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},oa,ca,da,pa,ba,Fa,Ta,Ka,Sa],storageKey:null},Ea,Ze,Ia,Ra],storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"extended_entities",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[j,W,aa,_e,B,$,na,Fl,ta,sa,ye,V,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[Ae,Te,ia,oe,ra,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[T,f,We,Be,Ve,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:Qe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.blocking"},Ge,Ye,$e,Xe,Je,Te,al,nl,{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:sl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.follow_request_sent"},il,{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:ol,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.following"},{kind:"RequiredField",field:dl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.friends_count"},ul,ml,gl,pl,{kind:"RequiredField",field:yl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.media_count"},_l,A,hl,kl,vl,bl,Fl,Kl,Sl,El,Ll,Il,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.protected"},P,{kind:"RequiredField",field:Cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.statuses_count"},wl,Ml,V,xl,{kind:"RequiredField",field:Al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.verified"},Dl,Ol,Pl,Ul,Hl],storageKey:null},Wl,Bl,Vl],type:"User",abstractKey:null},zl],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},oa,ca,da,pa,ba,Fa,Ta,Ka,Sa],storageKey:null},Ea,Ze,Ia,Ra],storageKey:null},{kind:"RequiredField",field:Ca,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.favorite_count"},{kind:"RequiredField",field:wa,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.favorited"},Ma,xa,Aa,Da,Oa,Pa,Ua,Ha,Fl,qa,ja,Wa,Ba,Va,za,{kind:"RequiredField",field:Qa,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.reply_count"},{kind:"RequiredField",field:Ga,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.retweet_count"},{kind:"RequiredField",field:Ya,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.retweeted"},$a,Xa,Ja,Za,Hl,_e,en,ln],storageKey:null},{alias:null,args:null,concreteType:"TweetCore",kind:"LinkedField",name:"core",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[T,f,We,Be,Ve,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:Qe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.blocking"},Ge,Ye,$e,Xe,Je,Te,al,nl,{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:sl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.follow_request_sent"},il,{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:ol,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.following"},{kind:"RequiredField",field:dl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.friends_count"},ul,ml,gl,pl,{kind:"RequiredField",field:yl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.media_count"},_l,A,hl,kl,vl,bl,Fl,Kl,Sl,El,Ll,Il,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.protected"},P,{kind:"RequiredField",field:Cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.statuses_count"},wl,Ml,V,xl,{kind:"RequiredField",field:Al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.verified"},Dl,Ol,Pl,Ul,Hl],storageKey:null},Wl,Bl,Vl],type:"User",abstractKey:null},zl],storageKey:null}],storageKey:null}],storageKey:null},{alias:"quotedRefResult",args:null,concreteType:"TweetResults",kind:"LinkedField",name:"quoted_tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[f],type:"Tweet",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Tweet",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"recipient_results",plural:!1,selections:H,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:H,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},an],type:"DMMessageSearchItem",abstractKey:null}],storageKey:null},F],type:"DMMessageSlice",abstractKey:null}],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,s,c,i,o,u,d,r],kind:"Operation",name:"evolutionDMAllSearchTabQuery",selections:[{alias:null,args:nn,concreteType:null,kind:"LinkedField",name:"dm_group_convo_slice_result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMGroupConvoSearchItem",kind:"LinkedField",name:"items",plural:!0,selections:on,storageKey:null},F],type:"DMGroupConvoSlice",abstractKey:null}],storageKey:null},{alias:null,args:nn,filters:cn,handle:"slice",key:"evolutionDMAllTabGroupsQuery_dm_group_convo_slice_result",kind:"LinkedHandle",name:"dm_group_convo_slice_result"},{alias:null,args:nn,concreteType:null,kind:"LinkedField",name:"dm_people_convo_slice_result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMPeopleConvoSearchItem",kind:"LinkedField",name:"items",plural:!0,selections:on,storageKey:null},F],type:"DmPeopleConvoSlice",abstractKey:null}],storageKey:null},{alias:null,args:nn,filters:cn,handle:"slice",key:"evolutionDMAllTabPeopleQuery_dm_people_convo_slice_result",kind:"LinkedHandle",name:"dm_people_convo_slice_result"},{condition:"withMessages",kind:"Condition",passingValue:!0,selections:[{alias:null,args:nn,concreteType:null,kind:"LinkedField",name:"dm_message_slice_result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[G,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[f,T,{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[K,S,E,L,I,{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"conversation",plural:!1,selections:rn,storageKey:null},{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[R,C,w,M,x,A,D,O,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:dn,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"participants_snapshot_results",plural:!0,selections:dn,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:dn,storageKey:null},{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[q,T,N,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"recipient_results",plural:!1,selections:dn,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:dn,storageKey:null},{condition:"withAttachments",kind:"Condition",passingValue:!0,selections:[Q,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[G,me,{kind:"InlineFragment",selections:[Y,pn],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[T,f,pn,{alias:null,args:null,concreteType:"LegacyTweet",kind:"LinkedField",name:"legacy",plural:!1,selections:[Ql,$e,{alias:null,args:null,concreteType:"ApiConversationControl",kind:"LinkedField",name:"conversation_control",plural:!1,selections:[Gl,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"conversation_owner",plural:!1,selections:[Oe,tn,T],storageKey:null},Yl],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collab_control",plural:!1,selections:[G,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborators_results",plural:!0,selections:gn,storageKey:null}],type:"CollabTweet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InvitedCollaborator",kind:"LinkedField",name:"invited_collaborators",plural:!0,selections:[$l,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborator_results",plural:!1,selections:gn,storageKey:null}],storageKey:null}],type:"CollabInvitation",abstractKey:null}],storageKey:null},Xl,ea,la,{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:_n,storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"extended_entities",plural:!1,selections:_n,storageKey:null},Ca,wa,Ma,xa,Aa,Da,Oa,Pa,Ua,Ha,Fl,qa,ja,Wa,Ba,Va,za,Qa,Ga,Ya,$a,Xa,Ja,Za,Hl,_e,en,ln],storageKey:null},tn,{alias:null,args:null,concreteType:"TweetCore",kind:"LinkedField",name:"core",plural:!1,selections:yn,storageKey:null},{alias:"quotedRefResult",args:null,concreteType:"TweetResults",kind:"LinkedField",name:"quoted_tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[G,{kind:"InlineFragment",selections:[f,T],type:"Tweet",abstractKey:null}],storageKey:null},T],storageKey:null}],type:"Tweet",abstractKey:null}],storageKey:null},T],storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},an],type:"DMMessageSearchItem",abstractKey:null}],storageKey:null},F],type:"DMMessageSlice",abstractKey:null}],storageKey:null},{alias:null,args:nn,filters:cn,handle:"slice",key:"evolutionDMAllSearchTabMessageQuery_dm_message_slice_result",kind:"LinkedHandle",name:"dm_message_slice_result"}]}]},params:{id:"VCm4lgf0176v82hYXQyC5A",metadata:{sliceInfoPath:["dm_message_slice_result","slice_info"]},name:"evolutionDMAllSearchTabQuery",operationKind:"query",text:null}});hn.hash="768c5a6d7caa392b00257caee3601200",e.exports=hn},"/8XK":function(e,l,a){"use strict";a.d(l,"a",(function(){return d}));var n=a("ERkP"),t=a.n(n),s=a("t62R"),i=a("qqsb"),r=a.n(i),o=a("4n2h");const c=r.a.fb3ccb56,d=(e=!1,l=!1)=>{const a=Object(o.b)(e),n=Object(o.a)(e,l);return t.a.createElement(s.b,{color:n,numberOfLines:1,weight:a},c)}},"/Kco":function(e,l,a){"use strict";var n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"pinnedInboxSectionConversation",selections:[{alias:null,args:null,concreteType:"DMConversationLabelInfo",kind:"LinkedField",name:"labels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"evolutionDMInboxItem"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"DMConversation",abstractKey:null,hash:"a00816062f86303dc4d7de69da48a9eb"};e.exports=n},"0Bjv":function(e,l,a){"use strict";var n=a("ERkP"),t=a.n(n),s=a("k/Ka"),i=a("Lsrn");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},t.a.createElement("g",null,t.a.createElement("path",{d:"M17.931 2.508c0 .42-.34.75-.75.75h-8.39l1.38 2.08-.56 5.78-.47.16c-1.5.49-3.1 2.07-3.37 3.31-.07.35-.39.59-.73.59-.05 0-.11 0-.16-.01-.4-.09-.66-.49-.58-.89.39-1.81 2.24-3.52 3.91-4.25l.42-4.3-1.35-2.02c-.26-.38-.29-.87-.07-1.29.24-.41.66-.66 1.11-.66h8.86c.41 0 .75.34.75.75zm3.09 12.76c-.14.17-.46.46-1.05.46h-3.86l-2.64 6.1c-.12.28-.39.45-.69.45s-.57-.17-.69-.45l-1.96-4.53c-.16-.38.01-.82.39-.98.38-.17.82.01.99.39l1.27 2.93 1.69-3.91h-1.61c-.42 0-.75-.33-.75-.75 0-.41.33-.75.75-.75h6.81c-.41-1.06-1.64-2.26-2.91-2.82-.09-.04-.16-.09-.22-.16-.22-.21-.3-.54-.17-.83.17-.38.61-.55.99-.39 1.59.7 3.5 2.43 3.89 4.25.06.25.03.66-.23.99zm.839-12.259L3.2 21.659c-.15.15-.34.22-.53.22s-.39-.07-.53-.22c-.29-.29-.29-.76 0-1.06L20.8 1.939c.29-.29.76-.29 1.06 0 .29.3.29.77 0 1.07z"})));r.metadata={width:24,height:24},l.a=r},"23An":function(e,l,a){"use strict";var n=a("ERkP"),t=n.useEffect,s=n.useRef;e.exports=function(){var e=s(!0);return t((function(){return e.current=!0,function(){e.current=!1}}),[]),e}},"29EQ":function(e,l,a){"use strict";a.d(l,"c",(function(){return R})),a.d(l,"a",(function(){return C})),a.d(l,"b",(function(){return w}));var n=a("ERkP"),t=a.n(n),s=a("MWbm"),i=a("rHpw"),r=a("qqsb"),o=a.n(r),c=a("/yvb"),d=a("Avzu");const u=o.a.f325afc4,m=o.a.cdcebd22;var g=({testID:e})=>t.a.createElement(c.a,{accessibilityLabel:u,hoverLabel:{label:m},icon:t.a.createElement(d.a,null),link:"/messages/compose",pullRight:!0,testID:e,type:"primaryText"}),p=a("Vc8w"),y=a("M2mT"),_=a("Es6L"),h=a("aI6n"),k=(a("kYxP"),a("OiMc")),v=a("t62R"),b=a("9RkS"),F=a("xN10"),f=a("v6aA"),T=a("GPmX"),K=a("hX3w");const S=[[],["dm_evolution_enabled","dm_evolution_inbox_primary_enabled","dm_evolution_inbox_secondary_enabled","dm_evolution_inbox_tertiary_enabled"],["dm_evolution_enabled","dm_evolution_inbox_primary_enabled","dm_evolution_inbox_secondary_enabled","dm_evolution_inbox_tertiary_enabled","dm_evolution_message_creation_enabled","dm_evolution_message_hide_enabled","dm_evolution_reaction_write_enabled"]];var E=function(){const{featureSwitches:e}=t.a.useContext(f.a);if(!e.isTrue("dm_evolution_responsive_web_early_bird_only_switch"))return null;const l=Object(K.a)(e),[a,n]=t.a.useState((e=>{for(let l=S.length-1;l>0;l--)if(Object(F.a)(S[l],(l=>e.isTrue(l))))return l;return 0})(e)),i=Object(T.a)(a);t.a.useEffect((()=>{void 0!==i&&i!==a&&window.location.reload()}),[a,i]);return t.a.createElement(s.a,{style:L.switchContainer},t.a.createElement(k.a,{enableHover:!0,renderContent:()=>t.a.createElement(v.b,{style:L.popoverContent},"How much fancy GraphQL do you want in your DMs?")},t.a.createElement(s.a,{style:[L.icon,L[`level${a}`]]},t.a.createElement("svg",{viewBox:"0 0 400 400",xmlns:"http://www.w3.org/2000/svg"},t.a.createElement("path",{d:"M57.468 302.66l-14.376-8.3 160.15-277.38 14.376 8.3z",fill:"#E535AB"}),t.a.createElement("path",{d:"M39.8 272.2h320.3v16.6H39.8z",fill:"#E535AB"}),t.a.createElement("path",{d:"M206.348 374.026l-160.21-92.5 8.3-14.376 160.21 92.5zm139.174-241.079l-160.21-92.5 8.3-14.376 160.21 92.5z",fill:"#E535AB"}),t.a.createElement("path",{d:"M54.482 132.883l-8.3-14.375 160.21-92.5 8.3 14.376z",fill:"#E535AB"}),t.a.createElement("path",{d:"M342.568 302.663l-160.15-277.38 14.376-8.3 160.15 277.38zM52.5 107.5h16.6v185H52.5z",fill:"#E535AB"}),t.a.createElement("path",{d:"M330.9 107.5h16.6v185h-16.6z",fill:"#E535AB"}),t.a.createElement("path",{d:"M203.522 367l-7.25-12.558 139.34-80.45 7.25 12.557z",fill:"#E535AB"}),t.a.createElement("path",{d:"M369.5 297.9c-9.6 16.7-31 22.4-47.7 12.8-16.7-9.6-22.4-31-12.8-47.7 9.6-16.7 31-22.4 47.7-12.8 16.8 9.7 22.5 31 12.8 47.7M90.9 137c-9.6 16.7-31 22.4-47.7 12.8-16.7-9.6-22.4-31-12.8-47.7 9.6-16.7 31-22.4 47.7-12.8 16.7 9.7 22.4 31 12.8 47.7M30.5 297.9c-9.6-16.7-3.9-38 12.8-47.7 16.7-9.6 38-3.9 47.7 12.8 9.6 16.7 3.9 38-12.8 47.7-16.8 9.6-38.1 3.9-47.7-12.8M309.1 137c-9.6-16.7-3.9-38 12.8-47.7 16.7-9.6 38-3.9 47.7 12.8 9.6 16.7 3.9 38-12.8 47.7-16.7 9.6-38.1 3.9-47.7-12.8M200 395.8c-19.3 0-34.9-15.6-34.9-34.9 0-19.3 15.6-34.9 34.9-34.9 19.3 0 34.9 15.6 34.9 34.9 0 19.2-15.6 34.9-34.9 34.9M200 74c-19.3 0-34.9-15.6-34.9-34.9 0-19.3 15.6-34.9 34.9-34.9 19.3 0 34.9 15.6 34.9 34.9 0 19.3-15.6 34.9-34.9 34.9",fill:"#E535AB"})))),t.a.createElement(s.a,{style:L.switch},t.a.createElement(b.a,{accessibilityLabel:"GraphQL Slider",hoverLabels:["Easy (no GraphQL, same as normal Twitter)","Medium (some GraphQL, next launch target) ","Jane Wong (all GraphQL, experimental)"],max:S.length-1,min:0,onChange:e=>{for(let a=S.length-1;a>e;a--)S[a].forEach((e=>l.set(e,!1)));S[e].forEach((e=>l.set(e,!0))),n(e)},value:a,withMarkers:!0})))};const L=i.a.create((e=>({level0:{filter:"grayscale(100%)"},level1:{filter:"grayscale(50%)"},level3:{},icon:{height:e.spaces.space20,marginRight:e.spaces.space8,marginTop:e.spaces.space2,width:e.spaces.space20},popoverContent:{padding:e.spaces.space24},switchContainer:{display:"flex",flexDirection:"row"},switch:{marginRight:e.spaces.space12,minWidth:`calc(2*${e.spaces.space48})`}})));var I=a("nySH");const R=o.a.a2f81050,C="dmInbox";function w(e){Object(p.a)();const l=Object(_.a)()?t.a.createElement(s.a,{style:M.appBarButtons},t.a.createElement(E,null),Object(I.d)("/messages/settings",!1),t.a.createElement(g,{testID:h.a.newDM})):Object(I.d)("/messages/settings",!0);return t.a.createElement(y.a,{rightControl:l,screenType:"root",title:R},e.children)}const M=i.a.create((e=>({appBarButtons:{flexDirection:"row",alignItems:"center"}})))},"33Kz":function(e,l,a){"use strict";a.d(l,"b",(function(){return s})),a.d(l,"a",(function(){return i}));a("kYxP");const n=e=>e.getArrayValue("dm_reactions_config_active_reactions"),t=e=>{const l=e.getArrayValue("dm_reactions_config_inactive_reactions");return[...n(e),...l]},s=(e,l)=>{const a=t(l).find((l=>l.endsWith(e)));if(a)return a.split(":")[0]},i=(e,l={includeInactive:!1})=>l.includeInactive?t(e).map((e=>e.split(":")[1])):n(e).map((e=>e.split(":")[1]))},"3AAD":function(e,l,a){"use strict";const n={...a("7n04").a,pinToNewestWhenAtNewest:!0};l.a=n},"4AMG":function(e,l,a){"use strict";a.d(l,"a",(function(){return Zs}));a("kYxP");var n=a("ERkP"),t=a.n(n),s=a("MWbm"),i=a("t62R"),r=a("mw9i"),o=a("rHpw"),c=a("qqsb"),d=a.n(c),u=a("Myq3"),m=a("iBK2"),g=a("ejT/"),p=a("3AAD"),y=a("yw4N"),_=a("v6aA"),h=a("aWyx"),k=a("cFyg"),v=a("V/6K"),b=a("b9JY"),F=a("MMRb"),f=a("cm6r"),T=a("oSwX"),K=a("MAI/"),S=a("mN6z"),E=a("aA19"),L=a("g54k"),I=a("zQEV");const R=({children:e,link:l,style:a})=>t.a.createElement(i.b,{align:"center",color:"gray700",link:l,size:"subtext2",style:a},e);class C extends t.a.Component{constructor(...e){super(...e),this._renderContents=()=>{const{conversation:e,entry:l,entryType:a,perspective:n,users:r}=this.props,o=Object(I.a)(l,a,n,r);switch(a){case h.b.CONVERSATION_AVATAR_UPDATE:{const a=e.avatar_image_https===l.conversation_avatar_image_https;return t.a.createElement(t.a.Fragment,null,this._isValidImageSource(e.avatar_image_https)&&a?t.a.createElement(s.a,{style:w.conversationAvatarContainer},t.a.createElement(E.a,{conversation:e,perspective:n})):null,t.a.createElement(R,null,o))}case h.b.JOIN_CONVERSATION:{const e=this._getAddedYouMessageWithProfileInfo(o),l=this._getParticipantsFromEntry(),a=t.a.createElement(i.b,{align:"center",color:"gray700",size:"subtext2"},this._getParticipantsFromEntryText(l)),n=this._getJoinConversationDetailsWithFacepile(l,a);return t.a.createElement(t.a.Fragment,null,e,n)}default:return t.a.createElement(R,null,o)}},this._getAddedYouMessageWithProfileInfo=e=>{const{entry:l,users:a}=this.props,n=l.sender_id?a[l.sender_id]:void 0,s=n?{pathname:`https://twitter.com/${n.screen_name}`}:void 0;return t.a.createElement(f.a,{interactiveStyles:null,link:s,style:w.userAddedYouContainer},n?t.a.createElement(T.default,{accessibilityLabel:n.screen_name,screenName:n.screen_name,size:"medium",uri:n.profile_image_url_https,withHoverCard:!0,withLink:!0}):null,t.a.createElement(R,{link:s,style:w.userAddedYouText},e))},this._getJoinConversationDetailsWithFacepile=(e,l)=>{const{conversation:a}=this.props,n=e.slice(0,20).map((({profile_image_url_https:e})=>e));return t.a.createElement(f.a,{interactiveStyles:null,link:{pathname:`/messages/${a.conversation_id}/participants`},style:w.joinConversationDetails},l,t.a.createElement(K.a,{style:w.userAvatarFacepile,userAvatarSize:"xLarge",userAvatarUrls:n}))}}shouldComponentUpdate(e){return!Object(S.a)(this.props,e)}render(){return t.a.createElement(s.a,{style:w.root},this._renderContents())}_isValidImageSource(e){return e&&""!==e&&e.indexOf("MEDIA_NOT_FOUND")<0}_getParticipantsFromEntry(){const{entry:e,perspective:l,users:a}=this.props;return e.participants?e.participants.filter((({user_id:e})=>l!==e)).map((({user_id:e})=>a[e])).filter(Boolean):[]}_getParticipantsFromEntryText(e){const{conversation:{conversation_id:l}}=this.props;return Object(I.b)(e.length,l)}}const w=o.a.create((e=>({root:{paddingBottom:e.spaces.space20},conversationAvatarContainer:{alignSelf:"center",height:e.spaces.space64,marginBottom:e.spaces.space12,width:e.spaces.space64},userAddedYouContainer:{flexDirection:"row",justifyContent:"center"},userAddedYouText:{flexShrink:1,marginLeft:e.spaces.space12},joinConversationDetails:{marginTop:e.spaces.space4},userAvatarList:{marginTop:e.spaces.space4},userAvatarFacepile:{marginTop:e.spaces.space4,justifyContent:"center"}})));var M=Object(L.a)(C),x=a("ZToW"),A=a("+Kfv"),D=a("uArA"),O=a("Irs7"),P=a("97Jx"),U=a.n(P),H=a("X/yg"),q=a("fs1G"),N=a("jtO7");const j=o.a.create((e=>({root:{borderColor:e.colors.gray50,borderStyle:"solid",borderWidth:e.borderWidths.small,borderBottomWidth:e.borderWidths.none,boxSizing:"border-box",overflow:"hidden"},isLast:{borderBottomWidth:e.borderWidths.small},insideTopRoundedSent:{borderTopLeftRadius:e.borderRadii.xLarge},insideTopRoundedReceived:{borderTopRightRadius:e.borderRadii.xLarge},outsideTopRoundedSent:{borderTopRightRadius:e.borderRadii.xLarge},outsideTopRoundedReceived:{borderTopLeftRadius:e.borderRadii.xLarge},sentLast:{borderBottomLeftRadius:e.borderRadii.xLarge},receivedLast:{borderBottomRightRadius:e.borderRadii.xLarge}})));var W=({insideTopRounded:e,isLast:l,isSent:a,label:n,onClick:i,outsideTopRounded:r,tcoUrl:o})=>{const c=[j.root,l&&j.isLast,l&&a&&j.sentLast,l&&!a&&j.receivedLast,e&&a&&j.insideTopRoundedSent,e&&!a&&j.insideTopRoundedReceived,r&&a&&j.outsideTopRoundedSent,r&&!a&&j.outsideTopRoundedReceived];return t.a.createElement(s.a,{style:c},t.a.createElement(N.a,{align:"center",color:"primary",label:n,link:o,onClick:i}))};class B extends t.a.Component{componentDidMount(){this.props.onImpression()}render(){const{callToActions:e,isSent:l,onCtaClick:a,withSticker:n,withUserText:i}=this.props,r=e.map(((s,r)=>{const o=0===r;return t.a.createElement(W,{insideTopRounded:o&&(n||!i),isLast:r===e.length-1,isSent:l,key:r,label:s.label,onClick:a,outsideTopRounded:o&&n,tcoUrl:s.tco_url})}));return t.a.createElement(s.a,null,r)}}B.defaultProps={onCtaClick:q.a,onImpression:q.a};var V=B,z=a("/Ikv"),Q=a("aX4+"),G=a("sCEu"),Y=a("4w6w");const $=(e,l)=>{if(null==e)return!1;const[a,n]=l||[0,0];return!((0===a||1===a)&&e.length===n)},X=e=>{const{message_data:l}=e;if(!l)return!1;const{attachment:a}=l;if(!a)return!0;if(a.sticker)return!1;const n=a.tweet||a.photo||a.animated_gif||a.video||void 0;if(n)return $(l.text,n.indices);if(a.card){var t;const e=((null==(t=l.entities)?void 0:t.urls)||[]).find((e=>e.url===a.card));return $(l.text,e&&e.indices)}return!0},J=e=>{var l;const a=null==e||null==(l=e.message_data)?void 0:l.attachment;return!(!a||!(a.card||a.tweet||a.photo||a.animated_gif||a.video))},Z=e=>{var l;const a=null==e||null==(l=e.message_data)?void 0:l.attachment;return!(!a||!a.fleet)},ee=(e,l,a)=>{const n=1.25*o.a.theme.fontSizesPx.body;return{compositeRendered:e?void 0!==l&&void 0!==a:void 0!==l,isTextSquared:void 0!==l&&void 0!==a&&(a===l||a<=l-n),isAttachmentSquared:void 0!==a&&void 0!==l&&(l===a||l<=a-n)}},le=o.a.create((e=>({root:{width:"100%"},invisible:{opacity:0},visible:{opacity:1}})));var ae=({attachmentContent:e,attachmentHeader:l,isVisible:a=!0,textContent:n})=>t.a.createElement(s.a,{style:[a?le.visible:le.invisible,le.root]},l,e,n),ne=a("I4+6"),te=a("cTG8");const se="87.5%",ie="24px";const re=({excludeCardUrl:e,isActive:l=!1,isFailedDraft:a,isFirstRapidFire:n=!1,isLastRapidFire:s=!1,isRapidFire:i=!1,isSent:r,hasAssociatedAttachment:c,messageData:d={},rootStyle:u,tweetId:m,withCta:g,withMediaLinks:p,withMessageBubble:y})=>{const{featureSwitches:h}=t.a.useContext(_.a),k=h.isTrue("dm_vdl_enabled")&&h.isTrue("dm_vdl_chat_p0_enabled"),v=[u,y&&oe.messageTextContainer,y&&k&&oe.messageTextContainerVDL,y&&r&&oe.sent,y&&k&&r&&oe.vdlSent,y&&!r&&oe.received,y&&k&&!r&&oe.received,a&&oe.failedDraft,i&&!k&&!n&&!r&&oe.rapidFireReceived,i&&!k&&!n&&r&&oe.rapidFireSent,s&&k&&r&&oe.rapidFireLastSentVDL,s&&k&&!r&&oe.rapidFireLastReceivedVDL,c&&r&&oe.hasAssociatedAttachmentSent,c&&!r&&oe.hasAssociatedAttachmentReceived,y&&l&&r&&oe.activeSent,y&&k&&l&&r&&oe.vdlActiveSent,y&&l&&!r&&!x.a.isEnabled&&oe.activeReceived,g&&oe.withCta],b=[oe.tweetText,y&&oe.textAlignLeft,!y&&r&&oe.textAlignRight],{gray0:F,magenta500:T,primary:K,text:S,white:E}=o.a.theme.colors,L=ne.a.generate({color:r?E:S,backgroundColor:a?T:r?K:F}),I=d.text&&d.text.length||0;return t.a.createElement(f.a,{accessibilityRole:"none",interactive:r,interactiveStyles:y?L:null,style:v},t.a.createElement(te.a,{color:o.a.isDarkMode()||r?"whiteOnColor":void 0,displayTextRange:[0,I],entities:d.entities,excludeCardUrl:e,linkColor:y&&r||o.a.isDarkMode()?"whiteOnColor":"link",linkify:!0,quotedTweetId:m,size:y?void 0:"title2",style:b,text:d.text||"",underlineLinks:!0,withMediaLinks:p}))},oe=o.a.create((e=>({tweetText:{overflow:"hidden",wordBreak:"break-word"},messageTextContainer:{borderRadius:e.borderRadii.xLarge,boxSizing:"border-box",maxWidth:"100%",paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space16},messageTextContainerVDL:{borderRadius:ie},textAlignLeft:{textAlign:"left"},textAlignRight:{textAlign:"right"},sent:{alignSelf:"flex-end",backgroundColor:e.colors.primary,borderBottomRightRadius:e.borderRadii.none,borderColor:e.colors.primary},vdlSent:{backgroundColor:e.colors.primary,borderBottomRightRadius:ie},received:{alignSelf:"flex-start",backgroundColor:e.colors.dmReceivedBubbleBackground,borderBottomLeftRadius:e.borderRadii.none,borderColor:e.colors.gray200},vdlReceived:{borderBottomLeftRadius:ie},activeSent:{backgroundColor:e.colors.lightPrimary},activeReceived:{backgroundColor:e.colors.gray200},vdlActiveSent:{backgroundColor:e.colors.primary700},failedDraft:{backgroundColor:e.colors.magenta500},rapidFireReceived:{borderTopLeftRadius:e.borderRadii.none},rapidFireSent:{borderTopRightRadius:e.borderRadii.none},rapidFireLastSentVDL:{borderBottomRightRadius:e.borderRadii.small},rapidFireLastReceivedVDL:{borderBottomLeftRadius:e.borderRadii.small},withCta:{borderBottomRightRadius:e.borderRadii.none,borderBottomLeftRadius:e.borderRadii.none},hasAssociatedAttachmentSent:{borderTopRightRadius:e.borderRadii.none},hasAssociatedAttachmentReceived:{borderTopLeftRadius:e.borderRadii.none}})));re.defaultProps={withMediaLinks:!1};var ce=re;var de=({isActive:e=!1,isFailedDraft:l,isFirstRapidFire:a=!1,isLastRapidFire:n=!1,isRapidFire:s=!1,isSent:i,messageData:r,withCta:o,withMessageBubble:c})=>t.a.createElement(ce,{isActive:e,isFailedDraft:l,isFirstRapidFire:a,isLastRapidFire:n,isRapidFire:s,isSent:i,messageData:r,withCta:o,withMediaLinks:!0,withMessageBubble:c}),ue=a("0KEI"),me=a("rxPX"),ge=a("EGrD"),pe=a("vjRr");const ye=(e,l)=>l.cardUrl;var _e=Object(me.a)().propsFromState((()=>({adFreeArticleDomains:ge.c,card:pe.a.createSingleHydratedSelector(ye)}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(ue.createLocalApiErrorHandlerWithContextFactory)("DM_CARD_MESSAGE"),fetchAdFreeToken:ge.a,loadAdFreeArticleDomainsFromPersistence:ge.b,popOutConversation:F.popOutConversation})));const{CardNames:he}=z.a;class ke extends t.a.Component{constructor(...e){var l;super(...e),this.state={attachmentWidth:void 0,textContentWidth:void 0},this._hasClaimsForAdFreeArticles=null==(l=this.context.userClaims)?void 0:l.isTrueAndEnabled("subscriptions_feature_1006"),this._handleAttachmentLayout=e=>{const{nativeEvent:{layout:{width:l}}}=e,{attachmentWidth:a}=this.state;if(a!==l){const e={attachmentWidth:l};this.setState(e)}},this._handleOnClick=e=>{const{card:{binding_values:l}={},conversationId:a,popOutConversation:n}=this.props;if(a&&n(a),this._hasClaimsForAdFreeArticles){const{adFreeArticleDomains:a,createLocalApiErrorHandler:n,fetchAdFreeToken:t}=this.props,[s,i]=new G.a(t,n()).getAdFreeArticlesClickHandler({destinationUrl:z.a.getBindingValue(l,"card_url"),linkDomain:z.a.getBindingValue(l,"domain"),adFreeArticleDomains:a});s&&i(e)}},this._handleTextContentLayout=e=>{const{nativeEvent:{layout:{width:l}}}=e,{textContentWidth:a}=this.state;if(a!==l){const e={textContentWidth:l};this.setState(e)}}}componentDidMount(){this._hasClaimsForAdFreeArticles&&this.props.loadAdFreeArticleDomainsFromPersistence()}render(){const{card:e,hasUserText:l,isActive:a,isFailedDraft:n,isFirstRapidFire:i,isLastRapidFire:r,isRapidFire:o,isSent:c,messageData:d,withCta:u,withMessageBubble:m}=this.props,{attachmentWidth:g,textContentWidth:p}=this.state,y=!!Object.values(he).includes(null==e?void 0:e.name),_=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_chat_p0_enabled"),h=ee(l,g,p);let k;h.isAttachmentSquared?k="both":_&&!l||(k=c?"right":"left");const v=e?t.a.createElement(s.a,{onClick:this._handleOnClick,onLayout:this._handleAttachmentLayout},t.a.createElement(Q.a,{card:{name:e.name,url:e.url,binding_values:e.binding_values,users:e.users},cardContext:{tweetUserId:d.sender_id},dmSentOrReceived:c?"sent":"received",withBorderShadow:_,withSquareBottomBorderRadius:k})):null,b=l?t.a.createElement(s.a,{onLayout:this._handleTextContentLayout,style:c?ve.sentMessageWrapper:ve.receivedMessageWrapper},t.a.createElement(ce,{excludeCardUrl:null==e?void 0:e.url,hasAssociatedAttachment:!0,isActive:a,isFailedDraft:n,isFirstRapidFire:i,isLastRapidFire:r,isRapidFire:o,isSent:c,messageData:d,rootStyle:h.isTextSquared?c?ve.textSentSquared:ve.textReceivedSquared:void 0,withCta:u,withMessageBubble:m})):null;return y?t.a.createElement(ae,{attachmentContent:v,isVisible:h.compositeRendered,textContent:b}):t.a.createElement(de,{isActive:a,isFailedDraft:n,isFirstRapidFire:i,isLastRapidFire:r,isRapidFire:o,isSent:c,messageData:d,withCta:u,withMessageBubble:m})}}ke.defaultProps={hasUserText:!1},ke.contextType=_.a;const ve=o.a.create((e=>({attachmentReceivedSquared:{borderBottomRightRadius:e.borderRadii.none},attachmentSentSquared:{borderBottomLeftRadius:e.borderRadii.none},card:{marginBottom:e.spaces.space2},receivedMessageWrapper:{alignSelf:"flex-start"},sentMessageWrapper:{alignSelf:"flex-end"},received:{borderBottomLeftRadius:e.borderRadii.none},sent:{borderBottomRightRadius:e.borderRadii.none},textReceivedSquared:{borderTopRightRadius:e.borderRadii.none},textSentSquared:{borderTopLeftRadius:e.borderRadii.none}})));var be=_e(ke);const Fe=d.a.f7204380;class fe extends t.a.Component{constructor(...e){super(...e),this.state={attachmentWidth:void 0,textContentWidth:void 0},this._getSquareBottomStyles=e=>{const{isSent:l}=this.props;let a="left";return e?a="both":l&&(a="right"),Te[a]},this._handleAttachmentLayout=e=>{const{nativeEvent:{layout:{width:l}}}=e,{attachmentWidth:a}=this.state;a!==l&&this.setState({attachmentWidth:l})},this._handleTextContentLayout=e=>{const{nativeEvent:{layout:{width:l}}}=e,{textContentWidth:a}=this.state;a!==l&&this.setState({textContentWidth:l})}}render(){const{hasUserText:e,isActive:l,isFailedDraft:a,isFirstRapidFire:n,isLastRapidFire:r,isRapidFire:o,isSent:c,messageData:d,withCta:u,withMessageBubble:m}=this.props,{attachmentWidth:g,textContentWidth:p}=this.state;if(!d||!d.attachment||!d.attachment.fleet)return null;const{compositeRendered:y,isAttachmentSquared:_,isTextSquared:h}=ee(e,g,p),k=[Ke.tombstoneWrapper,c?Ke.sentMessageWrapper:Ke.receivedMessageWrapper,this._getSquareBottomStyles(_)],v=t.a.createElement(s.a,{onLayout:this._handleAttachmentLayout,style:k},t.a.createElement(i.b,{color:"gray700"},Fe)),b=e?t.a.createElement(s.a,{onLayout:this._handleTextContentLayout,style:[c?Ke.sentMessageWrapper:Ke.receivedMessageWrapper,!m&&Ke.fleetReactionSpacing]},t.a.createElement(ce,{hasAssociatedAttachment:!0,isActive:l,isFailedDraft:a,isFirstRapidFire:n,isLastRapidFire:r,isRapidFire:o,isSent:c,messageData:d,rootStyle:h?c?Ke.sentSquared:Ke.receivedSquared:void 0,withCta:u,withMessageBubble:m})):null;return t.a.createElement(ae,{attachmentContent:v,isVisible:y,textContent:b})}}const Te=o.a.create((e=>({both:{borderBottomRightRadius:e.borderRadii.none,borderBottomLeftRadius:e.borderRadii.none},left:{borderBottomLeftRadius:e.borderRadii.none},right:{borderBottomRightRadius:e.borderRadii.none}}))),Ke=o.a.create((e=>({fleetReactionSpacing:{marginTop:e.spaces.space4},receivedMessageWrapper:{alignSelf:"flex-start"},receivedSquared:{borderTopRightRadius:e.borderRadii.none},sentMessageWrapper:{alignSelf:"flex-end"},sentSquared:{borderTopLeftRadius:e.borderRadii.none},tombstoneWrapper:{backgroundColor:e.colors.gray0,borderColor:e.colors.gray50,borderRadius:e.borderRadii.xLarge,boxSizing:"border-box",flexDirection:"row",borderWidth:e.borderWidths.small,paddingHorizontal:e.spaces.space16,paddingVertical:e.spaces.space12,overflow:"auto"}})));var Se=fe,Ee=(a("849X"),a("CoGJ")),Le=a("A91F"),Ie=a("prG5"),Re=a("RCZO");const Ce=d.a.b327c12a,we=e=>{e.stopPropagation()};var Me=({media:e,mediaUrl:l})=>{const a=e.ext_alt_text||Ce,n=e.media_url_https,{height:s,width:i}=e.original_info||{},r=Object(Re.b)(e).rgb,o=t.a.createElement(Ie.a,{accessibilityLabel:a,aspectMode:Le.a.withinRange(9/16,10),backgroundColor:r,image:{url:n,width:i,height:s},shouldShowAltLabel:!!e.ext_alt_text});return l?t.a.createElement(f.a,{interactiveStyles:null,link:l,onPress:we},o):o},xe=a("XrEN"),Ae=a("ZvMt"),De=a("lklz"),Oe=a("Modb");var Pe=({media:e,messageId:l})=>{const a=e&&xe.a.extractVideoProps(De.b.forDm(l),e);return a?t.a.createElement(Oe.a,U()({},a,{aspectRatio:Ae.a.getAspectRatio(e.video_info),withPostPlayback:!0})):null},Ue=a("/yvb"),He=Object(me.a)().withAnalytics();class qe extends t.a.PureComponent{constructor(e,l){super(e,l),this._handleLayout=e=>{const{nativeEvent:{layout:{width:l}}}=e;this.state.width!==l&&this.setState({width:l})},this._getElement=()=>{const{contentType:e,isSensitive:l}=this.props;return`${l?"sensitive":"untrusted"}_${e}_interstitial`},this._handleClick=()=>{const{analytics:e}=this.props;this.setState({hide:!1}),e.scribe({element:this._getElement(),action:"reveal"})},this.state={hide:!0,width:0}}componentDidMount(){const{analytics:e}=this.props;e.scribe({element:this._getElement(),action:"impression"})}render(){const{children:e,ctaText:l,description:a,withSquareBottomBorderRadius:n}=this.props,{hide:r,width:c}=this.state,d=c<o.a.theme.breakpoints.micro;return r?t.a.createElement(s.a,{focusable:!0,onLayout:this._handleLayout,style:[je.root,d?{flexDirection:"column"}:{flexDirection:"row",alignItems:"center"},n&&Ne[n]]},t.a.createElement(s.a,{style:je.description},t.a.createElement(i.b,null,a)),t.a.createElement(s.a,{style:[je.button,d?je.breakButtonWrapper:void 0]},t.a.createElement(Ue.a,{onClick:this._handleClick,size:"small",style:je.buttonElement,type:"brandText"},l))):e}}qe.defaultProps={isSensitive:!1};const Ne=o.a.create((e=>({both:{borderBottomRightRadius:e.borderRadii.none,borderBottomLeftRadius:e.borderRadii.none},left:{borderBottomLeftRadius:e.borderRadii.none},right:{borderBottomRightRadius:e.borderRadii.none}}))),je=o.a.create((e=>({breakButtonWrapper:{marginTop:o.a.theme.spaces.space4,marginLeft:`calc(-1 * ${e.spaces.space12})`},button:{flexGrow:1,alignItems:"flex-start"},buttonElement:{paddingHorizontal:e.spaces.space12},description:{flexGrow:1,flexShrink:1},root:{backgroundColor:e.colors.gray0,borderColor:e.colors.gray50,borderRadius:e.borderRadii.xLarge,boxSizing:"border-box",borderWidth:e.borderWidths.small,maxWidth:"100%",paddingLeft:e.spaces.space16,paddingTop:e.spaces.space16,paddingBottom:e.spaces.space16,paddingRight:e.spaces.space4,overflow:"auto",display:"flex"}})));var We=Object(O.a)(He(qe));const Be=t.a.createElement(Ee.a,null),Ve=d.a.d9de7b58,ze=d.a.f2879f4e,Qe=d.a.b518221e,Ge=d.a.eeaa9f90,Ye=d.a.g2b43664,$e=d.a.f277e94a;class Xe extends t.a.Component{constructor(...e){super(...e),this._isVDLEnabled=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_chat_p0_enabled"),this.state={attachmentWidth:void 0,textContentWidth:void 0},this._renderAttachment=()=>{const{entry:e,hasUserText:l,isFirstRapidFire:a,isRapidFire:n,isSent:i,isTrusted:r,messageData:o}=this.props,{attachmentWidth:c,textContentWidth:d}=this.state,{attachment:u}=o||{},m=e.is_draft,g=ee(l,c,d),p=[Je.mediaAttachment,this._isVDLEnabled&&Je.vdlBorderRadius,(!this._isVDLEnabled||l)&&i&&Je.isSent,(!this._isVDLEnabled||l)&&!i&&Je.received,i&&g.isAttachmentSquared&&Je.equalComponentDimensionsSent,!i&&g.isAttachmentSquared&&Je.equalComponentDimensionsReceived,n&&!a&&i&&Je.rapidFireSent,n&&!a&&!i&&Je.rapidFireReceived];let y,_,h=null;if(!m&&e.conversation_id&&(h=`/messages/${e.conversation_id}/media/${e.id}`),u)if(u.photo)y=u.photo,_=t.a.createElement(Me,{media:y,mediaUrl:h});else if(u.animated_gif)y=u.animated_gif,_=t.a.createElement(Pe,{media:y,messageId:e.id});else if(u.video){if(y=u.video,Object(H.p)(u,this.context.featureSwitches))throw new Error("DMMediaMessage should not be used to render voice messages");_=t.a.createElement(Pe,{media:y,messageId:e.id})}const k=g.isAttachmentSquared?"both":i?"right":"left",v=y&&_&&(i?_:this._getMediaContentWithGuard(y,r,_,k));return{attachmentContent:t.a.createElement(s.a,{onLayout:this._handleAttachmentLayout,style:p},v),media:y}},this._handleAttachmentLayout=e=>{const{nativeEvent:{layout:{width:l}}}=e,{attachmentWidth:a}=this.state;if(a!==l){const e={attachmentWidth:l};this.setState(e)}},this._handleTextContentLayout=e=>{const{nativeEvent:{layout:{width:l}}}=e,{textContentWidth:a}=this.state;if(a!==l){const e={textContentWidth:l};this.setState(e)}}}render(){const{entry:e,hasUserText:l,isActive:a,isFailedDraft:n,isFirstRapidFire:i,isLastRapidFire:r,isRapidFire:o,isSent:c,messageData:d,withCta:u,withMessageBubble:m}=this.props,{attachmentWidth:g,textContentWidth:p}=this.state,y=e.is_draft,_=ee(l,g,p),{attachmentContent:h,media:k}=this._renderAttachment(),v=l?t.a.createElement(s.a,{onLayout:this._handleTextContentLayout,style:c?Je.sentMessageWrapper:Je.receivedMessageWrapper},t.a.createElement(ce,{hasAssociatedAttachment:!0,isActive:!!a,isFailedDraft:n,isFirstRapidFire:!!i,isLastRapidFire:!!r,isRapidFire:!!o,isSent:c,messageData:y?d:this._parseMessageData(d,k),rootStyle:_.isTextSquared?c?Je.sentSquared:Je.receivedSquared:void 0,withCta:u,withMessageBubble:m})):null;return t.a.createElement(ae,{attachmentContent:h,isVisible:_.compositeRendered,textContent:v})}_getMediaContentWithGuard(e,l,a,n){const{displaySensitiveMedia:s,isDmNsfwMediaFilterEnabled:i}=this.props;if(e.possibly_sensitive&&this.context.featureSwitches.isTrue("dm_conversations_nsfw_media_filter_enabled")){if(i){const l="animated_gif"===e.type&&Ye||"video"===e.type&&Ge||Qe;return t.a.createElement(We,{contentType:e.type,ctaText:l,description:ze,isSensitive:!0,withSquareBottomBorderRadius:n},a)}}else if(!s&&e.possibly_sensitive)return t.a.createElement(We,{contentType:e.type,ctaText:$e,description:Be,isSensitive:!0,withSquareBottomBorderRadius:n},a);return l?a:t.a.createElement(We,{contentType:e.type,ctaText:$e,description:Ve,withSquareBottomBorderRadius:n},a)}_parseMessageData(e,l){var a;const n=null!=e&&null!=(a=e.entities)&&a.urls&&l?e.entities.urls.filter((e=>e.display_url!==l.display_url)):null;return e&&n?{...e,entities:{...e.entities,urls:n,media:l?[l]:[]}}:void 0}}Xe.contextType=_.a,Xe.defaultProps={hasUserText:!1};const Je=o.a.create((e=>({equalComponentDimensionsSent:{borderBottomLeftRadius:e.borderRadii.none},equalComponentDimensionsReceived:{borderBottomRightRadius:e.borderRadii.none},invisible:{opacity:0},isSent:{borderBottomRightRadius:e.borderRadii.none},mediaAttachment:{borderRadius:e.borderRadii.xLarge,WebkitMaskImage:"url(data:image/png;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICRAEAOw==)"},vdlBorderRadius:{borderRadius:ie},receivedMessageWrapper:{alignSelf:"flex-start"},sentMessageWrapper:{alignSelf:"flex-end"},rapidFireReceived:{borderTopLeftRadius:e.borderRadii.none},rapidFireSent:{borderTopRightRadius:e.borderRadii.none},received:{borderBottomLeftRadius:e.borderRadii.none},receivedSquared:{borderTopRightRadius:e.borderRadii.none},sentSquared:{borderTopLeftRadius:e.borderRadii.none},visible:{opacity:1}})));var Ze=Xe,el=Object(me.a)().propsFromActions((()=>({markSpamStatus:F.markSpamStatus})));const ll=d.a.fd079470,al=d.a.c7a92dca,nl=d.a.f277e94a,tl=d.a.fb3ccb56;class sl extends t.a.PureComponent{constructor(...e){super(...e),this._handlePress=e=>()=>{const{conversationId:l,dmId:a,markSpamStatus:n}=this.props;n({conversationId:l,dmId:a,markSpam:e})}}render(){const{children:e}=this.props;return t.a.createElement(We,{contentType:"dm",ctaText:nl,description:tl},e,this._renderButtons())}_renderButtons(){return t.a.createElement(s.a,{style:rl.buttons},t.a.createElement(Ue.a,{onPress:this._handlePress(!1),style:rl.leftButton,type:"brandOutlined"},al),t.a.createElement(Ue.a,{onPress:this._handlePress(!0),type:"brandOutlined"},ll))}}var il=el(sl);const rl=o.a.create((e=>({buttons:{flexDirection:"row",paddingTop:e.spaces.space4},leftButton:{marginRight:e.spaces.space12}})));var ol=a("U+bB");const cl=e=>{const l=e.images,a=l.svg||l.size_1x;if(a)return a.url},dl=o.a.create((e=>({stickerItem:{height:`calc(3 * ${e.fontSizes.title2})`,width:`calc(3 * ${e.fontSizes.title2})`}})));var ul=({sticker:e})=>t.a.createElement(ol.a,{accessibilityLabel:e.display_name,source:cl(e),style:dl.stickerItem}),ml=a("shC7"),gl=a("MH+I"),pl=a("5Ixf"),yl=a("AtEG"),_l=a("htvZ"),hl=a("38/B"),kl=a("zTrU");var vl=Object(kl.a)((function(e){const l=o.a.theme.spacesPx.space40;return{DMUserAvatarSizeType:"xLarge",DMUserAvatarSizePx:l,DMUserAvatarSpacerPx:l+o.a.theme.spacesPx.space12}}));const bl=function(e){return Fl(e,hl.a.reducedMotionEnabled)},Fl=Object(kl.a)((function(e,l){const a=function(){const{DMUserAvatarSizePx:e,DMUserAvatarSpacerPx:l}=vl(o.a.theme.scale),a=Kl[o.a.theme.scale],n=fl/a,t=Tl/e,s=Tl/2,i=Tl-s,r=Tl-s-l;return{cssTransition:hl.a.reducedMotionEnabled?{}:{transition:`transform ${El}, opacity ${El}`},messageContainer:{base:{transform:[{translateX:0}]},active:{sent:{transform:[{translateX:(ml.a.getConstants().isRTL?1:-1)*i}]},received:{transform:[{translateX:(ml.a.getConstants().isRTL?-1:1)*r}]}}},actionsContainer:{base:{transform:[{translateX:0}]},active:{sent:{transform:[{translateX:(ml.a.getConstants().isRTL?1:-1)*Sl[o.a.theme.scale]}]},received:{transform:[{translateX:(ml.a.getConstants().isRTL?-1:1)*(Sl[o.a.theme.scale]+r)-s}]}}},voiceMessage:{container:{base:{height:a},active:{height:fl}},base:{height:a,transform:[{scale:1}]},active:{base:{transform:[{scale:n}]},sent:{paddingRight:s/n,transformOrigin:ml.a.getConstants().isRTL?"bottom left":"bottom right"},received:{paddingLeft:s/n,transformOrigin:ml.a.getConstants().isRTL?"bottom right":"bottom left"}}},userAvatar:{base:{transform:[{scale:1}]},sent:{transformOrigin:ml.a.getConstants().isRTL?"bottom left":"bottom right"},received:{transformOrigin:ml.a.getConstants().isRTL?"bottom right":"bottom left"},active:{opacity:1,pointerEvents:"all",transform:[{scale:t}]},visuallyHidden:{opacity:0,pointerEvents:"none"}}}}();return{actionsContainer:function({isSent:e,isVoiceMessageActive:l}){const n=[a.cssTransition,a.actionsContainer.base];return l&&n.push(e?a.actionsContainer.active.sent:a.actionsContainer.active.received),n},messageContainer:function({isSent:e,isVoiceMessageActive:l}){const n=[a.cssTransition,a.messageContainer.base];return l&&n.push(e?a.messageContainer.active.sent:a.messageContainer.active.received),n},voiceMessageContainer:function({isSent:e,isVoiceMessageActive:l}){const n=[a.cssTransition,a.voiceMessage.container.base];return l&&n.push(a.voiceMessage.container.active),n},voiceMessage:function({isSent:e,isVoiceMessageActive:l}){const n=[a.cssTransition,a.voiceMessage.base];return l&&(n.push(a.voiceMessage.active.base),n.push(e?a.voiceMessage.active.sent:a.voiceMessage.active.received)),n},userAvatar:function({isSent:e,isVoiceMessageActive:l}){const n=[a.cssTransition,a.userAvatar.base,e?a.userAvatar.sent:a.userAvatar.received];return l?n.push(a.userAvatar.active):e&&n.push(a.userAvatar.visuallyHidden),n}}}));const fl=60,Tl=fl,Kl={xSmall:42,small:42,normal:47,large:47,xLarge:47},Sl={xSmall:72.26,small:165.61-89.3,normal:158.22-94.4,large:166.64-100.58,xLarge:181.55-111.81},El="0.2s 0s ease-in-out";function Ll(e){var l,a;const n=t.a.useContext(_l.a),{isLowQuality:s,isSent:i,isTrusted:r}=e;if(null==(l=e.media)||!l.video_info)return null;const[o,c]=n.activeVoiceMessage,[d]=n.playerApi,[u]=n.playerState,{scribeAction:m}=n,[g]=o,p=e.messageId===g;if(!m)return null;const y=Rl(u),_=(null==(a=e.media)?void 0:a.video_info.duration_millis)||0,h={durationMs:_,isActive:p,isSent:i,playerApi:null,playerState:null,onImpression:()=>m.impression({isLowQuality:s,isTrusted:r}),onPlayRequest:()=>c([e.messageId,e.media]),onPlay:()=>m.play({data:{duration_ms:_}}),onPause:()=>m.pause()};return p&&y&&y.contentId===e.media.id_str&&(h.playerApi=d,h.playerState=u,null!=y&&y.durationMs&&(h.durationMs=null==y?void 0:y.durationMs)),t.a.createElement(Il,h)}function Il(e){const l=t.a.useContext(_.a),a=l.featureSwitches.isTrue("dm_vdl_enabled")&&l.featureSwitches.isTrue("dm_vdl_chat_p0_enabled"),{isActive:n,isSent:i,playerApi:r,playerState:c}=e,d=null==c?void 0:c.isPlaying,u=Rl(c),m=(null==u?void 0:u.currentTimeMs)||0,g=(null==u?void 0:u.durationMs)||e.durationMs,p=Math.max(n?g-m:g,0);t.a.useLayoutEffect((()=>{e.onImpression()}),[]),t.a.useEffect((()=>{r&&0===m&&(r.play(),e.onPlay())}),[r]);const y=o.a.isDarkMode()||i,h={color:y?"whiteOnColor":"text"},k=[Ml.voiceMessage,xl({isSent:i,isVDLEnabled:a,squared:n}),i?Ml.voiceMessageSent:Ml.voiceMessageReceived,bl(o.a.theme.scale).voiceMessage({isVoiceMessageActive:n,isSent:i})],v=d?pl.a:yl.a;return t.a.createElement(s.a,{style:[Ml.container,bl(o.a.theme.scale).voiceMessageContainer({isVoiceMessageActive:n,isSent:i})]},t.a.createElement(s.a,{style:k},t.a.createElement(s.a,{style:Ml.startSpacer}),t.a.createElement(Ue.a,{accessibilityLabel:d?wl:Cl,icon:t.a.createElement(v,{style:y?Ml.iconColorDark:Ml.iconColorDefault}),onPress:()=>{r?d?(r.pause(),e.onPause()):(r.play(),e.onPlay()):e.onPlayRequest()},type:"onMediaText"}),t.a.createElement(s.a,{style:Ml.durationSpacer}),t.a.createElement(s.a,{style:i?Ml.durationOpacity:void 0},t.a.createElement(gl.a,U()({countdown:!0,timeMs:p},h,{color:"gray700",size:"subtext2",style:i?Ml.durationDark:void 0,weight:"bold",withCountdownSymbol:n}))),t.a.createElement(s.a,{style:Ml.endSpacer})))}const Rl=e=>e?e.tracks[e.currentTrackId]:null,Cl=d.a.c94b7d8a,wl=d.a.eb6f9582,Ml=o.a.create((e=>({displayNone:{display:"none"},container:{flexDirection:"row",alignSelf:"flex-end",alignItems:"center",justifyContent:"center"},voiceMessage:{alignSelf:"flex-end",flexDirection:ml.a.getConstants().isRTL?"row-reverse":"row",alignItems:"center",justifyContent:"center"},voiceMessageSent:{backgroundColor:e.colors.primary},voiceMessageReceived:{backgroundColor:e.colors.dmReceivedBubbleBackground},durationSpacer:{width:e.spaces.space4},durationOpacity:{opacity:.75},durationDark:{color:e.colors.whiteOnColor},iconColorDark:{color:e.colors.whiteOnColor},iconColorDefault:{color:e.colors.alwaysBaseGray1100},startSpacer:{width:e.spaces.space4},endSpacer:{width:e.spaces.space16}})));function xl({isSent:e,isVDLEnabled:l,squared:a}){return[Al.base,l&&Al.vdlBorderRadius,!l&&e&&Al.sent,!l&&!e&&Al.received,a?e?Al.sentSquared:Al.receivedSquared:void 0]}const Al=o.a.create((e=>({base:{borderRadius:e.borderRadii.xLarge,WebkitMaskImage:"url(data:image/png;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICRAEAOw==)"},vdlBorderRadius:{borderRadius:ie},sent:{borderBottomRightRadius:e.borderRadii.none},sentSquared:{borderTopRightRadius:e.borderRadii.none},received:{borderBottomLeftRadius:e.borderRadii.none},receivedSquared:{borderTopLeftRadius:e.borderRadii.none}}))),Dl=t.a.createElement(i.b,{link:"/settings/safety"});var Ol=e=>t.a.createElement(d.a.I18NFormatMessage,{$i18n:"j3c7dd33"},t.a.cloneElement(Dl,null,d.a.adcf07b6)),Pl=a("b5s6"),Ul=a("XOJV");const Hl=(e,l)=>{var a;const n=null==(a=l.messageData)?void 0:a.attachment;if(n&&n.tweet)return n.tweet.status};var ql=Object(me.a)().propsFromState((()=>({tweet:Ul.a.createHydratedTweetSelector(Hl)}))).propsFromActions((()=>({popOutConversation:F.popOutConversation})));const Nl=d.a.e4df0ad8,jl=d.a.f277e94a,Wl=d.a.b5b91d58,Bl=d.a.bb594d7c,Vl=t.a.createElement(Ol,null);const zl=o.a.create((e=>({received:{boxShadow:e.boxShadows.small},receivedAttachmentSquared:{borderTopRightRadius:e.borderRadii.none,boxShadow:e.boxShadows.small},sent:{boxShadow:e.boxShadows.small},sentAttachmentSquared:{borderTopRightRadius:e.borderRadii.none,boxShadow:e.boxShadows.small}}))),Ql=o.a.create((e=>({attachment:{marginBottom:0},receivedMessageWrapper:{alignSelf:"flex-start"},sentMessageWrapper:{alignSelf:"flex-end"},received:{borderBottomLeftRadius:e.borderRadii.none,borderColor:e.colors.gray200},receivedAttachmentSquared:{borderBottomRightRadius:e.borderRadii.none},receivedSquared:{borderTopRightRadius:e.borderRadii.none},sent:{borderBottomRightRadius:e.borderRadii.none,borderColor:e.colors.primary},sentAttachmentSquared:{borderBottomLeftRadius:e.borderRadii.none},sentSquared:{borderTopLeftRadius:e.borderRadii.none}}))),Gl={attachment:Ql.attachment,receivedMessageWrapper:Ql.receivedMessageWrapper,sentMessageWrapper:Ql.sentMessageWrapper,received:zl.received,receivedAttachmentSquared:zl.receivedAttachmentSquared,receivedSquared:Ql.receivedSquared,sent:zl.sent,sentAttachmentSquared:zl.sentAttachmentSquared,sentSquared:Ql.sentSquared};var Yl=ql((function(e){const{featureSwitches:l}=t.a.useContext(_.a),{conversationId:a,displaySensitiveMedia:n,hasUserText:i=!1,isActive:r=!1,isDmNsfwMediaFilterEnabled:o,isFailedDraft:c,isFirstRapidFire:d=!1,isLastRapidFire:u=!1,isRapidFire:m=!1,isSent:g,isTrusted:p,isVdlEnabled:y,messageData:h,popOutConversation:k,tweet:v,withCta:b,withMessageBubble:F}=e,[f,T]=t.a.useState(void 0),[K,S]=t.a.useState(void 0),E=t.a.useMemo((()=>function(){a&&k(a)}),[a,k]),L=t.a.useMemo((()=>function(e){const{nativeEvent:{layout:{width:l}}}=e;f!==l&&T(l)}),[f]),I=t.a.useMemo((()=>function(e){const{nativeEvent:{layout:{width:l}}}=e;K!==l&&S(l)}),[K]);if(!h||!h.attachment||!h.attachment.tweet)return null;const R=h.attachment.tweet,C=g?"sent":"received",w=ee(i,f,K),M=y?Gl:Ql,x=t.a.createElement(Pl.a,{onPress:E,style:[M[C],i&&M.attachment,w.isAttachmentSquared?g?M.sentAttachmentSquared:M.receivedAttachmentSquared:void 0],tweetId:R.status}),A=w.isAttachmentSquared?"both":g?"right":"left",D=(()=>{if(!v)return null;if(g)return x;if(v.possibly_sensitive&&l.isTrue("dm_conversations_nsfw_media_filter_enabled")){if(o||void 0===o)return t.a.createElement(We,{contentType:"photo",ctaText:Bl,description:Wl,withSquareBottomBorderRadius:A},x)}else if(!n&&v.possibly_sensitive)return t.a.createElement(We,{contentType:"photo",ctaText:jl,description:Vl,withSquareBottomBorderRadius:A},x);return p?x:t.a.createElement(We,{contentType:"tweet",ctaText:jl,description:Nl,withSquareBottomBorderRadius:A},x)})(),O=t.a.createElement(s.a,{onLayout:L,style:M.attachment},D),P=i?t.a.createElement(s.a,{onLayout:I,style:g?M.sentMessageWrapper:M.receivedMessageWrapper},t.a.createElement(ce,{hasAssociatedAttachment:!0,isActive:r,isFailedDraft:c,isFirstRapidFire:d,isLastRapidFire:u,isRapidFire:m,isSent:g,messageData:h,rootStyle:w.isTextSquared?g?M.sentSquared:M.receivedSquared:void 0,tweetId:R.status,withCta:b,withMediaLinks:!0,withMessageBubble:F})):null;return t.a.createElement(ae,{attachmentContent:O,isVisible:w.compositeRendered,textContent:P})}));class $l extends t.a.Component{render(){const{entry:e,isSent:l,onCtaClick:a,onCtaImpression:n}=this.props,{message_data:i}=e,r=i&&i.attachment?i.attachment:{},o=e.marked_as_spam,c=J(e),d=!!i&&!!i.ctas,u=X(e),m=(e=>{const{message_data:l}=e;if(!l)return!1;if(J(e)&&!Z(e))return!1;if(!l.text)return!1;const a=Object(Y.parse)(l.text);if(!a||0===a.length)return!1;const n=a.sort(((e,l)=>l.indices[1]-e.indices[1])).reduce(((e,l)=>`${e.slice(0,l.indices[0])}${e.slice(l.indices[1])}`),l.text).trim();return a.length<=10&&0===n.length})(e),g=!(u&&m),p=Z(e);let y;y=r.sticker?t.a.createElement(ul,{sticker:r.sticker}):this._renderDMMessage(u,d,g);const _=o?t.a.createElement(il,{conversationId:e.conversation_id,dmId:e.id},y):y,h=c&&!p&&!Object(H.p)(null==i?void 0:i.attachment,this.context.featureSwitches),k=[l?Xl.isSent:Xl.isReceived,d&&Xl.withCta,h?Xl.mediaRoot:Xl.flexShrink,this.props.style];return t.a.createElement(s.a,{style:k},_,i&&i.ctas?t.a.createElement(V,{callToActions:i.ctas,isSent:l,onCtaClick:a,onImpression:n,withSticker:!!r.sticker||m,withUserText:u}):null)}_renderDMMessage(e,l,a){const{displaySensitiveMedia:n,entry:s,isActive:i,isDmNsfwMediaFilterEnabled:r,isFirstRapidFire:o,isLastRapidFire:c,isLowQuality:d,isRapidFire:u,isSent:m,isTrusted:g}=this.props,{error:p,message_data:y}=s,_=y&&{...y,entities:y&&y.entities||void 0,error:p},h=null==_?void 0:_.attachment,k={isActive:i,isFailedDraft:!!p,isFirstRapidFire:o,isLastRapidFire:c,isRapidFire:u,isSent:m,withCta:l,withMessageBubble:a},v=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_chat_p0_enabled");if(_&&h){if(h.tweet)return t.a.createElement(Yl,U()({conversationId:s.conversation_id,displaySensitiveMedia:n,hasUserText:e,isDmNsfwMediaFilterEnabled:r,isTrusted:g,isVdlEnabled:v,messageData:_},k));if(h.photo||h.animated_gif||h.video)return h.video&&Object(H.p)(h,this.context.featureSwitches)?t.a.createElement(Ll,{isLowQuality:d,isSent:!!m,isTrusted:g,media:h.video,messageId:s.id}):t.a.createElement(Ze,U()({displaySensitiveMedia:n,entry:s,hasUserText:e,isDmNsfwMediaFilterEnabled:r,isTrusted:g,messageData:_},k));if(h.card)return t.a.createElement(be,U()({cardUrl:h.card,conversationId:s.conversation_id,hasUserText:e,messageData:_},k));if(h.fleet)return t.a.createElement(Se,U()({entry:s,hasUserText:e,messageData:_},k))}return t.a.createElement(de,U()({},k,{messageData:_}))}}$l.contextType=_.a;const Xl=o.a.create((e=>({flexShrink:{flexShrink:1},mediaRoot:{flex:1},isSent:{alignItems:"flex-end"},isReceived:{alignItems:"flex-start"},withCta:{alignItems:"stretch"}})));var Jl=$l,Zl=(a("MvUL"),a("CaKu")),ea=a("i4Oy"),la=a("mjJ+"),aa=a("Q0VY"),na=a("hiGS"),ta=a("zIWA"),sa=a("k/Ka"),ia=a("Lsrn");const ra=(e={})=>Object(sa.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[ia.a.root,e.style],viewBox:"0 0 24 24"},t.a.createElement("g",null,t.a.createElement("path",{d:"M16.925 9.5H14.5V7.075c0-.414-.336-.75-.75-.75s-.75.336-.75.75V9.5h-2.425c-.414 0-.75.336-.75.75s.336.75.75.75H13v2.425c0 .414.336.75.75.75s.75-.336.75-.75V11h2.425c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm-.3 11H4.25c-.413 0-.75-.337-.75-.75V8.402c0-.414-.336-.75-.75-.75s-.75.336-.75.75V19.75C2 20.99 3.01 22 4.25 22h12.375c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"}),t.a.createElement("path",{d:"M19.75 2h-12C6.51 2 5.5 3.01 5.5 4.25v12c0 1.24 1.01 2.25 2.25 2.25h12c1.24 0 2.25-1.01 2.25-2.25v-12C22 3.01 20.99 2 19.75 2zm.75 14.25c0 .413-.337.75-.75.75h-12c-.413 0-.75-.337-.75-.75v-12c0-.413.337-.75.75-.75h12c.413 0 .75.337.75.75v12z"})));ra.metadata={width:24,height:24};var oa=ra,ca=a("DlVf"),da=a("ACHU"),ua=a("UgB4"),ma=a("fz3c"),ga=a("TnY3"),pa=a("OiMc"),ya=a("wTX1"),_a=a("aI6n"),ha=a("33Kz");var ka=({accessibilityLabelFormatter:e,count:l,emojiSize:a,emotion:n,enableHoverStyle:s,focusable:r,onPress:c,style:d})=>{const{featureSwitches:u}=t.a.useContext(_.a),m=Object(ha.b)(n,u),g=e&&m?e({emoji:m,count:l}):void 0,p=ne.a.generate({backgroundColor:o.a.theme.colors.gray50,color:o.a.theme.colors.gray700});return t.a.createElement(f.a,{accessibilityLabel:g,focusable:r,interactiveStyles:s?p:null,onPress:c,style:[va.container,...d||[]],testID:`${_a.a.reaction}-${n}`},t.a.createElement(i.b,{size:a,style:va.unsetLineHeight},m),l?t.a.createElement(ya.a,{color:"gray700",containerStyle:va.count,count:l,size:"subtext3"},l):null)};const va=o.a.create((e=>({container:{flexDirection:"row"},count:{alignSelf:"center",minWidth:e.spaces.space16,paddingLeft:e.spaces.space2},unsetLineHeight:{lineHeight:"unset"}})));var ba=a("hqKg"),Fa=a("oEGd"),fa=a("uKEd"),Ta=a("xCUF");const Ka=[],Sa=Object(ba.createSelector)((e=>Object(fa.l)(e).entries),((e,l)=>Object(fa.p)(e,l.entry.id)||Ka),((e,l)=>l.perspective),((e,l,a)=>({selectedReactions:l.filter((l=>{const n=e[l]&&e[l].data;return n&&n.sender_id===a})).map((l=>e[l].data.reaction_key))}))),Ea={createReaction:fa.d,createLocalApiErrorHandler:Object(ue.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_REACTIONS_POPOVER"),fetchUpdatesIfNeeded:Ta.d,removeReaction:fa.k};var La=Object(Fa.f)(Sa,Ea),Ia=o.a.create((e=>({reactions:{cursor:"pointer",flexDirection:"row",padding:e.spaces.space12},reaction:{borderRadius:e.borderRadii.small,padding:e.spaces.space4},selectedReaction:{backgroundColor:e.colors.gray50}}))),Ra=a("pHkl");const Ca=d.a.ca7a2215,wa=d.a.fc0e94b7,Ma=(e,l,a,n,t=0,s)=>{e.scribe({section:"twitter_service",component:"direct_messages",element:l?"delete_reaction":"create_reaction",action:"success",data:{conversation_id:n.conversation_id,conversation_participant_count:t,conversation_type:s?Ra.l.GROUP:Ra.l.ONE_TO_ONE,message_type:Object(H.c)(n),reaction_emotion:a}})};var xa,Aa,Da=La((function(e){const{featureSwitches:l}=t.a.useContext(_.a),a=Object(O.b)(),n=(l,n)=>()=>{const{createLocalApiErrorHandler:t,createReaction:s,dismiss:i,entry:r,fetchUpdatesIfNeeded:o,perspective:c,removeReaction:d}=e,u={reaction_key:l,conversation_id:r.conversation_id,dm_id:r.id,perspective:c};(n?d:s)(u).then(Ma(a,n,l,e.entry,e.participantsCount,e.isGroupDM)).then((()=>o())).catch(t()),i()},{selectedReactions:i}=e,r=Object(ha.a)(l).map((e=>{const l=i.includes(e);return t.a.createElement(ka,{accessibilityLabelFormatter:l?Ca:wa,emojiSize:"title4",emotion:e,enableHoverStyle:!0,focusable:!0,key:e,onPress:n(e,l),style:[Ia.reaction,l&&Ia.selectedReaction]})}));return t.a.createElement(s.a,{style:Ia.reactions},r)})),Oa=(a("enFi"),a("9SqB")),Pa=a.n(Oa);const Ua={agree:"Agree",disagree:"Disagree",excited:"Excited",funny:"Funny",like:"Like",sad:"Sad",surprised:"Surprised"},Ha=void 0!==xa?xa:xa=a("dUaY"),qa=void 0!==Aa?Aa:Aa=a("CNCR");var Na=La((function(e){const l=t.a.useContext(_.a),a=Object(O.b)(),n=(()=>{const[e]=Pa()(Ha);return(l,a,n)=>{e({variables:{conversationId:l,messageId:a,reactionTypes:[Ua[n]]}}).dispose()}})(),i=(l,t)=>()=>{const{dismiss:s,entry:i}=e;i.conversation_id&&(n(i.conversation_id,i.id,l),Ma(a,t,l,e.entry,e.participantsCount,e.isGroupDM)),s()},{selectedReactions:r}=e,o=Object(ha.a)(l.featureSwitches).map((e=>{const l=r.includes(e);return t.a.createElement(ka,{accessibilityLabelFormatter:l?Ca:wa,emojiSize:"title4",emotion:e,enableHoverStyle:!0,focusable:!0,key:e,onPress:i(e,l),style:[Ia.reaction,l&&Ia.selectedReaction]})}));return t.a.createElement(s.a,{style:Ia.reactions},o)}));class ja extends t.a.Component{constructor(...e){super(...e),this._renderDMReactionPickerContent=e=>{const{entry:l,isGroupDM:a,participantsCount:n,perspective:s}=this.props,i={dismiss:e,entry:l,isGroupDM:a,participantsCount:n,perspective:s};return this.props.withEvolution?t.a.createElement(Na,i):t.a.createElement(Da,i)}}render(){const{children:e,onDismiss:l}=this.props;return t.a.createElement(pa.a,{enableEnterKeyToggle:!0,onDismiss:l,preferredVerticalOrientation:"up",renderContent:this._renderDMReactionPickerContent,withArrow:!0,withFixedPosition:this.context.isDrawer},e)}}ja.contextType=v.a;var Wa=a("1YZw"),Ba=Object(me.a)().propsFromActions((()=>({addToast:Wa.b}))).withAnalytics(),Va=a("uDfI"),za=a("eb3s"),Qa=a("k49u"),Ga=a("LVU8");const Ya=d.a.f58dff34,$a=d.a.ad5a8e8e,Xa={[Qa.a.MissingParameter]:{toast:Object(Ga.a)(Ya)},[Qa.a.DirectMessageDestroyPermissionsError]:{toast:{text:$a}},showToast:!0};var Ja;const Za=d.a.j4bfee22,en=d.a.d96cf7ce,ln=d.a.faddd3a2,an=void 0!==Ja?Ja:Ja=a("QJXU");function nn({entry:e,handleHideDeleteConfirmation:l,inboxType:a,isGroupDM:n,participantsCount:s}){const i=Object(O.b)(),r=Object(ue.useCreateLocalApiErrorHandler)("DIRECT_MESSAGES_OVERFLOW_ACTIONS"),o=Object(Va.c)(),{featureSwitches:c}=t.a.useContext(_.a),[d]=Pa()(an),u=c.isTrue("dm_evolution_enabled")&&c.isTrue("dm_evolution_message_hide_enabled");return t.a.createElement(za.a,{confirmButtonLabel:en,confirmButtonType:"destructiveFilled",headline:Za,onCancel:l,onConfirm:()=>{const l=Object(H.c)(e);i.scribe({action:"delete",data:{conversation_id:e.conversation_id,conversation_type:n?Ra.l.GROUP:Ra.l.ONE_TO_ONE,conversation_participant_count:s,message_type:l,inbox_type:Object(H.l)(a)}}),u?d({variables:{messageId:e.id},onCompleted:l=>{o(F.removeEntry(e.conversation_id,null,{id:e.id}))},onError:e=>{r(Xa)(e)}}):o(F.deleteEntry({conversationId:e.conversation_id,id:e.id})).catch(r(Xa))},text:ln})}const tn=d.a.ba60339a,sn=d.a.eb497e08,rn=d.a.b170974a,on=d.a.i202bd22,cn=d.a.f2e5491a,dn=d.a.f88553c8,un=d.a.ifea3114,mn=d.a.cac1482a,gn=d.a.h63a5c3c;class pn extends t.a.Component{constructor(e,l){super(e,l),this._renderOverflowMenu=e=>{const{analytics:l,entry:a,featureSwitches:n,isSent:s}=this.props,i=ma.a.DMMessage,r=l.contextualScribeNamespace,o=[{text:tn,Icon:na.a,isEmphasized:!0,onClick:this._handleShowDeleteConfirmation(e)}];if(!s)if(Object(ma.g)(n,i)){var c;const e=Object(ma.d)({clientReferer:window.location.pathname,isMedia:!1,isPromoted:!1,reportType:i,reportedConversationId:a.conversation_id,reportedMessageId:a.id,reportedUser:null==(c=a.message_data)?void 0:c.sender_id,scribeNamespace:l.contextualScribeNamespace});o.push({text:on,Icon:ta.a,link:{pathname:"/i/safety/report_story_start",state:{input:{requested_variant:JSON.stringify(e)}}},onClick:this.props.onReportMessage})}else o.push({text:on,Icon:ta.a,link:{pathname:`/i/report/${i}/${a.id}`,state:{clientReferer:window.location.pathname,conversationId:a.conversation_id,scribeNamespace:r}},onClick:this.props.onReportMessage});return Zl.a.isAvailable()&&o.push({text:cn,Icon:oa,onClick:this._handleCopyMessageText}),t.a.createElement(la.a,{isFixed:this.context.isDrawer,items:o,onCloseRequested:this._handleHideActionsAndMenus(e),preferredHorizontalOrientation:"right"})},this._handleCopyMessageText=e=>{const{addToast:l}=this.props,a=this._replaceMessageUrls();a&&(Zl.a.setString(a),l({text:dn})),e&&e()},this._handleForwardButton=()=>{var e,l;const{entry:a,history:n}=this.props;if(null!=a&&null!=(e=a.message_data)&&null!=(l=e.attachment)&&l.tweet){const{tweet:e}=a.message_data.attachment;n.push({pathname:"/messages/compose",state:{tweetAttachment:{...e,id_str:e.status}}})}},this._handleSetActionsActive=()=>{const{setShouldFreezeUpdates:e}=this.props;this.setState({actionsAreActive:!0}),e(!0)},this._handleHideDeleteConfirmation=()=>{this.setState({showDeleteConfirmation:!1})},this._handleHideActionsAndMenus=e=>()=>{const{setShouldFreezeUpdates:l}=this.props;e&&e(),this.setState({actionsAreActive:!1}),l(!1)},this._handlePressReactionPickerButton=()=>{const{analytics:e,entry:l}=this.props;e.scribe({component:"reaction_button",element:Object(H.c)(l),action:"click"}),this._handleSetActionsActive()},this._handleShowDeleteConfirmation=e=>()=>{const{setShouldFreezeUpdates:l}=this.props;e(),this.setState({actionsAreActive:!1,showDeleteConfirmation:!0}),l(!1)},this._replaceMessageUrls=()=>{const{entry:e}=this.props,l=e&&e.message_data&&e.message_data.entities;let a=e&&e.message_data&&e.message_data.text||"";return aa.a.tweetTextParts(a,[0,a.length],l).forEach((e=>{"url"===e.entityType&&(a=a.replace(e.url,e.expandedUrl))})),a},this.state={actionsAreActive:!1,showDeleteConfirmation:!1},this._hasMedia=J(this.props.entry),this._isNarrow=ea.a.get("screen").width<o.a.theme.breakpoints.xSmall}render(){var e,l;const{entry:a,isSent:n,shouldShowReactionButton:i,style:r,withVDLRefresh:o}=this.props,c=this._areActionsVisible();return t.a.createElement(s.a,{pointerEvents:c?"auto":"none",style:[_n.messageActions,n?_n.messageActionsLeft:_n.messageActionsRight,c?_n.visible:_n.invisible,o&&_n.vdlMessageActions,this._isNarrow&&(this._hasMedia?_n.messageActionsMediaNarrow:_n.messageActionsNarrow),r]},(null==a||null==(e=a.message_data)||null==(l=e.attachment)?void 0:l.tweet)&&o&&this._renderForwardButton(),i&&this._renderReactionButton(),this._renderOverflowButton(),this._renderDeleteConfirmation())}_renderDeleteConfirmation(){const{entry:e,inboxType:l,isGroupDM:a,participantsCount:n}=this.props;return this.state.showDeleteConfirmation?t.a.createElement(nn,{entry:e,handleHideDeleteConfirmation:this._handleHideDeleteConfirmation,inboxType:l,isGroupDM:a,participantsCount:n}):null}_renderForwardButton(){return t.a.createElement(Ue.a,{accessibilityLabel:un,hoverLabel:{label:un},icon:hn,onPress:this._handleForwardButton,size:this._isNarrow?"small":"medium",type:"brandText"})}_renderReactionButton(){const{entry:e,featureSwitches:l,isGroupDM:a,participantsCount:n,perspective:s,withVDLRefresh:i}=this.props,{actionsAreActive:r}=this.state,o=t.a.createElement(ca.a,{style:i?_n.vdlActionIcon:_n.actionIcon});return t.a.createElement(ja,{entry:e,isGroupDM:a,onDismiss:this._handleHideActionsAndMenus(),participantsCount:n,perspective:s,withEvolution:l.isTrue("dm_evolution_enabled")&&l.isTrue("dm_evolution_reaction_write_enabled")},t.a.createElement(Ue.a,{accessibilityExpanded:!!r,accessibilityHasPopup:"menu",accessibilityLabel:rn,hoverLabel:{label:mn},icon:o,onPress:this._handlePressReactionPickerButton,size:this._isNarrow?"small":"medium",type:"brandText"}))}_renderOverflowButton(){const{withVDLRefresh:e}=this.props,l=t.a.createElement(da.a,{style:e?_n.vdlActionIcon:_n.actionIcon});return t.a.createElement(Ue.a,{accessibilityLabel:sn,hoverLabel:{label:gn},icon:l,onPress:this._handleSetActionsActive,renderMenu:this._renderOverflowMenu,size:this._isNarrow?"small":"medium",type:"brandText"})}_areActionsVisible(){const{containerIsActive:e,containerIsFocused:l,containerIsHovered:a,isDraft:n}=this.props,{actionsAreActive:t}=this.state,s=(i=this.props.entry,!X(i)&&J(i)&&!x.a.isEnabled);var i;return!n&&(s||e&&!x.a.isEnabled||l||a||t)}}pn.contextType=v.a;var yn=Object(ga.a)(Ba(pn));const _n=o.a.create((e=>({invisible:{opacity:0},messageActions:{alignSelf:"flex-end",flexDirection:"row"},messageActionsMediaNarrow:{flexDirection:"column"},messageActionsNarrow:{flexShrink:1,flexWrap:"wrap",minWidth:e.spaces.space32},messageActionsLeft:{justifyContent:"flex-end",paddingRight:e.spaces.space4},messageActionsRight:{justifyContent:"flex-start",paddingLeft:e.spaces.space4},vdlMessageActions:{alignSelf:"center"},actionIcon:{color:e.colors.gray700},vdlActionIcon:{color:e.colors.gray600},visible:{opacity:1}}))),hn=t.a.createElement(ua.a,{style:_n.vdlActionIcon});var kn=a("pjBI"),vn=a("21zW"),bn=a("IMYl"),Fn=a("gmpV"),fn=a("xKuM"),Tn=a("efqG"),Kn=a("TIdA"),Sn=a("jV+4"),En=a("htQn");const Ln=d.a.gf5e9ea6,In=d.a.a2d48779,Rn=Kn.a.createLayoutCache();const Cn=o.a.create((e=>({bodyColumn:{flexShrink:1,flexGrow:1,justifyContent:"center",marginHorizontal:e.spaces.space4},body:{alignItems:"center",flexDirection:"row",justifyContent:"space-between"},bottomBorder:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},column:{alignItems:"center",justifyContent:"center",marginRight:e.spaces.space4},reactionColumn:{alignItems:"center",justifyContent:"center",marginRight:e.componentDimensions.gutterHorizontal},root:{flexDirection:"row",minHeight:"56px",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical}})));var wn=function(e){const{featureSwitches:l}=t.a.useContext(_.a),{conversationId:a,entryId:n,onUndoPress:i,renderUndo:r,user:o,withBottomBorder:c}=e,{avatarUri:d,isProtected:u,isVerified:m,name:g,screenName:p}=o,y=(()=>{const[e]=Pa()(qa);return(l,a,n)=>{e({variables:{conversationId:l,messageId:a,reactionTypes:[Ua[n]]}}).dispose()}})(),h=t.a.useMemo((()=>function(e){e.stopPropagation(),l.isTrue("dm_evolution_enabled")&&l.isTrue("dm_evolution_reaction_write_enabled")?y(a,n,o.reactionKey):i()}),[l,y,a,n,o.reactionKey,i]),k=t.a.createElement(T.default,{imageLayoutCache:Rn,screenName:p,size:"xxLarge",uri:d}),v=t.a.createElement(ka,{emojiSize:"title4",emotion:o.reactionKey,focusable:!1}),b=t.a.createElement(Sn.a,{badgeContext:"content",isProtected:u,isVerified:m,name:g,screenName:p,withHoverCard:!0,withStackedLayout:!0});return t.a.createElement(En.a,{link:{pathname:`/${p}`,anchorless:!0},style:[Cn.root,c&&Cn.bottomBorder]},t.a.createElement(s.a,{style:Cn.reactionColumn},v),t.a.createElement(s.a,{style:Cn.column},k),t.a.createElement(s.a,{style:Cn.bodyColumn},t.a.createElement(s.a,{style:Cn.body},b)),r?t.a.createElement(s.a,{style:Cn.column},t.a.createElement(Ue.a,{accessibilityLabel:In({emoji:Object(ha.b)(o.reactionKey,l)}),onClick:h,size:"small",type:"brandText"},Ln)):null)},Mn=a("wrlS"),xn=a("RqPI"),An=a("G6rE");const Dn=[],On=(e,l)=>l.entryId,Pn=e=>Object(fa.l)(e).entries,Un=(e,l)=>Object(fa.p)(e,On(0,l))||Dn,Hn=(e,l)=>An.e.selectMany(e,((e,l)=>Object(fa.q)(e,On(0,l)))(e,l)),qn={removeReaction:fa.k,fetchUpdatesIfNeeded:Ta.d,createLocalApiErrorHandler:Object(ue.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_REACTION_SUMMARY_CONTEXT")};var Nn=Object(Fa.e)((()=>Object(ba.createSelector)(Pn,Un,xn.s,Hn,Mn.d,((e,l,a,n,t)=>{const s=Object(ha.a)(t,{includeInactive:!0}),i=[];l.forEach((l=>{const t=e[l]&&e[l].data;if(!(t&&s.includes(t.reaction_key)))return;const r=n.find((e=>e&&e.id_str===t.sender_id)),o=r&&{avatarUri:r.profile_image_url_https,userId:r.id_str,reactionKey:t.reaction_key,isLoggedInUser:r.id_str===a,screenName:r.screen_name,name:r.name,isProtected:r.protected,isVerified:r.verified,time:t.time};o&&i.push(o)})),i.sort(((e,l)=>l.time-e.time));const r=i.findIndex((e=>e.userId===a));return r>-1&&i.push(...i.splice(0,r)),{loggedInUserId:a,usersWithReactions:i}}))),qn);const jn=d.a.b772cd66,Wn=d.a.c0098d4a,Bn=d.a.j85999ec;class Vn extends t.a.PureComponent{constructor(...e){super(...e),this._renderContent=(e,l)=>t.a.createElement(s.a,null,this._renderHeader(e,l),this._renderUsers(e,l),this._renderDoneButton(e,l)),this._renderHeader=(e,l)=>"sheet"===l?t.a.createElement(fn.a,{title:Wn}):t.a.createElement(i.b,{visuallyHidden:!0},Wn),this._renderUsers=(e,l)=>t.a.createElement(s.a,{accessibilityLabel:Bn,style:[zn.container,"sheet"===l?zn.sheet:zn.popover]},this._renderUserCells(e)),this._renderDoneButton=(e,l)=>"sheet"===l&&t.a.createElement(Ue.a,{key:"button_done",onPress:e,style:zn.cancelButton,type:"primaryOutlined"},jn),this._renderUserCells=e=>this.props.usersWithReactions.filter(Boolean).map(((l,a)=>t.a.createElement(wn,{conversationId:this.props.conversationId,entryId:this.props.entryId,history:this.props.history,key:l.userId,onUndoPress:this._reactionUndoHandler(l.reactionKey,e),renderUndo:l.isLoggedInUser,user:l,withBottomBorder:a!==this.props.usersWithReactions.length-1}))),this._reactionUndoHandler=(e,l)=>()=>{const{conversationId:a,createLocalApiErrorHandler:n,entryId:t,fetchUpdatesIfNeeded:s,loggedInUserId:i,removeReaction:r}=this.props,o={reaction_key:e,conversation_id:a,dm_id:t,perspective:i};l(),r(o).then(this._handleScribeRemoveReaction(e)).then(s).catch(n())},this._handleScribeRemoveReaction=e=>()=>{const{analytics:l}=this.props;l.scribe({page:"app",section:"twitter_service",component:"direct_messages",element:"delete_reaction",action:"success",data:{reaction_emotion:e}})}}render(){const{children:e}=this.props;return t.a.createElement(Tn.a,{renderContent:this._renderContent,withFixedPosition:this.context.isDrawer},e)}}Vn.contextType=v.a;const zn=o.a.create((e=>({cancelButton:{marginHorizontal:e.spaces.space12,marginVertical:e.spaces.space12},container:{overflowY:"auto",paddingVertical:e.spaces.space12},popover:{maxHeight:"35vh",minWidth:"320px"},sheet:{maxHeight:"65vh"}})));var Qn=Object(ga.a)(Object(O.a)(Nn(Vn)));const Gn=[],Yn=(e,l)=>Object(fa.p)(e,l.entryId)||Gn,$n=e=>Object(fa.l)(e).entries,Xn={createLocalApiErrorHandler:Object(ue.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_REACTIONS")};var Jn=Object(Fa.e)((()=>Object(ba.createSelector)($n,Yn,xn.s,Mn.d,((e,l,a,n)=>{const t=Object(ha.a)(n,{includeInactive:!0});let s,i=0;return{reactionsWithCounts:l.reduceRight(((l,n)=>{const r=e[n]&&e[n].data;if(!r)return l;if(!t.includes(r.reaction_key))return l;const o=(l.get(r.reaction_key)||0)+1;return l.set(r.reaction_key,o),(null==r?void 0:r.sender_id)===a&&(s=r.reaction_key),i+=1,l}),new Map),selectedReactionKey:s,totalReactionCount:i}}))),Xn);const Zn=d.a.h95f9e77;class et extends t.a.PureComponent{constructor(e){super(e),this._handleScribeDMReactionSummary=()=>{const{analytics:e}=this.props;e.scribe({component:"dm_reaction_summary",action:"show"})},this._onSetReactionsNode=e=>{this._measureWidths(e||void 0)},this._renderReactions=({isHovered:e})=>{const{reactionsWithCounts:l,selectedReactionKey:a}=this.props,n=this.state.emojiSize||"headline1",s=l.size-1;return Array.from(l,(([l,i],r)=>t.a.createElement(ka,{count:i,emojiSize:n,emotion:l,enableHoverStyle:!1,focusable:!0,key:l,style:[r===s&&lt.rightPadding,lt.elementPadding,a===l?lt.selfSelect:null,e&&lt.isHoveredDMReaction]})))},this.state={emojiSize:void 0}}render(){const{conversationId:e,entryId:l,isEndOfDM:a,isSent:n,totalReactionCount:i}=this.props,{emojiSize:r}=this.state;if(0===i)return null;const c=ne.a.generate({backgroundColor:o.a.theme.colors.gray50,color:o.a.theme.colors.gray700}),d=Zn({reactionCount:i});return t.a.createElement(s.a,{style:[lt.container,a?lt.marginShort:lt.marginLong,n?lt.alignRight:lt.alignLeft,r?lt.visible:lt.invisible]},t.a.createElement(Qn,{conversationId:e,entryId:l},t.a.createElement(f.a,{accessibilityLabel:d,focusable:!0,interactiveStyles:c,onPress:this._handleScribeDMReactionSummary,ref:this._onSetReactionsNode,style:lt.content},this._renderReactions)))}_measureWidths(e){const l=e&&e.parentElement,a={emojiSize:"headline1"};if(l){const{width:n}=l.getBoundingClientRect(),{width:t=0}=e?e.getBoundingClientRect():{};t>n&&(a.emojiSize="subtext2")}this.setState({...a})}}const lt=o.a.create((e=>({container:{boxSizing:"border-box"},content:{borderRadius:e.borderRadii.infinite,display:"flex",flexDirection:"row"},rightPadding:{paddingRight:e.spaces.space2},elementPadding:{borderColor:e.colors.transparent,borderWidth:e.borderWidths.small,paddingBottom:e.spaces.space2,paddingTop:e.spaces.space2,paddingLeft:`calc(${e.spaces.space2} * 2)`},selfSelect:{borderColor:o.a.theme.colors.gray50,borderRadius:e.borderRadii.infinite},alignLeft:{alignSelf:"flex-start"},alignRight:{alignSelf:"flex-end"},invisible:{opacity:0},visible:{opacity:1},marginShort:{marginBottom:e.spaces.space4},marginLong:{marginBottom:e.spaces.space12},isHoveredDMReaction:{borderColor:e.colors.transparent,cursor:"pointer"}})));var at=Object(O.a)(Jn(et)),nt=a("Xrkv"),tt="collapsedNamesList",st="fullNamesList";const it=d.a.icd0bf34,rt=d.a.e8bd8fec,ot=d.a.b2d32fae,ct=d.a.a763d33f;function dt(e){const{featureSwitches:l}=t.a.useContext(_.a),a=l.isTrue("dm_vdl_enabled")&&l.isTrue("dm_vdl_chat_p0_enabled"),[n,r]=t.a.useState(!1),{isGroupDM:o,isSeenByEveryone:c,namesToDisplay:u}=e,m=e=>{e.stopPropagation(),r(!0)};return t.a.createElement(s.a,{style:[!a&&ut.root,a&&ut.rootVDL]},t.a.createElement(i.b,{align:"right",color:"gray700",size:"subtext2",style:ut.seenLabel,withInteractiveStyling:a},c?o?ot:it:u.length?ct({count:u.length}):rt),a||c||!o||!u.length?null:(()=>{const e=!n&&u.length>10,l=u.length-10,a=Object(nt.a)(e?u.slice(0,10):u,e);return t.a.createElement(i.b,{align:"right",color:"gray700",size:"subtext2",style:ut.namesList},e?t.a.createElement(d.a.I18NFormatMessage,{$i18n:"f6464107"},t.a.createElement(i.b,{testID:tt},a),t.a.createElement(i.b,{color:"link",onPress:m},d.a.e762ce30({othersCount:l}))):t.a.createElement(i.b,{testID:st},a))})())}const ut=o.a.create((e=>({root:{alignItems:"flex-end",width:`calc(100% - ${e.spaces.space2})`},rootVDL:{alignItems:"flex-end"},seenLabel:{cursor:"pointer"},namesList:{marginBottom:e.spaces.space2,whiteSpace:"pre-line"}})));var mt=a("bZI/"),gt=a("zCf4"),pt=a("j7Bv"),yt=a("SOvA"),_t=a("88ay"),ht=a("hqDb"),kt=a("3nOA"),vt=a("cFuS"),bt=a("Re5t");function Ft(e){const l=t.a.useContext(v.a),a=Object(gt.f)(),{children:n,loggedInUserId:s,userIDs:i}=e,r=()=>t.a.createElement(pt.a,{Icon:yt.a,color:"neutral",size:"large"}),o=e=>{const l=Object(kt.a)(e,s);return t.a.createElement(_t.b,{decoration:r,displayMode:bt.a.UserCompact,key:e,onClick:()=>{a.push(`/messages/${l}`)},promotedItemType:vt.c.USER,userId:e})};return t.a.createElement(Tn.a,{renderContent:(e,l)=>t.a.createElement(mt.a,null,"sheet"===l?t.a.createElement(fn.a,{title:ct({count:i.length})}):null,t.a.createElement(ht.a,{renderUserCell:o,userIds:i})),withFixedPosition:l.isDrawer},n)}var ft=a("CDB5");var Tt=Object(me.a)().propsFromActions((()=>({createLocalApiErrorHandler:Object(ue.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_CONVERSATION"),removeEntry:F.removeEntry,sendMessage:ft.m}))).withAnalytics(),Kt=a("t0aI");const St=({entryId:e,participants:l,user:a})=>{const n=Lt({entryId:e,participants:l,user:a});return{namesToDisplay:n,isSeenByEveryone:n.length===l.length-1}},Et=({entryId:e,participants:l,user:a})=>l.reduce(((l,n)=>{const{join_conversation_event_id:t,last_read_event_id:s,user:i}=n,r=n.user_id!==a.id_str,o=s&&1!==Object(Kt.a)(e,s),c=!t||1!==Object(Kt.a)(t,e);return r&&o&&c&&l.push(i),l}),[]),Lt=e=>Et(e).map((e=>e.name)),It=d.a.fad48eea,Rt=d.a.ba60339a,Ct=d.a.d338f53e,wt=d.a.ae7d7a24,Mt=d.a.d725a289,xt=d.a.bbe74f3f,At=d.a.h0e4cdf5,Dt=d.a.bfbc051d;class Ot extends t.a.PureComponent{constructor(...e){super(...e),this._isVDLEnabled=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_chat_p0_enabled"),this._handleRemove=()=>{const{conversationId:e,entryId:l,removeEntry:a}=this.props;a(e,null,{id:l})},this._handleTryAgain=()=>{const{conversationId:e,entryText:l,localMediaId:a,sendMessage:n,user:t}=this.props;n({tweetAttachment:void 0,senderId:t.id_str,conversationId:e,text:l,localMediaId:a}),this._handleRemove()}}render(){const{entryId:e,isGroupDM:l,isSent:a,onPress:n,participants:i,user:r}=this.props,o=this._renderSending(),c=this._renderError(),d=this._renderTimestamp(),u=this._renderReadReceipt(),m=this._renderSentCheckmark(),g=this._renderReactions(),p=d||u||m;return(o||c||g||p)&&t.a.createElement(s.a,{style:[Pt.root,this._isVDLEnabled&&Pt.vdlRootMargin,a&&Pt.sentMessage]},o,c,g,p?this._isVDLEnabled?(()=>{const o=t.a.createElement(kn.a,{style:a&&Pt.groupedItems},d,u),c=Et({entryId:e,participants:i,user:r}).map((e=>e.id_str));return l&&a&&c.length>0?t.a.createElement(s.a,{style:a&&Pt.summaryContainer},t.a.createElement(Ft,{loggedInUserId:r.id_str,userIDs:c},o)):a?t.a.createElement(f.a,{interactive:!x.a.isEnabled,onPress:n},o):o})():t.a.createElement(f.a,{interactiveStyles:null,onPress:n,style:a&&Pt.sentContainer},t.a.createElement(s.a,{style:a&&Pt.groupedItems},d,m),u):null)}_renderError(){const{isError:e}=this.props;return e&&t.a.createElement(s.a,null,t.a.createElement(i.b,{align:"right",color:"gray700",size:"subtext2"},wt),t.a.createElement(s.a,{style:Pt.groupedItems},t.a.createElement(i.b,{accessibilityRole:"button",color:"magenta500",onPress:this._handleRemove,size:"subtext2",withInteractiveStyling:!0},Rt),t.a.createElement(vn.a,null),t.a.createElement(i.b,{accessibilityRole:"button",color:"primary",onPress:this._handleTryAgain,size:"subtext2",withInteractiveStyling:!0},Ct)))}_renderReactions(){const{conversationId:e,entryId:l,isLastRapidFire:a,isRapidFire:n,isSent:i,withUserAvatar:r}=this.props,o=!n||a;return e?t.a.createElement(s.a,{style:r&&Pt.footerPadderWithAvatar},t.a.createElement(at,{conversationId:e,entryId:l,isEndOfDM:o,isSent:i})):null}_renderReadReceipt(){var e;const{entryId:l,isActive:a,isDraft:n,isError:s,isGroupDM:i,isLastPersistedMessage:r,isSent:o,participants:c,user:d}=this.props,u=St({entryId:l,participants:c,user:d}),m=(null==(e=u.namesToDisplay)?void 0:e.length)>0,g=r||i&&m||!i&&(({entryId:e,participants:l,user:a})=>{const n=l.find((e=>e.user_id!==a.id_str));return(null==n?void 0:n.last_read_event_id)===e})({entryId:l,participants:c,user:d});return o&&!n&&!s&&(a||this._isVDLEnabled&&g)?t.a.createElement(dt,U()({isGroupDM:i},u)):null}_renderSending(){const{isDraft:e,isError:l}=this.props;return e&&!l&&t.a.createElement(i.b,{align:"right",color:"gray700",size:"subtext2"},It)}_renderSentCheckmark(){const{entryId:e,isDraft:l,isError:a,isLastRapidFire:n,isRapidFire:s,isSent:r,participants:o,user:c}=this.props,{isSeenByEveryone:d}=St({entryId:e,participants:o,user:c});return!r||l||a||s&&!n?null:t.a.createElement(i.b,{color:d?"primary":"gray700",style:Pt.checkmarkContainer},t.a.createElement(bn.a,{style:Pt.checkmark}))}_renderTimestamp(){const{entryTime:e,isDraft:l,isError:a,isGroupDM:n,isLastRapidFire:r,isRapidFire:o,isSent:c,user:{name:u},withUserAvatar:m}=this.props;if(l||a||o&&!r)return null;const g=new Date(Number(e));let p;p=Object(Fn.c)(g)?Mt(g):Object(Fn.d)(g)?xt({time:Mt(g)}):Object(Fn.e)(g)?At(g):Dt(g);const y=n&&!c,_=c?"right":"left";return t.a.createElement(s.a,{style:[m&&Pt.footerPadderWithAvatar,c&&Pt.timestamp]},t.a.createElement(i.b,{align:_,color:"gray700",size:"subtext2",withInteractiveStyling:c||!x.a.isEnabled},y&&t.a.createElement(d.a.I18NFormatMessage,{$i18n:"c8b914d5"},t.a.createElement(i.b,null,u)),y&&" ",p))}}Ot.contextType=_.a;const Pt=o.a.create((e=>({root:{marginTop:e.spaces.space2,overflow:"hidden",width:se},vdlRootMargin:{marginTop:`calc(${e.spaces.space8} - ${e.spaces.space2})`},sentMessage:{alignSelf:"flex-end",justifyContent:"flex-end"},sentContainer:{flexDirection:"column"},groupedItems:{justifyContent:"flex-end",flexDirection:"row"},timestamp:{cursor:"pointer"},checkmark:{cursor:"pointer",flexShrink:0,height:"1rem",paddingLeft:e.spaces.space2},checkmarkContainer:{lineHeight:"1"},footerPadderWithAvatar:{marginLeft:`calc(${e.spaces.space40} + ${e.spaces.space12})`},summaryContainer:{alignItems:"end"}})));var Ut=Tt(Ot);const Ht=o.a.create((e=>({avatar:{borderRadius:e.borderRadii.infinite}})));var qt=({showAvatar:e,size:l="xLarge",user:a})=>e?t.a.createElement(T.default,{accessibilityLabel:a.name,link:{pathname:`/${a.screen_name}`},size:l,uri:a.profile_image_url_https}):t.a.createElement(s.a,{style:[Ht.avatar,T.default.getSizeStyle(l)]}),Nt=a("B3eJ");function jt({color:e,isActive:l,size:a,...n}){const i=t.a.useContext(_l.a),[r,o]=t.a.useState(.5),[c]=i.playerState;t.a.useEffect((()=>{l&&c&&c.isPlaying&&o(Math.random())}),[l,c]);const d=l&&(null==c?void 0:c.isPlaying),u=a+2*Wt,m=[Bt.container,n.style,{width:a,height:a}];return t.a.createElement(s.a,{style:m},t.a.createElement(s.a,{style:[Bt.container,Bt.transitionOpacity,d?Bt.show:Bt.hide]},hl.a.reducedMotionEnabled?null:t.a.createElement(Nt.a,{audioLevel:r,color:e,paused:!d,size:a})),t.a.createElement(s.a,{style:[Bt.border,{width:u,height:u},Bt.transitionOpacity,l?Bt.show:Bt.hide]}))}const Wt=parseInt(o.a.theme.spaces.space2,10),Bt=o.a.create((e=>({container:{alignItems:"center",justifyContent:"center",pointerEvents:"none"},border:{position:"absolute",top:-1*Wt,left:-1*Wt,backgroundColor:e.colors.navigationBackground,borderRadius:e.borderRadii.infinite},transitionOpacity:{transition:"opacity 0.2s 0s ease-in-out"},hide:{opacity:0},show:{opacity:1}})));var Vt=a("zh9S"),zt=a("P1r1"),Qt=a("Yatk");const Gt={scribeAction:Vt.c},Yt=Object(ba.createSelector)(((e,l)=>An.e.select(e,l.senderId)),zt.k,zt.q,((e,l,a)=>({user:Object(Qt.a)(e),displaySensitiveMedia:l,isDmNsfwMediaFilterEnabled:a})));var $t=Object(Fa.f)(Yt,Gt),Xt="messageEntry";const Jt={element:"cta_dm"},Zt={viewType:"message"},es={isGroupDM:!1,isRapidFire:!1,isFirstRapidFire:!1,isLastRapidFire:!1};class ls extends t.a.Component{constructor(...e){super(...e),this.state={shouldFadeHighlight:!1},this._handleClick=Object(D.a)((()=>{const{entry:{error:e,id:l,is_draft:a},isActive:n,setActiveEntry:t}=this.props;a||e||(t(n?null:l),this._handleScribeMessageEntryClick())})),this._handleScribeMessageEntryClick=()=>{const{isActive:e}=this.props;if(!x.a.isEnabled&&!e){const{entry:e}=this.props,l={component:"message",element:Object(H.c)(e),action:"click"};this._scribeAction(l)}},this._handleCtaImpression=()=>{this._scribeAction({...Jt,action:"show"})},this._handleCtaClick=()=>{this._scribeAction({...Jt,action:"click"})},this._isDMVoiceMessage=()=>{var e;return Object(H.p)(null==(e=this.props.entry.message_data)?void 0:e.attachment,this.context.featureSwitches)}}componentDidMount(){this.props.isHighlightedMessageSearchEntry&&this.setState({shouldFadeHighlight:!0})}shouldComponentUpdate(e,l){return!Object(S.a)(this.props,e)||!Object(S.a)(this.state.shouldFadeHighlight,l.shouldFadeHighlight)}render(){const{isActive:e,isGroupDM:l,isHighlightedMessageSearchEntry:a,isSent:n,user:i}=this.props,r=this._getRapidFireProps(),o=!r.isRapidFire||r.isLastRapidFire,c=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_chat_p0_enabled"),d=[ns.root.base,c&&ns.root.vdlPadding,o&&ns.root.contentSpacing,o&&c&&ns.root.vdlContentSpacing,a&&ns.root.highlightableEntry,a&&this.state.shouldFadeHighlight&&ns.root.remove],u=this._isDMVoiceMessage(),m=c?l&&!n:!n||u;if(!i)return null;const g=!x.a.isEnabled||n;return t.a.createElement(A.a,{behavioralEventContext:Zt},t.a.createElement(s.a,{style:d},t.a.createElement(f.a,{accessibilityExpanded:!(!g||!e),focusable:!0,interactiveStyles:null,onPress:g?this._handleClick:void 0,style:n?ns.root.sent:ns.root.received,testID:Xt},(({isFocused:e,isHovered:l})=>this._renderMessage({isFocused:e,isHovered:l,rapidFireProps:r,withVDLRefresh:c,withUserAvatar:m}))),this._renderFooter(r,m)))}_renderMessage({isFocused:e,isHovered:l,rapidFireProps:a,withUserAvatar:n,withVDLRefresh:i}){const{displaySensitiveMedia:r,entry:c,inboxType:d,isActive:u,isDmNsfwMediaFilterEnabled:m,isGroupDM:g,isLowQuality:p,isReadOnly:y,isSent:_,isTrusted:h,isVoiceMessageActive:k,isWide:v,participants:b,perspective:F,scribeVoiceMessage:f,setShouldFreezeUpdates:T}=this.props,{isFirstRapidFire:K,isLastRapidFire:S,isRapidFire:E}=a,L=[_?ns.messageContainer.sent:ns.messageContainer.received,v?ns.messageContainer.wide:ns.messageContainer.narrow,_&&v&&ns.messageContainer.sentWide,!_&&v&&ns.messageContainer.receivedWide],I=h&&!y,R=this._isDMVoiceMessage(),C=(null==b?void 0:b.length)||0;return t.a.createElement(s.a,{style:L},c.error?null:t.a.createElement(yn,{containerIsActive:u,containerIsFocused:e,containerIsHovered:l,entry:c,featureSwitches:this.context.featureSwitches,inboxType:d,isDraft:!!c.is_draft,isGroupDM:g,isSent:_,onReportMessage:R&&f?()=>f.report({isLowQuality:p,isTrusted:h}):void 0,participantsCount:C,perspective:F,setShouldFreezeUpdates:T,shouldShowReactionButton:I,style:R&&bl(o.a.theme.scale).actionsContainer({isSent:_,isVoiceMessageActive:k}),withVDLRefresh:i}),t.a.createElement(Jl,{displaySensitiveMedia:r,entry:c,isActive:u,isDmNsfwMediaFilterEnabled:m,isFirstRapidFire:K,isLastRapidFire:S,isLowQuality:p,isRapidFire:E,isSent:_,isTrusted:h,key:c.id,onCtaClick:this._handleClick,onCtaImpression:this._handleCtaImpression,style:R&&bl(o.a.theme.scale).messageContainer({isSent:_,isVoiceMessageActive:k})}),this._possiblyRenderUserAvatar(a,n))}_renderFooter({isLastRapidFire:e,isRapidFire:l},a){var n,s;const{entry:i,isActive:r,isGroupDM:o,isLastPersistedMessage:c,isSent:d,participants:u,user:m}=this.props;return m?t.a.createElement(Ut,{conversationId:i.conversation_id,entryId:i.id,entryText:null==(n=i.message_data)?void 0:n.text,entryTime:i.time,isActive:r,isDraft:!!i.is_draft,isError:!!i.error,isGroupDM:o,isLastPersistedMessage:c,isLastRapidFire:e,isRapidFire:l,isSent:d,localMediaId:null==(s=i.message_data)?void 0:s.localMediaId,onPress:this._handleClick,participants:u,user:m,withUserAvatar:a}):null}_possiblyRenderUserAvatar({isLastRapidFire:e,isRapidFire:l},a){const{isSent:n,isVoiceMessageActive:i,user:r}=this.props,c=this._isDMVoiceMessage();if(!r||!a&&!i)return null;const{DMUserAvatarSizePx:d,DMUserAvatarSizeType:u}=vl(o.a.theme.scale),m={showAvatar:!!c||(!l||!!e),size:u,user:r},g=[ns.userAvatar.base,n?ns.userAvatar.sent:ns.userAvatar.received,c&&bl(o.a.theme.scale).userAvatar({isVoiceMessageActive:i,isSent:n})];return t.a.createElement(s.a,{style:ns.userAvatar.container},n?null:t.a.createElement(s.a,{style:ns.userAvatar.spacer}),c?t.a.createElement(jt,{color:n?o.a.theme.colors.primary:o.a.theme.colors.text,isActive:!!i,size:d,style:g}):null,t.a.createElement(s.a,{style:g},t.a.createElement(qt,m)))}_scribeAction(e){const{analytics:l}=this.props;l.scribe({...e})}_getRapidFireProps(){return{isFirstRapidFire:this.props.isFirstRapidFire,isLastRapidFire:this.props.isLastRapidFire,isRapidFire:this.props.isRapidFire}}}ls.contextType=_.a,ls.defaultProps=es;var as=Object(O.a)($t(function(e){function l(l){const{entry:a}=l,n=t.a.useContext(_l.a),[s]=n.activeVoiceMessage,{scribeAction:i}=n,[r]=s,o=r===a.id,c={...l,isVoiceMessageActive:o,scribeVoiceMessage:i};return t.a.createElement(e,c)}return l.defaultProps=es,l}(ls)));const ns={root:o.a.create((e=>({base:{flexDirection:"column",paddingBottom:e.spaces.space2},vdlPadding:{paddingBottom:"0px"},received:{cursor:"default",alignItems:"flex-start"},sent:{cursor:"pointer",alignItems:"flex-end"},contentSpacing:{paddingBottom:e.spaces.space20},vdlContentSpacing:{paddingBottom:e.spaces.space24},highlightableEntry:{marginHorizontal:`calc(-${e.spaces.space16})`,paddingHorizontal:e.spaces.space16,transition:"background-color 3s ease-in",backgroundColor:e.colors.unreadCellBackground},remove:{backgroundColor:e.colors.cellBackground}}))),messageContainer:o.a.create((e=>({sent:{flexDirection:"row",justifyContent:"flex-end"},received:{flexDirection:"row-reverse",justifyContent:"flex-end"},narrow:{width:"100%"},wide:{width:se},receivedWide:{paddingRight:e.spaces.space12},sentWide:{paddingLeft:e.spaces.space12}}))),userAvatar:o.a.create((e=>({container:{flexDirection:"row",alignItems:"flex-end"},base:{position:"absolute"},sent:{right:0},received:{left:0},spacer:{width:vl(e.scale).DMUserAvatarSpacerPx}})))};var ts=a("H4nC");const ss=e=>{const{conversation:l,entry:a,inboxType:n,isActive:s,isFirstRapidFire:i,isHighlightedMessageSearchEntry:r,isLastPersistedMessage:o,isLastRapidFire:c,isRapidFire:d,isWide:u,perspective:m,scribeNamespace:g,setActiveEntry:p,setShouldFreezeUpdates:y}=e;if(Object(b.b)(a)||Object(b.e)(a)){const{conversation_id:e,low_quality:_,participants:h,read_only:k,trusted:v,type:b}=l,{message_data:{sender_id:f}={}}=a,T=void 0===e||v;return t.a.createElement(as,{entry:a,inboxType:n,isActive:s,isFirstRapidFire:i,isGroupDM:b===F.CONVERSATION_TYPE.GROUP,isHighlightedMessageSearchEntry:r,isLastPersistedMessage:o,isLastRapidFire:c,isLowQuality:!!_,isRapidFire:d,isReadOnly:k,isSent:f===m,isTrusted:!!T,isWide:u,participants:h,perspective:m,scribeNamespace:g,senderId:f,setActiveEntry:p,setShouldFreezeUpdates:y})}return Object(b.a)(a)?t.a.createElement(M,{conversation:l,entry:a,entryType:a.type,perspective:m}):Object(b.d)(a)?t.a.createElement(ts.a,{entry:a,isCompact:!1}):null};var is=a("tn7R"),rs=a("0JOx"),os=a("jat/");const cs=Object(ba.createSelector)(((e,l)=>{const a=Object(fa.o)(e,l.conversationId),n=a&&Object(os.a)(a);return n&&Object(F.selectEntry)(e,n)}),(e=>({lastEntry:e})));var ds=Object(Fa.c)(cs),us=a("Enqy"),ms=a("+/1j"),gs=a("VPAj");const ps=Object(ba.createSelector)(((e,l)=>An.e.selectMany(e,l.userIds||[])),(e=>({users:e})));var ys=Object(Va.b)(ps);const _s="overflow",hs=(e,l)=>e.id_str<l.id_str?-1:e.id_str>l.id_str?1:0,ks={stiffness:1e3,damping:70},vs=140,bs={scale:Object(us.spring)(1,ks),translateY:Object(us.spring)(0,ks)},Fs=(e,l)=>({key:e.id_str,data:e,style:bs}),fs=Object(gs.a)({translateY:vs,scale:0}),Ts=Object(gs.a)({scale:Object(us.spring)(1,ks),translateY:Object(us.spring)(vs,ks)}),Ks=[{key:"bubble",style:{scale:Object(us.spring)(1,ks),translateY:Object(us.spring)(0,ks)}}],Ss=Object(gs.a)({translateY:vs,scale:0}),Es=e=>{const l=[];return isFinite(e.scale)&&l.push({scale:e.scale}),isFinite(e.translateY)&&l.push({translateY:`${Math.round(e.translateY)}%`}),l};class Ls extends t.a.Component{constructor(...e){super(...e),this.state={isHidden:!0},this._bubbleWillLeave=()=>{const{users:e}=this.props;return this.setState((l=>({isHidden:0===e.length}))),{scale:Object(us.spring)(1,ks),translateY:Object(us.spring)(vs,ks)}}}componentDidUpdate(e,l){this.state.isHidden&&this.props.users&&this.props.users.length&&this.setState({isHidden:!1})}shouldComponentUpdate(e,l){return!Object(S.a)(this.props,e)||!Object(S.a)(this.state,l)}render(){const{isHidden:e}=this.state,{users:l}=this.props,a=l.sort(hs).slice(0,5).map(Fs);return l.length>5&&a.push({key:_s,style:bs}),t.a.createElement(s.a,{style:[Is.root,e&&Is.hidden]},t.a.createElement(s.a,{style:Is.avatarRow},t.a.createElement(us.TransitionMotion,{styles:a,willEnter:fs,willLeave:Ts},(e=>t.a.createElement(t.a.Fragment,null,e.map(((e,a)=>{if(e.style.scale<=.05)return null;const n=Es(e.style);return e.key===_s?t.a.createElement(s.a,{key:e.key,style:[Is.avatar,Is.avatarSpacer,Is.overflowAvatar,{transform:n}]},t.a.createElement(ms.a,{style:Is.overflowAvatarText},"+",l.length-5)):t.a.createElement(s.a,{key:e.key,style:[Is.avatar,{transform:n}]},t.a.createElement(T.default,{accessibilityLabel:e.data&&e.data.name,size:"xLarge",uri:e.data&&e.data.profile_image_url_https}))})))))),t.a.createElement(us.TransitionMotion,{styles:l.length>0?Ks:[],willEnter:Ss,willLeave:this._bubbleWillLeave},(e=>t.a.createElement(t.a.Fragment,null,e.map((e=>t.a.createElement(s.a,{key:e.key,style:[Is.messageBubble,{transform:Es(e.style)}]},t.a.createElement(s.a,{style:Is.dot}),t.a.createElement(s.a,{style:[Is.dot,Is.dot1]}),t.a.createElement(s.a,{style:[Is.dot,Is.dot2]}))))))))}}const Is=o.a.create((e=>({root:{flexDirection:"row",paddingBottom:e.spaces.space20,paddingRight:e.spaces.space12,width:"calc(100% * 7/8)",position:"relative",transitionProperty:"height, padding-bottom",transitionDuration:"0.2s",overflow:"hidden"},hidden:{paddingBottom:0,paddingRight:0,height:0,width:0},avatarRow:{display:"inline-flex",alignItems:"flex-start",flexDirection:"row"},avatar:{marginEnd:e.spaces.space12,transformOrigin:"50% 100%"},avatarSpacer:{height:e.spaces.space40,width:e.spaces.space40},overflowAvatar:{borderRadius:e.borderRadii.infinite,backgroundColor:e.colors.primary,alignItems:"center",justifyContent:"center"},overflowAvatarText:{color:"white"},messageBubble:{alignItems:"center",borderRadius:e.borderRadii.infinite,maxWidth:"100%",paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space16,backgroundColor:e.colors.gray50,borderBottomLeftRadius:e.borderRadii.none,borderColor:e.colors.gray200,flexDirection:"row",height:e.spaces.space40,overflow:"hidden",transformOrigin:"0% 100%"},dot:{display:"flex-inline",position:"relative",width:e.spaces.space12,height:e.spaces.space12,overflow:"hidden",borderRadius:e.borderRadii.infinite,backgroundColor:e.colors.gray700,marginEnd:e.spaces.space4,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationKeyframes:[{"15%":{transform:[{scale:1.4}],backgroundColor:e.colors.primary},"30%":{transform:[{scale:1}]}}]},dot1:{animationDelay:"0.1s"},dot2:{animationDelay:"0.2s"}})));var Rs=ys(Ls);class Cs extends t.a.PureComponent{constructor(...e){super(...e),this._timers={},this.state={forceHide:!1,userIds:[]},this._handleLivePipelineUpdate=e=>{const{user_id:l}=e.dm_typing;l!==this.context.loggedInUserId&&(this._timers[l]&&clearTimeout(this._timers[l]),this._timers[l]=setTimeout((()=>this._removeAvatar(l)),4e3),this.setState((e=>({forceHide:!1,userIds:[...e.userIds.filter((e=>e!==l)),l]}))))},this._removeAvatar=(e,l=!1)=>{this.setState((a=>{const n=a.userIds.filter((l=>l!==e));return{forceHide:l&&0===n.length,userIds:n}}))}}componentDidMount(){this._initializeLivePipeline()}componentDidUpdate(e,l){if(this.props.lastEntry){const{lastEntry:l={}}=e||{},{lastEntry:a}=this.props;l&&l.id!==a.id&&a.message_data&&this._removeAvatar(a.message_data.sender_id,!0)}e.conversationId!==this.props.conversationId&&(this._teardownLivePipeline(),this._initializeLivePipeline())}componentWillUnmount(){this._teardownLivePipeline()}render(){const{forceHide:e,userIds:l}=this.state;return!e&&t.a.createElement(Rs,{userIds:l})}_teardownLivePipeline(){Object(is.a)(this._timers).forEach((e=>clearTimeout(e))),this._livePipelineSubscription&&this._livePipelineSubscription.teardown()}_initializeLivePipeline(){const{conversationId:e}=this.props;Object(rs.h)().then((({LivePipeline:l})=>{l.isSupportedAndReady(this.context.featureSwitches)&&this.context.featureSwitches.isTrue("livepipeline_dm_features_enabled")&&!this._livePipelineSubscription&&(this._livePipelineSubscription=l.get().subscribeTopic(`/dm_typing/${e}`,this._handleLivePipelineUpdate))}))}}Cs.contextType=_.a;var ws=ds(Cs);var Ms=(e,l)=>{if(e&&e.message_data&&l&&l.message_data&&Object(b.b)(e)&&Object(b.b)(l)){const{sender_id:a,time:n}=e.message_data,{sender_id:t,time:s}=l.message_data,i=parseInt(s,10)-parseInt(n,10);return a===t&&i>=0&&i<=6e4}return!1},xs=a("gbD7"),As=a("855f"),Ds=a("PbQQ"),Os=a("pBrB"),Ps=a("wCd/"),Us=a("OOKO"),Hs=a("W27K"),qs=a("XnpN"),Ns=a("LhSm"),js="ProfileInfoHeader",Ws="UserDescription";const Bs=d.a.e535cae9,Vs=(e,l)=>{const a=Object(qs.a)(e,l).map((({user:e})=>e)),n=a&&a[0];return{userAvatarUrl:n.profile_image_url_https,userDescription:n.description,userEntities:n.entities,userWithheldDescription:n.withheld_description,userWithheldEntities:n.withheld_entities,userFollowerCount:n&&n.followers_count,userFriendsCount:n&&n.friends_count,userIdStr:n&&n.id_str,userJoinDate:n&&n.created_at,userName:n&&n.name,userScreenName:n&&n.screen_name,userIsVerified:n&&n.verified}},zs=o.a.create((e=>({root:{flexDirection:"column",alignItems:"center",marginBottom:e.spaces.space16,paddingVertical:e.spaces.space20,paddingHorizontal:e.spaces.space16,borderRadius:e.borderRadii.xSmall},profileInfoItemMargin:{marginBottom:e.spaces.space4},borderBottom:{borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid"},description:{width:"100%",textAlign:"center"},descriptionVDL:{marginBottom:0,marginTop:e.spaces.space12},statsVDL:{marginTop:e.spaces.space12,marginBottom:e.spaces.space12},userAvatar:{alignItems:"center"}})));var Qs=({conversation:e,withBottomBorder:l=!0,withVDLrefresh:a=!1})=>{const{loggedInUserId:n}=t.a.useContext(_.a);if(!e)return null;const{userAvatarUrl:s,userDescription:r,userEntities:c,userFollowerCount:d,userFriendsCount:u,userIdStr:m,userIsVerified:g,userJoinDate:p,userName:y,userScreenName:h,userWithheldDescription:k,userWithheldEntities:v}=Vs(e,n||""),b=!!(y&&h&&(d&&u||p)),F=ne.a.generate({color:o.a.theme.colors.text,backgroundColor:o.a.theme.colors.transparent,customFocusBackgroundColor:o.a.theme.colors.gray0,customHoverBackgroundColor:o.a.theme.colors.gray0,customPressedBackgroundColor:o.a.theme.colors.activeFaintGray});return t.a.createElement(Ds.a.Consumer,{testId:js},(e=>{return t.a.createElement(f.a,{interactiveStyles:F,link:e.withAnchorless(`https://twitter.com/${h||""}`),style:[zs.root,l&&b&&zs.borderBottom]},a&&t.a.createElement(T.default,{uri:s}),t.a.createElement(Sn.a,{isVerified:g,name:y,screenName:h,style:[zs.profileInfoItemMargin,a&&zs.userAvatar],weight:"bold",withHoverCard:!0,withLink:!0,withStackedLayout:a}),r&&c&&m?t.a.createElement(Os.a,{description:r,entities:c,style:[zs.profileInfoItemMargin,zs.description,a&&zs.descriptionVDL],testID:Ws,userId:m,withheldDescription:k,withheldEntities:v}):null,!a&&d&&u?t.a.createElement(Ps.a,{followersCount:d,friendsCount:u,screenName:h||"",style:zs.profileInfoItemMargin,withLink:!1}):null,!a&&p?t.a.createElement(Ns.a,{joinDate:p}):null,a?t.a.createElement(t.a.Fragment,null,t.a.createElement(kn.a,{style:zs.statsVDL},p?(e=>t.a.createElement(i.b,{color:"gray700",size:"subtext1"},t.a.createElement(Ns.a,{joinDate:e,withoutIcon:!0})))(p):null,d?(n=d,t.a.createElement(i.b,{color:"gray700",size:"subtext1"},Bs({count:As.a.getTruncatedCount(n)}))):null),t.a.createElement(Hs.a,{userId:m,userScreenName:h||""}),t.a.createElement(Us.a,{spacing:"space28"})):null);var n}))},Gs=a("RJrc");const Ys=d.a.i859a9d4,$s=d.a.i8ecae5c,Xs=e=>e.entry.id,Js=e=>e.entry.type===h.b.MESSAGE;class Zs extends t.a.Component{constructor(e,l){super(e,l),this._isVDLEnabled=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_chat_p0_enabled"),this._handleItemsRendered=e=>{var l,a;const n=e.positions.find((e=>"conversationProfileInfoHeader"===e.id)),t=void 0!==n&&e.viewport.getTop()<n.rectangle.getHeight();null==(l=(a=this.props).onConversationProfileVisibilityChange)||l.call(a,t)},this._handleScrollEnd=()=>{this.setState({didRenderMessageSearchEntry:!0})},this._renderItem=e=>{const{conversation:l}=this.props,a=l.conversation_id;switch(e.type){case h.b.TYPING_INDICATOR:return a?t.a.createElement(ws,{conversationId:a}):null;case h.b.READ_ONLY_INDICATOR:return a?t.a.createElement(s.a,{style:ei.readOnly},t.a.createElement(i.b,{align:"center",color:"gray700",size:"subtext2"},$s,"",t.a.createElement(i.b,{link:"https://support.twitter.com/articles/14606#faq"},Ys))):null;case h.b.CONVERSATION_PROFILE_INFO_HEADER:return t.a.createElement(Qs,{conversation:l,withVDLrefresh:this._isVDLEnabled});default:return this._renderDMEntry(e)}},this._setActiveEntry=e=>{this.setState({activeEntryId:e})},this._setShouldFreezeUpdates=e=>{this.setState({shouldFreezeUpdates:e})},this.state={activeEntryId:null,didRenderMessageSearchEntry:!1,shouldFreezeUpdates:!1}}shouldComponentUpdate(e,l){return!1===l.shouldFreezeUpdates}render(){const{conversation:e,drawerHeader:l,isWide:a,messageSearchEntryId:n,onForwardRequest:i,onHistoryRequest:o,shouldScrollToCenter:c,style:d}=this.props,_=Object(u.a)(e.entries,(e=>e.type===h.b.MESSAGE&&!e.error&&!e.is_draft)),{activeEntryId:b}=this.state,f=(({activeEntryId:e,canInjectConversationProfileInfoHeader:l,conversation:a,footer:n,lastPersistedMessageId:t,messageSearchEntryId:s,readOnlyEntry:i})=>{const r=a&&a.entries||[],o=null==a?void 0:a.max_search_entry_id,c=null==a?void 0:a.min_search_entry_id,d=(null==a?void 0:a.status)===F.PAGINATION_STATUS.AT_END,u=o?Object(H.d)(r,o):r.length-1,m=c?Object(H.d)(r,c):-1,g=s&&-1===m?Object(H.d)(r,s):m,p=r.slice(d?0:g,u+1),y=(s?p:r).reduce(((n,i,o)=>{l&&0===o&&n.push(xs.b);const c=Object(os.a)(n),d=o===r.length-1;if(n.push({isRapidFire:!1,isFirstRapidFire:!1,isLastPersistedMessage:t===i.id,isLastRapidFire:!1,entry:i,isActive:s===i.id||e===i.id,isTrusted:!(null==a||!a.trusted),messageSearchEntryId:s}),c){const e=Ms(c.entry,i),l=n[n.length-2];e?(n[n.length-1].isRapidFire=!0,l.isRapidFire||(l.isFirstRapidFire=!0,l.isRapidFire=!0),d&&(n[n.length-1].isLastRapidFire=!0)):l.isRapidFire&&(l.isLastRapidFire=!0)}return n}),[]);return n&&!s&&y.push(n),a.read_only&&i&&!s&&y.push(i),y})({conversation:e,footer:xs.d,lastPersistedMessageId:null==_?void 0:_.id,readOnlyEntry:xs.c,canInjectConversationProfileInfoHeader:e.status===h.c.AT_END&&e.type===h.a.ONE_TO_ONE,activeEntryId:b,messageSearchEntryId:n}),T=e.conversation_id,K=e=>{for(let l=e.length-1;l>=0;l--){const a=e[l];if(a&&Js(a))return a}return(e=>e[e.length-1])(e)},S=n?`dm-activity-${T}-${n}`:`dm-activity-${T}`,E=this.state.didRenderMessageSearchEntry&&(null==e?void 0:e.min_search_entry_id)&&e.status!==h.c.AT_END;return t.a.createElement(v.a.Consumer,null,(({isDrawer:u})=>{const _=u?k.b.drawerHeaderRadius:ei.scrollSpace;return t.a.createElement(s.a,{style:[ei.scrollContainer,_]},t.a.createElement(y.a,{style:[ei.scrollContainer,a&&ei.conversationsPadding,_,d]},l||null,e.status&&e.status!==h.c.AT_END&&!n||E?t.a.createElement(Gs.a,null):null,t.a.createElement(r.a,{style:[ei.content,ei.alignTop],withGutter:!0},t.a.createElement(m.b,{anchoring:p.a,assumedItemHeight:50,cacheKey:S,canBeAnchorFunction:Js,centerInitialAnchor:n&&c,hasNewContentAtBottom:!0,identityFunction:Xs,initialAnchor:f.length>0?g.a(n&&c?n:Xs(K(f))):void 0,items:f,nearStartProximityRatio:2,onAtEnd:n&&this.state.didRenderMessageSearchEntry?i:void 0,onAtStart:n&&this.state.didRenderMessageSearchEntry?o:void 0,onItemsRendered:this._handleItemsRendered,onNearStart:n?void 0:o,onScrollEnd:n&&!this.state.didRenderMessageSearchEntry?this._handleScrollEnd:void 0,renderer:this._renderItem,withoutHeadroom:this._isVDLEnabled})),this.state.didRenderMessageSearchEntry&&n&&e.max_search_entry_id&&e.search_status!==h.c.AT_END?t.a.createElement(Gs.a,null):null))}))}_renderDMEntry({entry:e,isActive:l,isFirstRapidFire:a,isLastPersistedMessage:n,isLastRapidFire:s,isRapidFire:i}){const{conversation:r,inboxType:o,isWide:c,messageSearchEntryId:d,perspective:u,scribeNamespace:m}=this.props,g=e.id===d;return e&&o?t.a.createElement(ss,{conversation:r,entry:e,inboxType:o,isActive:l,isFirstRapidFire:a,isHighlightedMessageSearchEntry:g,isLastPersistedMessage:n,isLastRapidFire:s,isRapidFire:i,isWide:c,key:e.id,perspective:u,scribeNamespace:m,setActiveEntry:this._setActiveEntry,setShouldFreezeUpdates:this._setShouldFreezeUpdates}):null}}Zs.contextType=_.a;const ei=o.a.create((e=>({spinner:{alignItems:"center",marginVertical:"30px"},scrollContainer:{backgroundColor:e.colors.cellBackground,flexGrow:1,height:"100%",overflowX:"hidden",WebkitOverflowScrolling:"touch"},scrollSpace:{paddingTop:e.componentDimensions.appBarHeightPx,marginTop:-e.componentDimensions.appBarHeightPx},conversationsPadding:{paddingTop:e.spaces.space20},content:{flexGrow:1,transform:[{translate3d:"0,0,0"}]},alignTop:{justifyContent:"flex-start"},readOnly:{paddingBottom:e.spaces.space20}})))},"4hmp":function(e,l,a){"use strict";const n=a("rHpw").a.create((e=>({inboxPip:{backgroundColor:e.colors.blue500,borderWidth:e.borderWidths.medium,borderColor:e.colors.cellBackground,borderStyle:"solid",position:"absolute",height:e.baseFontSize-4,width:e.baseFontSize-4,top:e.spacesPx.space8+e.spacesPx.space2,right:e.spacesPx.space8+e.spacesPx.space2},requestPivotContainer:{backgroundColor:e.colors.cellBackground,zIndex:2},requestPivotContainerBorder:{borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor},root:{backgroundColor:e.colors.cellBackground,flexGrow:1},searchInput:{backgroundColor:e.colors.cellBackground,padding:e.spaces.space12,zIndex:1},searchInputBorder:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small}})));l.a=n},"4n2h":function(e,l,a){"use strict";a.d(l,"b",(function(){return n})),a.d(l,"a",(function(){return t}));const n=e=>e?"medium":"normal",t=(e,l)=>e||l?"text":"gray700"},"6bmY":function(e,l,a){"use strict";var n,t,s,i,r,o,c,d,u,m,g,p,y,_,h,k,v,b,F,f,T,K,S,E,L,I,R,C,w,M,x,A,D={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:null,name:"evolutionDMInboxPrimaryQuery",selections:[{alias:"trusted",args:[t={kind:"Variable",name:"count",variableName:"count"},s={kind:"Literal",name:"desired_lists",value:["Trusted"]},i={kind:"Literal",name:"known_lists",value:["Trusted","Untrusted","LowQuality"]},r={kind:"Literal",name:"s",value:"e54f"},o={kind:"Literal",name:"sort_by",value:"Recency"}],concreteType:null,kind:"LinkedField",name:"__evolutionDMInboxPrimaryQuery_dm_convo_list_slice_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[d={alias:null,args:null,concreteType:"DMConversationLabelInfo",kind:"LinkedField",name:"labels",plural:!0,selections:[c={alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null}],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},{args:null,kind:"FragmentSpread",name:"evolutionDMInboxItem"}],type:"DMConversation",abstractKey:null},m={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null},g={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null},m],storageKey:null},{alias:"untrusted",args:p=[{kind:"Literal",name:"desired_lists",value:["Untrusted"]},i,r,o],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"evolutionMessageRequestsPivot"}],type:"DMConversation",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["Untrusted"],known_lists:["Trusted","Untrusted","LowQuality"],s:"e54f",sort_by:"Recency")'},{alias:"low_quality",args:y=[{kind:"Literal",name:"desired_lists",value:["LowQuality"]},i,r,o],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[k={kind:"InlineFragment",selections:h=[_={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"DMConversation",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["LowQuality"],known_lists:["Trusted","Untrusted","LowQuality"],s:"e54f",sort_by:"Recency")'},{alias:"pinned",args:v=[{kind:"Literal",name:"label",value:"Pinned"},r],concreteType:"DMLabeledConversationsSlice",kind:"LinkedField",name:"labeled_conversation_slice",plural:!1,selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"items_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[u,{args:null,kind:"FragmentSpread",name:"pinnedInboxSectionConversation"}],type:"DMConversation",abstractKey:null}],storageKey:null}],storageKey:null},m],storageKey:'labeled_conversation_slice(label:"Pinned",s:"e54f")'}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"evolutionDMInboxPrimaryQuery",selections:[{alias:"trusted",args:b=[t,{kind:"Variable",name:"cursor",variableName:"cursor"},s,i,r,o],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[F={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[F,f={kind:"TypeDiscriminator",abstractKey:"__isDMConvoListItem"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[F,{kind:"InlineFragment",selections:[d,u,_,T={alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[F,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null},_],storageKey:null}],storageKey:null},I={alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[F,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[K={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"protected",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},L={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},_,u],type:"User",abstractKey:null}],storageKey:null},_],storageKey:null}],storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},C={alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},E],storageKey:null}],storageKey:null},x={alias:null,args:[{kind:"Literal",name:"count",value:20}],concreteType:null,kind:"LinkedField",name:"conversation_slice",plural:!1,selections:[F,{kind:"TypeDiscriminator",abstractKey:"__isDMEventSliceResult"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEventResults",kind:"LinkedField",name:"dm_event_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[F,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[F,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"audio",plural:!1,selections:h,storageKey:null}],type:"DMAudioAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:h,storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[F,{kind:"InlineFragment",selections:w=[{alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null}],type:"ApiGif",abstractKey:null},{kind:"InlineFragment",selections:w,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:w,storageKey:null}],type:"ApiVideo",abstractKey:null}],storageKey:null},_],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:h,storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},E,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[F,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[K,E],storageKey:null},L,_],type:"User",abstractKey:null}],storageKey:null},_],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[F,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[E,S],storageKey:null},L,_],type:"User",abstractKey:null}],storageKey:null},_],storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"reactions",plural:!1,selections:[F,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMReaction",kind:"LinkedField",name:"items",plural:!0,selections:[M,{alias:null,args:null,kind:"ScalarField",name:"reaction_key",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[F,{kind:"InlineFragment",selections:[u,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[E],storageKey:null},L,_],type:"User",abstractKey:null}],storageKey:null},_],storageKey:null}],storageKey:null}],type:"DMReactionSlice",abstractKey:null}],storageKey:null},u,_],type:"DMEvent",abstractKey:null}],storageKey:null},_],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:"conversation_slice(count:20)"},A={alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null},m],storageKey:null},_],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null},g],type:"DMConvoListSlice",abstractKey:null},m],storageKey:null},{alias:"trusted",args:b,filters:["count","desired_lists","known_lists","s","sort_by"],handle:"slice",key:"evolutionDMInboxPrimaryQuery_dm_convo_list_slice",kind:"LinkedHandle",name:"dm_convo_list_slice"},{alias:"untrusted",args:p,concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[F,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[F,f,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[F,{kind:"InlineFragment",selections:[R,{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"SocialProof",kind:"LinkedField",name:"social_proof",plural:!1,selections:[{alias:null,args:null,concreteType:"MutualFriendsSocialProof",kind:"LinkedField",name:"mutual_friends",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_mutual_friends",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},_],type:"DMConversation",abstractKey:null}],storageKey:null},_],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["Untrusted"],known_lists:["Trusted","Untrusted","LowQuality"],s:"e54f",sort_by:"Recency")'},{alias:"low_quality",args:y,concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[F,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[F,f,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[F,k],storageKey:null},_],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["LowQuality"],known_lists:["Trusted","Untrusted","LowQuality"],s:"e54f",sort_by:"Recency")'},{alias:"pinned",args:v,concreteType:"DMLabeledConversationsSlice",kind:"LinkedField",name:"labeled_conversation_slice",plural:!1,selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"items_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[F,{kind:"InlineFragment",selections:[u,{alias:null,args:null,concreteType:"DMConversationLabelInfo",kind:"LinkedField",name:"labels",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},_,T,I,R,C,x,A,m],type:"DMConversation",abstractKey:null}],storageKey:null},_],storageKey:null},m],storageKey:'labeled_conversation_slice(label:"Pinned",s:"e54f")'}]},params:{id:"yWKGySeJxM-6SB-nb6RwWw",metadata:{sliceInfoPath:["trusted","slice_info"]},name:"evolutionDMInboxPrimaryQuery",operationKind:"query",text:null}};D.hash="b7fd77709ae26b4e8910a139f04088a4",e.exports=D},"883S":function(e,l,a){"use strict";a.d(l,"a",(function(){return b})),a.d(l,"c",(function(){return F})),a.d(l,"b",(function(){return f}));var n=a("qqsb"),t=a.n(n),s=a("fs1G"),i=a("k49u");const r=t.a.c3752568,o=t.a.f78aa3ea,c=t.a.f9690dc0,d=t.a.i859a9d4,u=t.a.b1d35408,m=t.a.g539cca6,g=t.a.bbac001a,p=t.a.a1d2a68e,y=t.a.d4f2d9d8,_=t.a.hf383be4,h=t.a.b25c5b2a,k=t.a.c4fdbd16,v=t.a.hf3e7e38,b={[i.a.DirectMessageConversationNotFound]:{customAction:()=>!1}},F={defaultToast:{text:o},showToast:!0},f={defaultToast:{text:r},[i.a.CurrentUserSuspended]:{toast:{text:m,action:{label:d,link:"https://support.twitter.com/articles/15790"}}},[i.a.DirectMessageCannotDmOtherUser]:{toast:{text:c}},[i.a.DirectMessageDuplicate]:{toast:{text:h}},[i.a.DirectMessageOtherUserNotFollowing]:{toast:{text:p,action:{label:d,link:"https://support.twitter.com/articles/14606"}}},[i.a.DirectMessagesSenderBlocksRecipient]:{toast:{text:k}},[i.a.DirectMessageTooLongError]:{toast:{text:g}},[i.a.DirectMessageTweetNotFound]:{toast:{text:y}},[i.a.GenericBadRequest]:{customAction:s.a},[i.a.MessageSendError]:{toast:{text:v}},[i.a.OverStatusUpdateLimit]:{toast:{action:{label:d,link:"https://support.twitter.com/articles/15364"},text:u}},[i.a.TargetUserNotFound]:{toast:{text:_}},showToast:!0}},"88ay":function(e,l,a){"use strict";a.d(l,"c",(function(){return P})),a.d(l,"e",(function(){return U})),a.d(l,"f",(function(){return H})),a.d(l,"d",(function(){return q})),a.d(l,"a",(function(){return W}));var n=a("97Jx"),t=a.n(n),s=(a("kYxP"),a("ERkP")),i=a.n(s),r=a("IG7M"),o=a("nBUg"),c=a("IMA+"),d=a("rHpw"),u=a("mN6z"),m=a("hxu0"),g=a("I57f"),p=a("uIZp"),y=a("caTy"),_=a("cFuS"),h=a("7JQg"),k=a("X04g"),v=a("Rp9C"),b=a("3IPs"),F=a("Re5t"),f=a("TnY3"),T=a("v6aA"),K=a("vMjK"),S=a("MWbm");const E=e=>{const{children:l,promotedContent:a,user:n}=e;return i.a.createElement(S.a,{style:L.decorationWrapper},l,i.a.createElement(r.a,{renderActionMenu:e=>i.a.createElement(K.b,{onClose:e,promotedContent:a,user:n,view:"follower"}),style:L.actionMenu}))},L=d.a.create((e=>({decorationWrapper:{flexDirection:"row"},actionMenu:{marginLeft:e.spaces.space12}})));var I=a("0KEI"),R=a("rxPX"),C=a("zh9S"),w=a("6rlp"),M=a("G6rE");const x=(e,l)=>M.e.select(e,l.userId),A=(e,l)=>l.promotedContent;var D=Object(R.a)().propsFromState((()=>({promotedContent:A,user:x}))).adjustStateProps((({promotedContent:e,user:l})=>({promotedContent:e||(l?l.promoted_content:void 0),user:l}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(I.createLocalApiErrorHandlerWithContextFactory)("USER_CELL_CONTAINER"),log:w.a,scribeAction:C.c})));const O=e=>{const{user:l}=e;return l&&l.profile_image_url_https?i.a.createElement(N,t()({},e,{avatarUri:l.profile_image_url_https,description:l.description,entities:l.entities,followRequestReceived:l.follow_request_received,highlightedLabel:l.highlightedLabel,isAutoblocking:l.smart_blocking,isBlockedBy:l.blocked_by,isBlocking:l.blocking,isDeviceFollowing:l.notifications,isFollowedBy:l.followed_by,isFollowing:l.following,isProtected:l.protected,isVerified:l.verified,name:l.name,screenName:l.screen_name,translatorType:l.translator_type,user:l,withheldDescription:l.withheld_description,withheldEntities:l.withheld_entities})):null};O.defaultProps={cellClickable:!0,decoration:null,displayMode:F.a.UserCompact,followRequestReceived:!1,hideBlocked:!1,promotedItemType:_.c.USER,shouldScribeProfileClick:!0,shouldScribeImpression:!1,withFollowsYou:!1};const P=({isDeviceFollowing:e,userId:l})=>i.a.createElement(g.a,{isFollowing:e,style:j.followButton,userId:l}),U=({loggedInUserId:e,onFollowClick:l,promotedContent:a,userId:n})=>e!==n?i.a.createElement(p.a,{onFollowClick:l,promotedContent:a,size:"small",style:j.followButton,userId:n}):null,H=e=>i.a.createElement(E,{promotedContent:e.promotedContent,user:e.user},U(e)),q=e=>i.a.createElement(r.a,{renderActionMenu:l=>i.a.createElement(K.b,{onClose:l,promotedContent:e.promotedContent,user:e.user,view:"rito_flagged_accounts"})});class N extends i.a.Component{constructor(...e){super(...e),this._handleAvatarClick=()=>{const{shouldScribeProfileClick:e}=this.props;this._handleSaveAsRecentSearch(),e&&this._scribeAction({element:"avatar",action:"profile_click"}),this._handleAsyncPromotedEvent(_.b.PROFILE_IMAGE_CLICK)},this._handleCellClick=()=>{const{history:e,onClick:l,screenName:a,user:n,userId:t}=this.props,s=this._getPromotedTweetState();this._handleSaveAsRecentSearch(),this._handleScreenNameClick(),l?l({user:n,state:s}):e.push({pathname:`/${a}`,state:{userId:t,...s||{}}})},this._handleScreenNameClick=()=>{const{shouldScribeProfileClick:e}=this.props;this._handleSaveAsRecentSearch(),e&&this._scribeAction({action:"profile_click"}),this._handleAsyncPromotedEvent(_.b.SCREEN_NAME_CLICK)},this._handleSaveAsRecentSearch=()=>{const{saveAsRecentSearch:e,shouldStoreTypeaheadItem:l,userId:a}=this.props;e&&l&&l(k.a.ItemType.USER)&&e({user:{id:a,type:b.a.User}})},this._scribeAction=e=>{var l;const{promotedContent:a,scribeAction:n,scribeData:t,scribeNamespace:s,user:i,userId:r}=this.props,o=null==t||null==(l=t.items)?void 0:l.find((e=>e.item_type===k.a.ItemType.USER&&e.id===r)),c=t.search_details;n({...s,...e},{items:[{...o,...v.a.getUserItem(i,a)}],profile_id:r,search_details:c})}}componentDidMount(){this._shouldRender()&&this._handleImpression()}shouldComponentUpdate(e){return!Object(u.a)(this.props,e)}render(){const{avatarDecoration:e,bottomControl:l,cellClickable:a,createLocalApiErrorHandler:n,decoration:s,followRequestReceived:r,hideBlocked:d,history:u,isAutoblocking:m,isBlockedBy:g,isBlocking:p,isDeviceFollowing:_,isFollowing:h,isInSidebar:k,location:v,log:b,onClick:F,onFollowClick:f,promotedItemId:T,saveAsRecentSearch:K,scribeAction:S,scribeData:E,scribeNamespace:L,shouldScribeImpression:I,shouldScribeProfileClick:R,shouldStoreTypeaheadItem:C,socialContext:w,user:M,...x}=this.props;return this._shouldRender()?i.a.createElement(o.b.Provider,{value:{socialContextRefreshEnabled:()=>this.context.featureSwitches.isTrue("social_context_and_topic_context_refresh_alignment_enabled")}},i.a.createElement(c.a,t()({},x,{avatarDecoration:e,bottomControl:this._renderBottomControl(),decoration:this._renderDecoration(),highlightedLabel:this._getHighlightedLabel(),isBlocking:M.blocking,onAvatarClick:this._handleAvatarClick,onCellClick:a?this._handleCellClick:void 0,onScreenNameClick:this._handleScreenNameClick,socialContext:w?{contextType:w.contextType,text:w.text,link:w.landingUrl?Object(y.b)(w.landingUrl):void 0}:void 0,withDarkerInteractiveBackground:k}))):null}_renderBottomControl(){return this._renderControl(this.props.bottomControl||null)}_renderDecoration(){const{decoration:e,onFollowClick:l}=this.props;return this._renderControl(e,l)}_renderControl(e,l){const{loggedInUserId:a}=this.context,{displayMode:n,followRequestReceived:t,isAutoblocking:s,isBlocking:i,isDeviceFollowing:r,isFollowing:o,promotedContent:c,screenName:d,user:u,userId:m}=this.props;return"function"==typeof e?e({displayMode:n,followRequestReceived:t,isAutoblocking:s,isBlocking:i,isDeviceFollowing:!!r,isFollowing:!!o,loggedInUserId:a,promotedContent:c,screenName:d,user:u,userId:m,onFollowClick:l}):e}_shouldRender(){const{hideBlocked:e,isBlockedBy:l,isBlocking:a,screenName:n,userId:t}=this.props;return t&&n&&!(e&&(l||a))}_getHighlightedLabel(){const{highlightedLabel:e}=this.props.user,l="AutomatedLabel"===(null==e?void 0:e.userLabelType),a=!!l&&this.context.featureSwitches.isTrue("account_taxonomy_automated_label_enabled");return!l||a?e:void 0}_getPromotedTweetState(){const{promotedContent:e,promotedItemType:l}=this.props;return e&&l===_.c.TWEET?{promotedTweetState:e}:null}_handleAsyncPromotedEvent(e){const{createLocalApiErrorHandler:l,log:a,promotedContent:n,promotedItemId:t,promotedItemType:s,userId:i}=this.props;if(n){const{disclosure_type:r,impression_id:o}=n;a({disclosureType:r,itemId:t||i,itemType:s,params:{event:e,impression_id:o}}).catch(l())}}_handleImpression(){const{createLocalApiErrorHandler:e,log:l,promotedContent:a,promotedItemType:n,shouldScribeImpression:t,userId:s}=this.props;if(a&&n===_.c.USER){const{disclosure_type:n,impression_id:t}=a;l({disclosureType:n,itemId:s,itemType:_.c.USER,params:{event:_.b.IMPRESSION,impression_id:t}}).catch(e())}else t&&this._scribeAction({action:"impression"})}}N.contextType=T.a,N.defaultProps=O.defaultProps;const j=d.a.create((e=>({followButton:{marginLeft:e.spaces.space12}}))),W=Object(f.a)(Object(m.a)(D(O)));l.b=Object(h.a)({element:"user"})(W)},"8W85":function(e,l,a){"use strict";a("kYxP"),a("ERkP");var n=a("zb92");l.a=Object(n.a)({loader:()=>Promise.all([a.e(24),a.e(182)]).then(a.bind(null,"u2Vg")).then((e=>({default:e.__DANGEROUS_IMPORT__})))})},"8XEJ":function(e,l,a){"use strict";var n,t,s,i,r,o,c,d,u,m,g,p,y,_,h,k,v,b,F={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"query"},{defaultValue:null,kind:"LocalArgument",name:"withConversationQueryHighlights"}],kind:"Fragment",metadata:null,name:"evolutionDMConversationSearchTabGroupsQuery",selections:[{alias:"dm_group_convo_slice_result",args:[t={kind:"Variable",name:"query",variableName:"query"},s={kind:"Literal",name:"s",value:"e54f"}],concreteType:null,kind:"LinkedField",name:"__evolutionDMConversationSearchTabGroupsQuery_dm_group_convo_slice_result_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMGroupConvoSearchItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"dm_convo_search",plural:!1,selections:[i={alias:null,args:null,concreteType:"DMConversationLabelInfo",kind:"LinkedField",name:"labels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"evolutionDMInboxItem"},r={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},o={condition:"withConversationQueryHighlights",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"DMHighlighting",kind:"LinkedField",name:"highlighting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"query_tokens",storageKey:null}],storageKey:null}]}],storageKey:null},c={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null}],type:"DMGroupConvoSlice",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"evolutionDMConversationSearchTabGroupsQuery",selections:[{alias:null,args:d=[{kind:"Variable",name:"cursor",variableName:"cursor"},t,s],concreteType:null,kind:"LinkedField",name:"dm_group_convo_slice_result",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMGroupConvoSearchItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"dm_convo_search",plural:!1,selections:[i,m={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[u,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null},m],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[u,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[g={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"protected",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},_={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},m,h={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},m],storageKey:null}],storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},y],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"count",value:20}],concreteType:null,kind:"LinkedField",name:"conversation_slice",plural:!1,selections:[u,{kind:"TypeDiscriminator",abstractKey:"__isDMEventSliceResult"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEventResults",kind:"LinkedField",name:"dm_event_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[u,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[u,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"audio",plural:!1,selections:k=[m],storageKey:null}],type:"DMAudioAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:k,storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[u,{kind:"InlineFragment",selections:v=[{alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null}],type:"ApiGif",abstractKey:null},{kind:"InlineFragment",selections:v,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:v,storageKey:null}],type:"ApiVideo",abstractKey:null}],storageKey:null},m],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:k,storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},y,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[u,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[g,y],storageKey:null},_,m],type:"User",abstractKey:null}],storageKey:null},m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[h,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[u,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[y,p],storageKey:null},_,m],type:"User",abstractKey:null}],storageKey:null},m],storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"reactions",plural:!1,selections:[u,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMReaction",kind:"LinkedField",name:"items",plural:!0,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"reaction_key",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[u,{kind:"InlineFragment",selections:[h,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[y],storageKey:null},_,m],type:"User",abstractKey:null}],storageKey:null},m],storageKey:null}],storageKey:null}],type:"DMReactionSlice",abstractKey:null}],storageKey:null},h,m],type:"DMEvent",abstractKey:null}],storageKey:null},m],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:"conversation_slice(count:20)"},{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null}],storageKey:null},r],storageKey:null},o],storageKey:null},c],type:"DMGroupConvoSlice",abstractKey:null}],storageKey:null},{alias:null,args:d,filters:["query","s"],handle:"slice",key:"evolutionDMConversationSearchTabGroupsQuery_dm_group_convo_slice_result",kind:"LinkedHandle",name:"dm_group_convo_slice_result"}]},params:{id:"jU2lHFnuiEBmYbTBiLuBSA",metadata:{sliceInfoPath:["dm_group_convo_slice_result","slice_info"]},name:"evolutionDMConversationSearchTabGroupsQuery",operationKind:"query",text:null}};F.hash="5bfe02d9e534e41270a5d4ed48c52d48",e.exports=F},"8fJk":function(e,l,a){"use strict";var n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"evolutionMessageRequestsPivot",selections:[{alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"SocialProof",kind:"LinkedField",name:"social_proof",plural:!1,selections:[{alias:null,args:null,concreteType:"MutualFriendsSocialProof",kind:"LinkedField",name:"mutual_friends",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_mutual_friends",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null,hash:"90ff34717d6f33cb87d17d696fbedc86"};e.exports=n},"8hvq":function(e,l,a){"use strict";a.d(l,"a",(function(){return w}));a("MvUL");var n=a("ERkP"),t=a.n(n),s=a("uDfI"),i=a("HG4m"),r=a.n(i),o=a("Ud88"),c=a.n(o),d=a("zCf4"),u=a("efqG"),m=a("/yvb"),g=a("qqsb"),p=a.n(g),y=a("5oT/"),_=a("v6aA"),h=a("vMjK"),k=a("0KEI"),v=a("EbOo"),b=a("u0B7"),F=a("fz3c"),f=a("Irs7"),T=a("MMRb"),K=a("1YZw"),S=a("G6rE"),E=a("pHkl"),L=a("tZH3"),I=a("X/yg"),R=a("YemM");const C=p.a.d88d0790;function w(e){const{conversationId:l,conversationType:a,inboxType:n,participant:i}=e,o=Object(f.b)(),g=Object(k.useCreateLocalApiErrorHandler)("DIRECT_MESSAGES_INBOX_ITEM"),p=Object(s.c)(),w=c()(),{featureSwitches:M}=t.a.useContext(_.a),x=Object(d.f)(),A=M.isTrue("dm_vdl_enabled")&&M.isTrue("dm_vdl_inbox_p0_enabled"),D=a===T.CONVERSATION_TYPE.GROUP,O=e=>{p(S.e.unblock(e)).catch(g(b.a)),o.scribeAction("unblock")},P=()=>{const{participantCount:t,position:s,relayId:i}=e,c=a===T.CONVERSATION_TYPE.GROUP?"leave_group":"delete_thread",d={conversation_type:a===T.CONVERSATION_TYPE.GROUP?E.l.GROUP:E.l.ONE_TO_ONE,conversation_id:l,conversation_participant_count:t,position:s,inbox_type:Object(I.l)(n),entry_point:E.c.CELL_X_BUTTON};o.scribe({element:"thread",action:c,data:d}),p(T.leaveConversation({conversationId:l})).then((()=>{i&&r()(w,(e=>{e.delete(i)}))})).catch(g({showToast:!0})),x.replace(Object(I.g)(n))},U=()=>{const{userId:a}=e,t=F.a.DMConversation;if(o.scribeAction("report"),Object(F.g)(M,t)){const e=Object(F.d)({clientReferer:window.location.pathname,isMedia:!1,isPromoted:!1,reportType:t,reportedConversationId:l,reportedUser:a,scribeNamespace:o.contextualScribeNamespace});x.push({pathname:"/i/safety/report_story_start",state:{input:{requested_variant:JSON.stringify(e)}}})}else{const e=Object(I.j)(l,window.location.pathname,o.contextualScribeNamespace,n);x.push(e)}};return t.a.createElement(u.a,{renderContent:(e,l)=>t.a.createElement(L.a,{dismiss:e,flatBorders:"sheet"===l,isGroup:D,onBlockClick:()=>{return e=i.idStr,p(S.e.block(e)).then((()=>{p(Object(K.b)({action:{label:h.c,onAction:()=>O(e)},text:h.a}))}),g(v.a)),void o.scribeAction("block");var e},onDeleteClick:P,onReportClick:U,requestorScreenName:i.screenName,showBlock:!D,showCancel:"sheet"===l,showDelete:!0})},t.a.createElement(m.a,{accessibilityLabel:C,icon:t.a.createElement(y.a,{style:A?R.a.xIcon:void 0}),onPress:e=>{e.preventDefault()},style:A?R.a.vdlXButton:R.a.xButton,type:A?void 0:"destructiveText"}))}},"9SqB":function(e,l,a){"use strict";var n=a("IGGJ")(a("yiKp")),t=a("23An"),s=a("Ud88"),i=a("ERkP"),r=a("K1lQ").commitMutation,o=i.useState,c=i.useEffect,d=i.useRef,u=i.useCallback;e.exports=function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,a=s(),i=t(),m=d(a),g=d(e),p=d(new Set),y=o(!1),_=y[0],h=y[1],k=u((function(l){m.current===a&&g.current===e&&(p.current.delete(l),i.current&&h(p.current.size>0))}),[a,i,e]);c((function(){m.current===a&&g.current===e||(p.current=new Set,i.current&&h(!1),m.current=a,g.current=e)}),[a,i,e]);var v=u((function(t){i.current&&h(!0);var s=l(a,(0,n.default)((0,n.default)({},t),{},{mutation:e,onCompleted:function(e,l){var a;k(s),null===(a=t.onCompleted)||void 0===a||a.call(t,e,l)},onError:function(e){var l;k(s),null===(l=t.onError)||void 0===l||l.call(t,e)},onUnsubscribe:function(){var e;k(s),null===(e=t.onUnsubscribe)||void 0===e||e.call(t)},onNext:function(){var e;null===(e=t.onNext)||void 0===e||e.call(t)}}));return p.current.add(s),s}),[k,l,a,i,e]);return[v,_]}},AYcr:function(e,l,a){"use strict";var n,t,s={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"conversation_id"}],kind:"Fragment",metadata:null,name:"evolutionPinConversationMutation",selections:t=[{alias:null,args:[{kind:"Variable",name:"conversation_id",variableName:"conversation_id"},{kind:"Literal",name:"label",value:"Pinned"},{kind:"Literal",name:"s",value:"cb61"}],concreteType:null,kind:"LinkedField",name:"add_dm_conversation_label_v3",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],type:"DMConversationLabelInfo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"failure_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],type:"DMConversationLabelUnavailable",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"evolutionPinConversationMutation",selections:t},params:{id:"ZHTYqgRlFOIozAdfcLAF_A",metadata:{},name:"evolutionPinConversationMutation",operationKind:"mutation",text:null}};s.hash="3a550c6d2710cd81564e2c2508b2f30f",e.exports=s},Avzu:function(e,l,a){"use strict";var n=a("ERkP"),t=a.n(n),s=a("k/Ka"),i=a("Lsrn");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},t.a.createElement("g",null,t.a.createElement("path",{d:"M23.25 3.25h-2.425V.825c0-.414-.336-.75-.75-.75s-.75.336-.75.75V3.25H16.9c-.414 0-.75.336-.75.75s.336.75.75.75h2.425v2.425c0 .414.336.75.75.75s.75-.336.75-.75V4.75h2.425c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm-3.175 6.876c-.414 0-.75.336-.75.75v8.078c0 .414-.337.75-.75.75H4.095c-.412 0-.75-.336-.75-.75V8.298l6.778 4.518c.368.246.79.37 1.213.37.422 0 .844-.124 1.212-.37l4.53-3.013c.336-.223.428-.676.204-1.012-.223-.332-.675-.425-1.012-.2l-4.53 3.014c-.246.162-.563.163-.808 0l-7.586-5.06V5.5c0-.414.337-.75.75-.75h9.094c.414 0 .75-.336.75-.75s-.336-.75-.75-.75H4.096c-1.24 0-2.25 1.01-2.25 2.25v13.455c0 1.24 1.01 2.25 2.25 2.25h14.48c1.24 0 2.25-1.01 2.25-2.25v-8.078c0-.415-.337-.75-.75-.75z"})));r.metadata={width:24,height:24},l.a=r},CNCR:function(e,l,a){"use strict";var n,t,s={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"conversationId"},{defaultValue:null,kind:"LocalArgument",name:"messageId"},{defaultValue:null,kind:"LocalArgument",name:"reactionTypes"}],kind:"Fragment",metadata:null,name:"useDMReactionMutationRemoveMutation",selections:t=[{alias:null,args:[{fields:[{kind:"Variable",name:"conversation_id",variableName:"conversationId"},{kind:"Variable",name:"message_id",variableName:"messageId"},{kind:"Variable",name:"reaction_types",variableName:"reactionTypes"}],kind:"ObjectValue",name:"dm_reactions"},{kind:"Literal",name:"s",value:"d13c"}],concreteType:null,kind:"LinkedField",name:"delete_dm_reaction",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useDMReactionMutationRemoveMutation",selections:t},params:{id:"iLkTBlI6tusrBD4QnYZyuA",metadata:{},name:"useDMReactionMutationRemoveMutation",operationKind:"mutation",text:null}};s.hash="89fe50ecaf9242640e99936d4f08bcb4",e.exports=s},CVqr:function(e,l,a){"use strict";a.d(l,"b",(function(){return c})),a.d(l,"a",(function(){return d}));var n=a("qqsb"),t=a.n(n);const s=t.a.f041be05,i=t.a.a2fad0f3,r=t.a.cbddf365,o=t.a.fac945ad,c=t.a.h6beb5fb,d=e=>{const{newUntrustedWithSocialProof:l,newUntrustedWithoutSocialProof:a,oldUntrustedWithSocialProof:n,oldUntrustedWithoutSocialProof:t}=e;let c="normal",d="",m=!1;return l>0?(d=i({stringCount:u(l),count:l}),c="bold",m=!0):a>0?(d=o({stringCount:u(a),count:a}),c="bold",m=!0):n>0?(d=r({stringCount:u(n),count:n}),c="medium"):t>0&&(d=s({stringCount:u(t),count:t}),c="medium"),{titleWeight:c,description:d,showNotificationDot:m}},u=e=>e>10?c({count:10}):e},DQzJ:function(e,l,a){"use strict";a.d(l,"a",(function(){return k}));a("kYxP");var n=a("ERkP"),t=a.n(n),s=a("tI3i"),i=a.n(s),r=a("Ud88"),o=a.n(r),c=a("lU4h"),d=a.n(c),u=a("UIzd"),m=a.n(u),g=a("enFi"),p=a("0KEI"),y=a("SrIh"),_=a("kGix"),h=a("IAZG");function k(e,l){const[a,n]=t.a.useState(!1),[s,r]=t.a.useState(null),c=o()(),[u]=d()(l),k=Object(p.useApiErrorHandler)(),v=Object(h.a)(e,u);return t.a.useMemo((()=>{var l,t;const o=null==(l=Object(g.getRequest)(e).params)||null==(t=l.metadata)?void 0:t.sliceInfoPath;i()(!!o,"The provided query does not have an associated sliceInfoPath. Make sure you are using the `@slice` directive with your query.");const{next_cursor:d,previous_cursor:p}=function(e,l){try{i()("slice_info"===l[l.length-1],"Invalid sliceInfoPath!");let n=e;for(const e of l){var a;i()(!!n,"The provided path is invalid."),i()("string"==typeof e,"Unexpected value for path!"),n=null==(a=n)?void 0:a[e]}return n}catch(e){return void Object(y.a)(e.message)}}(v,o)||{},h=l=>{a||(n(!0),m()(c,e,{...u,cursor:l}).subscribe({complete:()=>{n(!1)},error:e=>{n(!1),r(e),k(e)}}))},b=()=>{d&&h(d)},F=()=>{p&&h(p)};return s?{subsequentFetchStatus:_.a.FAILED,error:s,fetchNext:b,fetchPrevious:F,data:v,hasNext:Boolean(d),hasPrevious:Boolean(p)}:{subsequentFetchStatus:a?_.a.LOADING:_.a.NONE,error:void 0,fetchNext:b,fetchPrevious:F,data:v,hasNext:Boolean(d),hasPrevious:Boolean(p)}}),[e,v,a,s,c,u,k])}},DbJc:function(e,l,a){"use strict";var n=a("VPAj");const t={...a("7n04").a,initialScrollHeadroom:Object(n.a)(0),scrollHeadroom:Object(n.a)(0),pinToNewestWhenAtNewest:!0};l.a=t},FWve:function(e,l,a){"use strict";var n,t,s,i,r,o,c,d,u,m,g,p,y,_,h,k,v,b,F,f={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:null,name:"EvolutionDMInboxSecondaryNoQualityFilterQuery",selections:[{alias:"untrusted",args:[t={kind:"Variable",name:"count",variableName:"count"},s={kind:"Literal",name:"desired_lists",value:["Untrusted","LowQuality"]},i={kind:"Literal",name:"known_lists",value:["Trusted","Untrusted","LowQuality"]},r={kind:"Literal",name:"s",value:"e54f"},o={kind:"Literal",name:"sort_by",value:"Recency"}],concreteType:null,kind:"LinkedField",name:"__EvolutionDMInboxSecondaryNoQualityFilterQuery_dm_convo_list_slice_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[c={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"evolutionDMInboxItem"},d={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"EvolutionDMInboxSecondaryNoQualityFilterQuery",selections:[{alias:"untrusted",args:u=[t,{kind:"Variable",name:"cursor",variableName:"cursor"},s,i,r,o],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[m,{kind:"TypeDiscriminator",abstractKey:"__isDMConvoListItem"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null},g],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[p={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"protected",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},h={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},g,k={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},g],storageKey:null}],storageKey:null},k,{alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},_],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"count",value:20}],concreteType:null,kind:"LinkedField",name:"conversation_slice",plural:!1,selections:[m,{kind:"TypeDiscriminator",abstractKey:"__isDMEventSliceResult"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEventResults",kind:"LinkedField",name:"dm_event_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"audio",plural:!1,selections:v=[g],storageKey:null}],type:"DMAudioAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:v,storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[m,{kind:"InlineFragment",selections:b=[{alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null}],type:"ApiGif",abstractKey:null},{kind:"InlineFragment",selections:b,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:b,storageKey:null}],type:"ApiVideo",abstractKey:null}],storageKey:null},g],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:v,storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},_,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[p,_],storageKey:null},h,g],type:"User",abstractKey:null}],storageKey:null},g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[_,y],storageKey:null},h,g],type:"User",abstractKey:null}],storageKey:null},g],storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"reactions",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMReaction",kind:"LinkedField",name:"items",plural:!0,selections:[F,{alias:null,args:null,kind:"ScalarField",name:"reaction_key",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[k,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[_],storageKey:null},h,g],type:"User",abstractKey:null}],storageKey:null},g],storageKey:null}],storageKey:null}],type:"DMReactionSlice",abstractKey:null}],storageKey:null},k,g],type:"DMEvent",abstractKey:null}],storageKey:null},g],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:"conversation_slice(count:20)"},{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null},d],storageKey:null},g],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:null},{alias:"untrusted",args:u,filters:["count","desired_lists","known_lists","s","sort_by"],handle:"slice",key:"EvolutionDMInboxSecondaryNoQualityFilterQuery_dm_convo_list_slice",kind:"LinkedHandle",name:"dm_convo_list_slice"}]},params:{id:"rj0wAEzfARRw5Lxv6vA9tA",metadata:{sliceInfoPath:["untrusted","slice_info"]},name:"EvolutionDMInboxSecondaryNoQualityFilterQuery",operationKind:"query",text:null}};f.hash="a9c8f6c43b986935e459c8351f3c2a03",e.exports=f},Fy0n:function(e,l,a){"use strict";var n=a("ERkP"),t=a.n(n),s=a("qqsb"),i=a.n(s),r=a("Avzu"),o=a("QB0K"),c=a("FRNI");const d=i.a.h845f282,u=i.a.f325afc4;function m(){return t.a.createElement(o.a,{accessibilityLabel:d,href:"/messages/compose",icon:t.a.createElement(r.a,null),label:d,scribeComponent:"floating_dm_button",shortLabel:u,testID:c.a.message})}l.a=t.a.memo(m)},GPmX:function(e,l,a){"use strict";a.d(l,"a",(function(){return s}));var n=a("ERkP"),t=a.n(n);function s(e){const l=t.a.useRef();return t.a.useEffect((()=>{l.current=e})),l.current}},GSsg:function(e,l,a){"use strict";a.d(l,"a",(function(){return t}));var n=a("B5iK");class t{constructor(e,l=Object.freeze({})){const{interval:a=6e4,burstInterval:t=3e3,burstDuration:s=3e5}=l;this.pollTimer=new n.b(a).interval(e),this.burstTimer=new n.a(this.pollTimer,t,s)}start(e){return this.pollTimer.start(),e&&this.burstTimer.requestBurst(),this}stop(){return this.burstTimer.stopBurst(),this.pollTimer.stop(),this}restart(){return this.stop(),this.start(),this}}},H4nC:function(e,l,a){"use strict";var n=a("ERkP"),t=a.n(n),s=a("MWbm"),i=a("rHpw"),r=a("t62R"),o=a("qqsb"),c=a.n(o),d=a("4n2h");const u=i.a.create((e=>({root:{paddingBottom:e.spaces.space20}}))),m=c.a.d84b485e,g=c.a.be0c83d8;l.a=({entry:e,isCompact:l,isSelected:a=!1,unread:n=!1})=>{const i="follow"===e.reason?m:g,o=Object(d.b)(n),c=Object(d.a)(n,a);return l?t.a.createElement(r.b,{color:c,weight:o},i):t.a.createElement(s.a,{style:u.root},t.a.createElement(r.b,{align:"center",color:c,size:"subtext2",weight:o},i))}},"I2k/":function(e,l,a){"use strict";a.d(l,"a",(function(){return i}));var n=a("k49u"),t=a("lRnM"),s=a("LVU8");const i=e=>({[n.a.ClientNotPermitted]:{customAction:()=>(Object(s.d)("/messages/",{statusCode:401}),Object(t.v)(e))}})},IACL:function(e,l,a){"use strict";var n,t,s,i,r,o={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"evolutionDMDrawerQuery",selections:[{alias:null,args:t=[{kind:"Literal",name:"count",value:1},{kind:"Literal",name:"desired_lists",value:n=["Trusted","Untrusted","LowQuality"]},{kind:"Literal",name:"known_lists",value:n},{kind:"Literal",name:"s",value:"e54f"},{kind:"Literal",name:"sort_by",value:"Recency"}],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[i={kind:"InlineFragment",selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"DMConversation",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(count:1,desired_lists:["Trusted","Untrusted","LowQuality"],known_lists:["Trusted","Untrusted","LowQuality"],s:"e54f",sort_by:"Recency")'}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"evolutionDMDrawerQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[r,{kind:"TypeDiscriminator",abstractKey:"__isDMConvoListItem"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[r,i],storageKey:null},s],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(count:1,desired_lists:["Trusted","Untrusted","LowQuality"],known_lists:["Trusted","Untrusted","LowQuality"],s:"e54f",sort_by:"Recency")'}]},params:{id:"EaLKdvs0RLR9SFIi-XmwCg",metadata:{},name:"evolutionDMDrawerQuery",operationKind:"query",text:null}};o.hash="a987835d54e2170633fce8bbf5e22ce9",e.exports=o},IpT4:function(e,l,a){"use strict";var n=a("ERkP"),t=a.n(n),s=a("k/Ka"),i=a("Lsrn");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},t.a.createElement("g",null,t.a.createElement("path",{d:"M22.238 2.257c-.293-.293-.768-.293-1.06 0L2.52 20.917c-.293.292-.293.767 0 1.06.146.146.338.22.53.22s.384-.073.53-.22l18.658-18.66c.293-.293.293-.767 0-1.06zM2.986 17.82c.155 0 .312-.048.446-.148.112-.083 2.752-2.104 2.708-7.248-.02-2.16.643-3.98 1.913-5.266 1.093-1.107 2.577-1.72 4.18-1.727 1.325.006 2.562.42 3.578 1.195.137.104.297.153.455.153.227 0 .45-.102.598-.295.25-.33.188-.8-.142-1.052-1.278-.975-2.828-1.493-4.483-1.5h-.003c-2.008.008-3.87.78-5.248 2.173-1.536 1.551-2.368 3.8-2.348 6.332.037 4.33-2.02 5.967-2.103 6.03-.332.247-.4.718-.154 1.05.147.2.374.303.603.303zm16.844-7.382c.002-.246-.003-.487-.017-.723-.024-.414-.387-.74-.792-.706-.413.023-.728.378-.705.79.012.205.017.413.015.624-.024 2.868.785 4.765 1.526 5.896h-8.314c-.414 0-.75.336-.75.75s.336.75.75.75h3.522c-.1 1.48-1.323 2.66-2.828 2.66-1.003 0-1.913-.514-2.436-1.372-.214-.354-.675-.467-1.03-.25-.354.214-.467.675-.25 1.03.795 1.31 2.185 2.09 3.716 2.09 2.332 0 4.227-1.85 4.328-4.158h4.922c.32 0 .604-.206.707-.51.104-.305 0-.643-.255-.84-.087-.066-2.145-1.7-2.108-6.032z"})));r.metadata={width:24,height:24},l.a=r},J2UM:function(e,l,a){"use strict";var n=a("0JOx");l.a=()=>Object(n.h)().then((({inputDetect:e})=>e))},K8Kw:function(e,l,a){"use strict";var n,t,s,i,r,o,c,d,u,m,g,p,y,_,h,k,v,b,F,f,T,K,S,E,L={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"query"},{defaultValue:null,kind:"LocalArgument",name:"withConversationQueryHighlights"}],kind:"Fragment",metadata:null,name:"DMConversationSearchTabGroupsQuery",selections:[{alias:"dm_group_convo_slice_result",args:[t={kind:"Variable",name:"query",variableName:"query"},s={kind:"Literal",name:"s",value:"6f10"}],concreteType:null,kind:"LinkedField",name:"__DMConversationSearchTabGroupsQuery_dm_group_convo_slice_result_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMGroupConvoSearchItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"dm_convo_search",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[o,c={alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:g=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[i,r,m={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[d,u={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:g,storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[y={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[i,r,_={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},d,u,{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"join_time_millis",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"join_conversation_event_id",storageKey:null}],storageKey:null},b={alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"low_quality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"read_only",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trusted",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},F={condition:"withConversationQueryHighlights",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"DMHighlighting",kind:"LinkedField",name:"highlighting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"query_tokens",storageKey:null}],storageKey:null}]}],storageKey:null},f={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null}],type:"DMGroupConvoSlice",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"DMConversationSearchTabGroupsQuery",selections:[{alias:null,args:T=[{kind:"Variable",name:"cursor",variableName:"cursor"},t,s],concreteType:null,kind:"LinkedField",name:"dm_group_convo_slice_result",plural:!1,selections:[K={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMGroupConvoSearchItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"dm_convo_search",plural:!1,selections:[i,r,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[o,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[o,c,d,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:E=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[K,{kind:"InlineFragment",selections:[i,r,m,S={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"}],type:"User",abstractKey:null}],storageKey:null},i],storageKey:null},p,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:E,storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[K,y],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[K,{kind:"InlineFragment",selections:[i,r,_,S],type:"User",abstractKey:null}],storageKey:null},i],storageKey:null},h,k,v],storageKey:null},b],storageKey:null}],storageKey:null},F],storageKey:null},f],type:"DMGroupConvoSlice",abstractKey:null}],storageKey:null},{alias:null,args:T,filters:["query","s"],handle:"slice",key:"DMConversationSearchTabGroupsQuery_dm_group_convo_slice_result",kind:"LinkedHandle",name:"dm_group_convo_slice_result"}]},params:{id:"8D8KoSq5q9d5Su3emu2dwg",metadata:{sliceInfoPath:["dm_group_convo_slice_result","slice_info"]},name:"DMConversationSearchTabGroupsQuery",operationKind:"query",text:null}};L.hash="168f0d588de606cabd620a5a97abc402",e.exports=L},KWCo:function(e,l,a){"use strict";var n,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"evolutionDMConversationAvatar",selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null};t.hash="730d72814d575d9d07f0685f80113703",e.exports=t},Ka95:function(e,l,a){"use strict";a.d(l,"a",(function(){return Ie}));a("kYxP");var n,t=a("ERkP"),s=a.n(t),i=a("MWbm"),r=a("uDfI"),o=a("HG4m"),c=a.n(o),d=(a("enFi"),a("jAXQ")),u=a.n(d),m=a("9SqB"),g=a.n(m),p=a("Ud88"),y=a.n(p),_=a("zCf4"),h=a("Znyr"),k=a("GBcw"),v=a("cm6r"),b=a("htQn"),F=a("5mJL"),f=a("qqsb"),T=a.n(f),K=a("IpT4"),S=a("lnti"),E=a("BcsE"),L=a("h3MB"),I=a("BUB3"),R=a("sNn6"),C=a("v6aA"),w=a("0KEI"),M=a("q8SM"),x=a("t0aI"),A=a("Irs7"),D=a("MMRb"),O=a("AQ79"),P=a("RqPI"),U=a("1YZw"),H=a("6M7t"),q=a("2Aal");const N=void 0!==n?n:n=a("KWCo");function j(e){var l;const{conversation:a,conversationId:n,conversationType:t,perspective:i,size:r,withBadge:o}=e,{metadata:c,participants:d}=u()(N,a),m=null==c||null==(l=c.avatar)?void 0:l.media_info,g=m&&"ApiImage"===m.__typename?{height:m.original_img_height,width:m.original_img_width,url:m.original_img_url}:void 0,p=d||[],y=[];for(let e=0;e<p.length;e++){var _,h;const l=p[e];if("User"===(null==l||null==(_=l.user_results)||null==(h=_.result)?void 0:h.__typename)){const{legacy:e}=l.user_results.result;if(e){const{id_str:l,profile_image_url_https:a,screen_name:n}=e;y.push({id_str:l,profile_image_url_https:a,screen_name:n})}}}let k=y.filter((e=>e.id_str!==i)).slice(0,q.a);k.length||(k=y.filter((e=>e.id_str===i)));const v=Object(q.b)(g)||Object(q.c)(k,r),b=Object(q.e)(n,k,t),F=o?y.length-1:0;return v?s.a.createElement(H.a,{avatar:v,avatarLink:b,badgeCount:F}):null}var W=a("p9G8"),B=a("6Bw3");function V({conversationName:e,conversationType:l,highlightingTokens:a=null,isConversationSearchTitle:n=!1,isMessageSearchTitle:t=!1,participants:i,perspective:r,renderAvatarCell:o,renderTimestamp:c,textColor:d="text",textSize:u,titleWeight:m="bold",withParticipantsCount:g=!1,withScreenName:p=!0,withVDLRefresh:y=!1}){let _=i.filter((({id_str:e})=>e!==r));_.length||(_=i.filter((({id_str:e})=>e===r)));const h=n?Object(W.c)(e,l,r,i,n):Object(W.c)(e,l,r,i,n,y?2:void 0);return s.a.createElement(B.a,{conversationType:l,highlightingTokens:a,isConversationSearchTitle:n,isMessageSearchTitle:t,participants:_,renderAvatarCell:o,renderTimestamp:c,textColor:d,textSize:u,title:h,titleWeight:m,withParticipantsCount:g,withScreenName:p,withVDLRefresh:y})}var z=a("fQBn"),Q=a("pHkl"),G=a("t62R"),Y=a("4n2h"),$=a("zQEV");function X({entry:e,entryType:l,isSelected:a=!1,perspective:n,unread:t=!1,users:i}){const r=Object($.a)(e,l,n,i),o=Object(Y.b)(t),c=Object(Y.a)(t,a);return s.a.createElement(G.b,{color:c,weight:o},r)}var J,Z=a("Yjwz"),ee=a("ijJS"),le=a("XYIr");const ae=void 0!==J?J:J=a("VGyq");function ne({dm:e,isGroupDM:l,isSelected:a,perspective:n,reaction:t,senderId:i,senderName:r,senderScreenName:o,unread:c}){const{attachments:d,text:m}=u()(ae,e),g=d?d[0]:null,p=g&&(g.audio||g.card||g.media||g.tweet_results),y=n===i,_=Boolean(p&&y)||Boolean(l&&!y);if(t){const{reacterId:e,reacterName:i,reactionKey:r}=t;let d=Q.h.UNKNOWN;if(g){if(g.audio)d=Q.h.VOICE;else if(g.tweet_results)d=Q.h.TWEET;else if(g.card)d=Q.h.CARD;else if(g.media){const e=g.media.media_info;"ApiVideo"===(null==e?void 0:e.__typename)?d=Q.h.VIDEO:"ApiImage"===(null==e?void 0:e.__typename)?d=Q.h.PHOTO:"ApiGif"===(null==e?void 0:e.__typename)&&(d=Q.h.GIF)}}else m&&(d=Q.h.TEXT);return s.a.createElement(Z.a,{isGroupDM:l,isSelected:a,messageScreenName:o,messageText:m,perspective:n,reacterId:e,reacterName:i,reactionKey:r,type:d,unread:c})}let h,k=Object(le.a)(r,_,m);if(g)if(g.audio)k=Object(le.h)(y,r,_);else if(g.card)k=Object(le.d)(y,r,_);else if(g.tweet_results)k=Object(le.i)(y,r,_);else if(g.media){const e=g.media.media_info;if("ApiGif"===(null==e?void 0:e.__typename))h=e.alt_text,k=Object(le.c)(y,r,_);else if("ApiImage"===(null==e?void 0:e.__typename))h=e.alt_text,k=Object(le.e)(y,r,_);else if("ApiVideo"===(null==e?void 0:e.__typename)){var v;h=null==(v=e.preview_image)?void 0:v.alt_text,k=Object(le.g)(y,r,_)}}return s.a.createElement(ee.a,{accessibilityLabel:h,content:k,isSelected:a,unread:c})}var te,se=a("/8XK");const ie=void 0!==te?te:te=a("vL4t"),re=(e,l)=>({created_at:"",description:"",entities:{description:{}},followed_by:!1,followers_count:0,following:!1,friends_count:0,id:parseInt(l,10),id_str:l,name:e||"",profile_image_url_https:"",protected:!1,screen_name:"",verified:!1});function oe({entry:e,isGroupDM:l,isSelected:a,perspective:n,reaction:t,type:i,unread:r}){var o,c,d,m,g,p;const{legacy:y}=u()(ie,e);let _=(null==y||null==(o=y.initiating_user_results)?void 0:o.rest_id)||"",h=(null==y||null==(c=y.initiating_user_results)||null==(d=c.result)||null==(m=d.legacy)?void 0:m.name)||"";const k=null==y?void 0:y.event_id;if(null!=y&&null!=(g=y.event_detail)&&g.is_spam_hide)return Object(se.a)(r,a);if(null!=y&&null!=(p=y.event_detail)&&p.dm&&i===Q.e.MESSAGE_CREATE){var v,b,F;const e=(null==y||null==(v=y.initiating_user_results)||null==(b=v.result)||null==(F=b.legacy)?void 0:F.screen_name)||"";return s.a.createElement(ne,{dm:y.event_detail.dm,isGroupDM:l,isSelected:a,perspective:n,reaction:t,senderId:_,senderName:h,senderScreenName:e,unread:r})}if([Q.e.CONVERSATION_NAME_UPDATE,Q.e.PARTICIPANTS_JOIN,Q.e.PARTICIPANTS_LEAVE].includes(i)){var f;const e=Q.f[i];let l={},t=[];if(i===Q.e.PARTICIPANTS_LEAVE){var T,K,S,E,L,I,R,C,w,M;if(null==y||null==(T=y.event_detail)||!T.users_results||(null==y||null==(K=y.event_detail)?void 0:K.users_results.length)<1)return null;if(_=null==y||null==(S=y.event_detail)||null==(E=S.users_results[0])||null==(L=E.result)||null==(I=L.legacy)?void 0:I.id_str,h=null==y||null==(R=y.event_detail)||null==(C=R.users_results[0])||null==(w=C.result)||null==(M=w.legacy)?void 0:M.name,!_)return null;t=[{user_id:_}],l={[_]:{name:h}}}else{l={[_]:re(h,_)};for(const e of(null==y||null==(x=y.event_detail)?void 0:x.users_results)||[]){var x,A,D,O,P;const a=null==e||null==(A=e.result)||null==(D=A.legacy)?void 0:D.id_str,n=null==e||null==(O=e.result)||null==(P=O.legacy)?void 0:P.name;a&&n&&(l[a]=re(n,a),t.push({user_id:a}))}}const o={by_user_id:_,conversation_name:(null==y||null==(f=y.event_detail)?void 0:f.name)||"",id:k||"",participants:t,sender_id:_,time:"",type:e};return s.a.createElement(X,{entry:o,entryType:e,isSelected:a,perspective:n,unread:r,users:l})}return null}var ce=a("VcIV"),de=a("gEJU"),ue=a("yrzJ"),me=a("Xrkv"),ge=a("cTG8"),pe=a("X/yg");function ye(e){const{highlightingTokens:l,participants:a,perspective:n,searchQuery:t,type:i}=e,r=[],o=(e,l)=>e.localeCompare(l),c=a.filter((e=>{var l;const a=null==(l=e.name)?void 0:l.toLowerCase().includes(t||"");return e.id_str!==n&&(a&&r.push(e.name),!a)})).map((e=>e.name)).sort(o),d=r.sort(o).concat(c);if(i===D.CONVERSATION_TYPE.ONE_TO_ONE){const[e]=a,n=`@${e.screen_name}`,t=n?Object(pe.i)(l,n):null,i=null!=t&&t.length?Object(pe.f)(t,n):void 0;return s.a.createElement(ue.a,{color:"gray700",renderScreenNameHighlights:i,screenName:e.screen_name})}{const e=!0,a=Object(me.a)(d,e),n=Object(pe.n)(l),t=null==n?void 0:n.filter((e=>a&&-1!==a.toLowerCase().indexOf(e.toLowerCase()))),i=null!=t&&t.length?t.map((e=>Object(pe.h)(e,a))):void 0;return s.a.createElement(ge.a,{color:"gray700",displayTextRange:[0,a.length],entities:{},highlightType:"background",hitHighlights:i,key:"groupsearchresult",numberOfLines:2,text:a})}}var _e,he,ke,ve=a("YemM"),be=a("QgXh"),Fe=a("a9QA"),fe=a("8hvq");const Te=T.a.d98e066c,Ke=T.a.j302dba8,Se=void 0!==_e?_e:_e=a("Sy9O"),Ee=void 0!==he?he:he=a("AYcr"),Le=void 0!==ke?ke:ke=a("whlN");function Ie({conversationIds:e,dm_conversation:l,dmDrawerOnClick:a,highlightingTokens:n,inboxType:t,isMessageItem:o,isPinned:d,messageId:m,messageSearchEntries:p,pinnedSliceId:f,searchQuery:T}){var H,q,N,W,B;const G=Object(A.b)(),Y=Object(w.useCreateLocalApiErrorHandler)("DIRECT_MESSAGES_INBOX_ITEM_EVOLUTION"),$=Object(r.c)(),X=y()(),J=Object(_.g)(),[Z,ee]=s.a.useState(!1),le=u()(Se,l),ae=T&&!o,{conversation_slice:ne,id:te,last_readable_event_id:se,legacy:ie,rest_id:re}=le||{},ue=(null==le?void 0:le.perspectival_conversation_metadata)||{},{last_read_event_id:me,muted:ge}=ue,pe=(null==ie||null==(H=ie.metadata)?void 0:H.name)||void 0,_e=(null==ie||null==(q=ie.metadata)?void 0:q.conversation_type)===L.a.GROUP?D.CONVERSATION_TYPE.GROUP:D.CONVERSATION_TYPE.ONE_TO_ONE,he=(null==le?void 0:le.participants)||[],ke=Object(S.a)(he.map((({user_results:e})=>{var l;if("User"===(null==e||null==(l=e.result)?void 0:l.__typename)){const{id:l,legacy:a,rest_id:n}=e.result,t=null==a?void 0:a.protected;return Object(Fe.b)({id:l,isProtected:t,rest_id:n,...a})}return null}))),Ie=ke.length,Ce=((null==ne?void 0:ne.items)||[]).map((e=>{var l;return null==e||null==(l=e.dm_event_results)?void 0:l.result})),we=o&&m&&p,Me=null==(N=Re(Ce))?void 0:N.entry,xe=null==(W=Re(Ce))?void 0:W.reaction,Ae=we?null==p?void 0:p.find((e=>e.id===m)):void 0,De=we?Ae:Me,Oe=null==Ae||null==(B=Ae.message_data)?void 0:B.attachment,{featureSwitches:Pe}=s.a.useContext(C.a),Ue=Pe.getNumberValue("dm_conversation_labels_max_pinned_count"),He=Pe.isTrue("dm_vdl_enabled")&&Pe.isTrue("dm_vdl_inbox_p0_enabled"),qe=Pe.isTrue("dm_conversation_labels_pinned_enabled")&&Pe.isTrue("direct_messages_incremental_holdback_2022h1"),Ne=Object(r.d)(P.s)||"",je=_e===D.CONVERSATION_TYPE.GROUP,We=o?null==p?void 0:p.findIndex((e=>e.id===m)):e.findIndex((e=>e===`DMConversation:${te}`)),Be="number"==typeof We?We+1:0,Ve=!se||!(me&&Object(x.c)(me,se)),ze=He&&je,Qe=null!=n&&n.length&&Object(E.a)(We)&&We>=0?n[We]:void 0,Ge=je?"0":(()=>{const e=ke.filter((({id_str:e})=>e!==Ne)),l=e&&e[0]||null;return l?l.id_str:""})();s.a.useEffect((()=>{se&&$(Object(D.updateLastSeenEventIdEvolution)(se,t)).catch(Y({}))}),[Y,$,se,t]);const Ye=e=>{G.scribe({element:"thread",action:"click",data:{event_value:0,conversation_id:re,conversation_participant_count:Ie,conversation_type:je?Q.l.GROUP:Q.l.ONE_TO_ONE,position:Be}}),Ve&&se&&$(Object(D.updateConversationReadStateEvolution)(re,se)).then((()=>{c()(X,(e=>{Object(Fe.f)(te,se,e)}))})).catch(Y({})),a&&a(e,re)},[$e]=g()(Ee),Xe=s.a.useCallback((()=>{$e({variables:{conversation_id:re},onCompleted(e){var l,a;if("DMConversationLabelUnavailable"===(null==(l=e.add_dm_conversation_label_v3)?void 0:l.__typename)){const{failure_reason:l}=e.add_dm_conversation_label_v3;G.scribe({element:"thread",action:"error_shown",data:{error_type:Q.i.MAX_PINS_REACHED}}),"ExceededMaxPinnedConversations"===l&&ee(!0)}else"DMConversationLabelInfo"===(null==(a=e.add_dm_conversation_label_v3)?void 0:a.__typename)&&$(Object(U.b)({ariaOnly:!0,text:Te}))},updater(e,l){var a;"DMConversationLabelInfo"===(null==l||null==(a=l.add_dm_conversation_label_v3)?void 0:a.__typename)&&Object(Fe.a)(te,e,f)},onError(e){Y(M.a)(e)}})}),[G,Y,$,te,$e,f,re]),[Je]=g()(Le),Ze=s.a.useCallback((()=>{Je({variables:{conversation_id:re},onCompleted(){$(Object(U.b)({ariaOnly:!0,text:Ke}))},updater(e){Object(Fe.d)(te,e),Object(Fe.e)(te,e,f)},onError(e){Y(M.b)(e)}})}),[Y,$,te,f,re,Je]);if(!le)return null;const el=()=>s.a.createElement(i.a,{style:ve.a.avatarCellContainer},s.a.createElement(j,{conversation:le,conversationId:re,conversationType:_e,perspective:Ne,size:"large"})),ll=(e,l,a)=>s.a.createElement(s.a.Fragment,null,s.a.createElement(i.a,{style:ve.a.endCell},(()=>{const e=Ve?s.a.createElement(h.a,{pip:!0,style:ve.a.unreadMessagePip,truncatedCountFormatter:()=>"",unreadCountLabel:()=>""}):null;return He?e:T?null:nl()})()),(({isFocused:e,isFocusedWithin:l,isHovered:a})=>{switch(t){case O.d.PRIMARY:return qe?al({isFocused:e,isFocusedWithin:l,isHovered:a}):null;case O.d.SECONDARY:case O.d.TERTIARY:return tl();default:return null}})({isFocused:e,isFocusedWithin:l,isHovered:a})),al=({isFocused:e,isFocusedWithin:l,isHovered:a})=>s.a.createElement(ce.a,{conversationId:re,conversationType:_e,inboxType:t,isHovered:e||l||a,isMessageSearchResult:o,isPinned:d,isSnoozed:ge||!1,participantCount:Ie,position:Be,relayId:te,togglePinStateEvolution:d?Ze:Xe,userId:Ge}),nl=()=>{var e;const l=Number(Ae&&o?null==Ae?void 0:Ae.time:xe?xe.createdAt:null==Me||null==(e=Me.legacy)?void 0:e.created_at_millis),a=[He||o?ve.a.inlineNotificationsDisabledIcon:ve.a.notificationsDisabledIcon,He&&ve.a.inlineNotificationsDisabledIconVDL];return s.a.createElement(i.a,{style:(He||o)&&ve.a.inlineTimestamp},l?s.a.createElement(k.a,{timestamp:l}):null,ge?s.a.createElement(K.a,{style:a}):null)},tl=()=>{const e=ke.filter((({id_str:e})=>e!==Ne)).map((({id_str:e,name:l,screen_name:a})=>({idStr:e,name:l,screenName:a}))),l=e&&e[0]||null;return s.a.createElement(fe.a,{conversationId:re,conversationType:_e,inboxType:t,participant:l,participantCount:Ie,position:Be,relayId:te,userId:Ge})},sl=e=>{const l=[ve.a.root,o&&Oe&&ve.a.rootMessageAttachment,Ve&&!He&&ve.a.unread,e&&He&&ve.a.active];let a="text",n="bold";return He&&!Ve&&(a="gray900",n="medium"),He&&e&&(a="text",n="medium"),s.a.createElement(v.a,null,(({isFocused:t,isFocusedWithin:r,isHovered:c})=>s.a.createElement(b.a,{accessibilityRole:"none",accessibilityState:{selected:e},link:{pathname:`/messages/${re}`,anchorless:!0,state:{...J.state,entryPoint:o?null==Ae?void 0:Ae.id:null,position:Be,isMessageItem:o}},onPress:Ye,style:l,testID:be.a.conversation},s.a.createElement(F.a,{avatarCell:o?void 0:s.a.createElement(j,{conversation:le,conversationId:re,conversationType:_e,perspective:Ne,withBadge:ze}),avatarSize:"xxLarge"},s.a.createElement(i.a,{style:ve.a.bodyColumn},s.a.createElement(i.a,{style:ve.a.titleContainer},s.a.createElement(i.a,{style:o?ve.a.messageSearchTitleContainer:void 0},s.a.createElement(V,{conversationName:pe,conversationType:_e,highlightingTokens:Qe,isConversationSearchTitle:!!ae,isMessageSearchTitle:!!o,participants:ke,perspective:Ne,renderAvatarCell:el,renderTimestamp:()=>nl(),textColor:a,titleWeight:n,withScreenName:!T&&!o,withVDLRefresh:He}),s.a.createElement(i.a,{style:ve.a.messageSearchTitleContainer},o?ll(t,r,c):null)),s.a.createElement(i.a,{style:!(o&&(null!=Oe&&Oe.card||null!=Oe&&Oe.tweet))&&ve.a.snippet},De||ae?(e=>{return ae?s.a.createElement(ye,{highlightingTokens:Qe,participants:ke,perspective:Ne,searchQuery:T,type:_e}):o&&Ae?s.a.createElement(z.a,{conversationType:_e,entry:Ae,highlightingTokens:Qe,isMessageItem:!0,isSelected:He&&e,perspective:Ne,unread:He&&Ve}):Me?s.a.createElement(oe,{entry:Me,highlightingTokens:Qe,isGroupDM:je,isMessageItem:o,isSelected:He&&e,perspective:Ne,reaction:xe,type:(null==(l=Me.legacy)?void 0:l.event_type)||Q.e.MESSAGE_CREATE,unread:He&&Ve}):null;var l})(e):null)),o?null:ll(t,r,c))))))};return s.a.createElement(s.a.Fragment,null,Z?s.a.createElement(de.a,{count:Ue,setShowPinError:ee}):null,He?s.a.createElement(R.a,{exact:!1,path:`/messages/${re}`},sl):s.a.createElement(I.a,{exact:!1,path:`/messages/${re}`},sl))}const Re=e=>{let l,a=e.find((e=>{var l;return Q.d.includes(null==e||null==(l=e.legacy)?void 0:l.event_type)}));return e.forEach((e=>{var n;((null==e||null==(n=e.reactions)?void 0:n.items)||[]).forEach((n=>{var t,s;if(n&&(n.created_at_millis&&null!=(t=a)&&null!=(s=t.legacy)&&s.created_at_millis&&Object(x.c)(n.created_at_millis,a.legacy.created_at_millis)&&(!l||Object(x.c)(n.created_at_millis,l.createdAt)))){var i,r,o,c,d;a=e;const t="User"===(null==(i=n.sender_results)||null==(r=i.result)?void 0:r.__typename)?n.sender_results.result.rest_id:"",s="User"===(null==(o=n.sender_results)||null==(c=o.result)?void 0:c.__typename)?null==(d=n.sender_results.result.legacy)?void 0:d.name:"";l={createdAt:n.created_at_millis,reacterId:t,reacterName:s,reactionKey:n.reaction_key}}}))})),{entry:a,reaction:l}}},Lz2T:function(e,l,a){"use strict";var n=a("97Jx"),t=a.n(n),s=a("ERkP"),i=a.n(s),r=a("PnKw"),o=a("rcen"),c=a("k89r"),d=a("vYiB"),u=a("X3+4");function m(e){const{bodyRichText:l,bodyText:a,onImpression:n,primaryAction:s,titleRichText:m,titleText:g,...p}=e,y=Object(c.a)(),_=()=>{y.scribe({action:"click"})},h=m?i.a.createElement(o.a,{entities:m.entities,onEntityClick:_,text:m.text}):g&&g.length?g:null,k=l?i.a.createElement(o.a,{entities:l.entities,onEntityClick:_,text:l.text}):a&&a.length?a:null,v=e=>({...s,onClick:l=>{(null==s?void 0:s.onClick)&&s.onClick(l),e(l)}}),b=i.a.createElement(u.a.Consumer,null,(({handleNextSlide:e})=>i.a.createElement(r.a,t()({},p,{headline:h,primaryAction:s?v(e):void 0,subtext:k}))));return"function"==typeof n?i.a.createElement(d.a,{onImpression:n},b):b}m.defaultProps={shouldRenderBorder:!1},l.a=m},M2mT:function(e,l,a){"use strict";a("kYxP");var n=a("ERkP"),t=a.n(n),s=a("MWbm"),i=a("cHvH"),r=a("HPNB"),o=a("Es6L"),c=a("+/5o"),d=a("TnY3"),u=a("VAZu"),m=a("wiP2"),g=a("3xLC"),p=a("yw4N"),y=a("rHpw");var _=y.a.create((e=>({fill:{flex:1,alignSelf:"stretch"},viewportView:{...y.a.absoluteFillObject,overflowY:"auto"},appBarContainer:{position:"sticky",top:0,backfaceVisibility:"hidden",zIndex:e.componentZIndices.appBarZIndex}})));class h extends t.a.Component{constructor(...e){super(...e),this._renderChildren=()=>{const{children:e}=this.props;return this.context.rootDetailPerColumnScroll?t.a.createElement(s.a,{style:_.fill},t.a.createElement(p.a,{style:_.viewportView},this._renderInlineNav({isTwoColumnLayout:!0}),e)):e}}render(){return t.a.createElement(i.a,null,(({windowWidth:e})=>r.a.isTwoColumnLayout(e)?this._renderForTwoColumnLayout():this._renderForOneColumnLayout()))}_renderForOneColumnLayout(){const{appBarStyle:e,children:l,leftControl:a,screenType:n,showSubtitleOnRoot:s,showSubtitleOnWideDetail:i,withBottomBorder:r,withDetailOpen:c,...d}=this.props;return t.a.createElement(t.a.Fragment,null,Object(o.a)()?this._renderInlineNav({isTwoColumnLayout:!1}):t.a.createElement(m.a.Configure,d),l)}_renderForTwoColumnLayout(){const e=this.context.rootDetailPerColumnScroll;return t.a.createElement(t.a.Fragment,null,!e&&this._renderInlineNav({isTwoColumnLayout:!0}),this._renderChildren())}_renderInlineNav({isTwoColumnLayout:e}){const{SideNavButton:l,TabBar:a,TeamsSwitcher:n,appBarStyle:i,backLocation:r,documentTitle:o,headerless:d,history:g,leftControl:p,middleControl:y,onBackClick:h,rightControl:k,screenType:v,searchBoxOptions:b,secondaryBar:F,showSubtitleOnRoot:f,showSubtitleOnWideDetail:T,subtitle:K,title:S,titleIconCell:E,titleIconCellSize:L,withDetailOpen:I,withSearchBox:R,withTweetButton:C}=this.props,w="root"===v,M="secondaryRoot"===v,x="primaryDetail"===v,A=x&&T||w&&f,D=w||x&&e,O=w?c.c:x?c.a:void 0,P=t.a.createElement(s.a,{style:_.appBarContainer},t.a.createElement(u.a,{backLocation:r,fixed:!1,hideBackButton:D,history:g,leftControl:p,middleControl:y,onBackClick:h,rightControl:k,secondaryBar:F,style:i,subtitle:A?K:void 0,title:S,titleDomId:O,titleIconCell:E,titleIconCellSize:L})),U=w||M&&I?null:t.a.createElement(m.a.Configure,{SideNavButton:l,TabBar:a,TeamsSwitcher:n,backLocation:r,documentTitle:o,headerless:d,middleControl:y,onBackClick:h,rightControl:k,searchBoxOptions:b,subtitle:K,title:S,withSearchBox:R,withTweetButton:C});return t.a.createElement(t.a.Fragment,null,U,P)}}h.contextType=g.a,h.defaultProps={screenType:"secondaryDetail",showSubtitleOnWideDetail:!0};l.a=Object(d.a)(h)},NNz6:function(e,l,a){"use strict";var n,t,s,i,r,o={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"evolutionDMDrawerHeaderQuery",selections:[{alias:null,args:n=[{kind:"Literal",name:"desired_lists",value:["Trusted"]},{kind:"Literal",name:"known_lists",value:["Trusted","Untrusted","LowQuality"]},{kind:"Literal",name:"s",value:"e54f"},{kind:"Literal",name:"sort_by",value:"Recency"}],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null}],type:"DMConversation",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["Trusted"],known_lists:["Trusted","Untrusted","LowQuality"],s:"e54f",sort_by:"Recency")'}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"evolutionDMDrawerHeaderQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[i,{kind:"TypeDiscriminator",abstractKey:"__isDMConvoListItem"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[i,{kind:"InlineFragment",selections:[t,s,r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"DMConversation",abstractKey:null}],storageKey:null},r],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["Trusted"],known_lists:["Trusted","Untrusted","LowQuality"],s:"e54f",sort_by:"Recency")'}]},params:{id:"3QhsL9LHWvfEHbIRXIb84g",metadata:{},name:"evolutionDMDrawerHeaderQuery",operationKind:"query",text:null}};o.hash="ba7baf8fc74e0053f6d2829f4d45b40c",e.exports=o},OOE2:function(e,l,a){"use strict";a.d(l,"b",(function(){return b})),a.d(l,"c",(function(){return F})),a.d(l,"a",(function(){return f}));var n=a("ERkP"),t=a.n(n),s=a("MWbm"),i=a("Znyr"),r=a("csss"),o=a("t62R"),c=a("j7Bv"),d=a("qqsb"),u=a.n(d),m=a("Up3T"),g=a("v6aA"),p=a("Irs7"),y=a("AQ79"),_=a("aI6n"),h=a("nySH"),k=a("4hmp"),v=a("CVqr");const b=u.a.cf2d1048,F=u.a.da2f9225;function f(e){const l=t.a.useContext(g.a),a=Object(p.b)(),{allowUntrustedInbox:n,allowUntrustedVDLInbox:d,secondaryInboxCounts:u,untrustedUnreadCount:f}=e,T=l.featureSwitches.isTrue("dm_vdl_enabled")&&l.featureSwitches.isTrue("dm_vdl_inbox_p0_enabled"),K=[k.a.requestPivotContainer,T?void 0:k.a.requestPivotContainerBorder],{description:S,showNotificationDot:E,titleWeight:L}=Object(v.a)(u);return n||d?t.a.createElement(s.a,{style:K},t.a.createElement(r.a,{description:T?S:void 0,label:T?t.a.createElement(o.b,{weight:L},b):b,link:Object(h.b)(y.d.SECONDARY),onPress:()=>{a.scribe({element:"requests_pivot",action:"click"})},renderRightContent:T?(I=E,I?()=>t.a.createElement(i.a,{pip:!0,standalone:!0,truncatedCountFormatter:()=>"",unreadCountLabel:()=>""}):()=>null):()=>f>0?t.a.createElement(i.a,{count:f,standalone:!0,truncatedCountFormatter:v.b,unreadCountLabel:F}):null,thumbnail:T?t.a.createElement(s.a,{testID:_.a.untrustedThumbnail},t.a.createElement(c.a,{Icon:m.a,color:"neutral"})):null,withoutArrow:T})):null;var I}},Oi4X:function(e,l,a){"use strict";a("Qavd"),a("MvUL"),a("kYxP");var n=a("ERkP"),t=a.n(n),s=a("z0MJ"),i=a.n(s),r=a("rFBM"),o=a("rHpw"),c=a("mw9i"),d=a("+d3d"),u=a("mN6z"),m=a("I8M8"),g=a("aITJ"),p=a("v//M"),y=a("7myi"),_=a("yw4N"),h=a("07FG"),k=a("v6aA"),v=a("yoO3"),b=a("0JOx"),F=a("J2UM"),f=a("I2k/"),T=a("883S"),K=a("Es6L"),S=a("GSsg"),E=a("jTgF"),L=a("MMRb"),I=a("kGix"),R=a("4AMG"),C=a("MWbm"),w=a("zCf4"),M=a("t62R"),x=a("eb3s"),A=a("qqsb"),D=a.n(A),O=a("LsPn"),P=a("vMjK"),U=a("24HD"),H=a("EbOo"),q=a("u0B7"),N=(a("AQ79"),a("pHkl")),j=a("X/yg"),W=a("0KEI"),B=a("rxPX"),V=a("1YZw"),z=a("G6rE");var Q=Object(B.a)().propsFromActions((()=>({addToast:V.b,block:z.e.block,createLocalApiErrorHandler:Object(W.createLocalApiErrorHandlerWithContextFactory)("UNTRUSTED_CONVERSATION_ACTIONS"),muteDMUser:L.muteDMUser,unmuteDMUser:L.unmuteDMUser,unblock:z.e.unblock}))).withAnalytics({element:"untrusted_interstitial"}),G=a("cHvH"),Y=a("/yvb"),$=a("97Jx"),X=a.n($),J=a("efqG"),Z=a("tZH3");const ee=D.a.ccf2f24e,le=D.a.ib3fe8aa;var ae=({isGroup:e,onBlockClick:l,onReportClick:a,requestorScreenName:n})=>{const s={type:"destructiveOutlined"},i=t.a.createElement(Y.a,X()({},s,{accessibilityRole:"button"}),le),r=t.a.createElement(Y.a,X()({},s,{onPress:a}),ee),o=t.a.useCallback(((e,s)=>t.a.createElement(Z.a,{dismiss:e,flatBorders:"sheet"===s,onBlockClick:l,onReportClick:a,requestorScreenName:n,showBlock:!0,showCancel:"sheet"===s})),[l,a,n]);return e?r:t.a.createElement(J.a,{renderContent:o},i)};const ne=e=>{const l=t.a.useContext(k.a),a=l.featureSwitches.isTrue("dm_vdl_enabled")&&l.featureSwitches.isTrue("dm_vdl_chat_p0_enabled"),{loggedInUserId:n}=l,s=()=>e.onAccept(),i=()=>e.onBlock(),r=()=>e.onReport(),c=()=>e.onLeave();return t.a.createElement(G.a,null,(({windowWidth:l})=>{const d=l<=o.a.theme.breakpoints.small;return t.a.createElement(C.a,{style:te.actionsContainer},a&&t.a.createElement(Y.a,{onPress:s,size:"medium",style:[te.actionFullWidth,te.actionMarginBottom],type:"primaryOutlined"},e.acceptButtonText),t.a.createElement(C.a,{style:d?te.actionFullWidth:[te.actionHalfWidth,te.actionMarginRight]},t.a.createElement(ae,{isGroup:e.isGroup,onBlockClick:i,onReportClick:r,requestorScreenName:Object(j.m)(e.conversation,n).screenName})),t.a.createElement(Y.a,{onPress:c,size:"medium",style:d?[te.actionFullWidth,te.actionMarginTop]:[te.actionHalfWidth,te.actionMarginLeft],type:"destructiveOutlined"},e.declineButtonText),!a&&t.a.createElement(Y.a,{onPress:s,size:"medium",style:[te.actionFullWidth,te.actionMarginTop],type:"primaryOutlined"},e.acceptButtonText))}))},te=o.a.create((e=>({actionsContainer:{display:"flex",flexWrap:"wrap",flexDirection:"row"},actionFullWidth:{width:"100%"},actionHalfWidth:{width:`calc(50% - ${e.spaces.space4})`},actionMarginRight:{marginRight:e.spaces.space4},actionMarginLeft:{marginLeft:e.spaces.space4},actionMarginTop:{marginTop:e.spaces.space12},actionMarginBottom:{marginBottom:e.spaces.space12}}))),se=D.a.da878dc0,ie=D.a.d96cf7ce,re=(D.a.gde6b425,D.a.e308019b,D.a.gf5e9ea6,D.a.hc52446c),oe=D.a.f7e1ad65,ce={headline:D.a.gdf4b790,text:D.a.bbf83d84,confirmButtonLabel:D.a.bb1d57b6},de=o.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,borderColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:"1px",paddingVertical:e.spaces.space20,paddingHorizontal:e.componentDimensions.gutterHorizontal},copy:{paddingBottom:e.spaces.space20}})));var ue=Q((e=>{const{analytics:l,conversation:a}=e,n=t.a.useContext(k.a),s=Object(w.f)(),i=Object(w.g)(),[r,o]=t.a.useState(!1),[c,d]=t.a.useState(!1),u=t.a.useCallback((()=>({items:[{conversation_type:a.type===L.CONVERSATION_TYPE.GROUP?N.l.GROUP:N.l.ONE_TO_ONE}]})),[a.type]),m=t.a.useCallback(((e,a)=>{l.scribe({action:e,data:a||u()})}),[l,u]);t.a.useEffect((()=>{m("impression")}),[m]);const p=()=>{o(!0),d(!1)},y=()=>{o(!1)},_=()=>{d(!1)},h=()=>{var l;const{conversationId:n,inboxType:t,leaveConversation:s}=e,r=a.type===L.CONVERSATION_TYPE.GROUP?"leave_group":"delete_thread",c=(null==a?void 0:a.participants.length)||0,d=(null==i||null==(l=i.state)?void 0:l.position)||0,u={conversation_type:(null==a?void 0:a.type)===L.CONVERSATION_TYPE.GROUP?N.l.GROUP:N.l.ONE_TO_ONE,conversation_id:n,conversation_participant_count:c,position:d,inbox_type:Object(j.l)(t),entry_point:N.c.REQUEST_ACTION_SHEET};o(!1),s({conversationId:n}),m(r,u),v()},v=()=>{const{inboxType:l}=e;s.push(Object(j.g)(l))},b=()=>{(()=>{var l;const{acceptConversation:n,analytics:t,conversationId:s,inboxType:r}=e,o=(null==a?void 0:a.participants.length)||0,c=(null==i||null==(l=i.state)?void 0:l.position)||0;s&&(n(s),t.scribe({action:"accept",data:{conversation_id:s,conversation_type:a.type===L.CONVERSATION_TYPE.GROUP?N.l.GROUP:N.l.ONE_TO_ONE,conversation_participant_count:o,entry_point:N.c.REQUEST_ACTION_SHEET,inbox_type:Object(j.l)(r),position:c}}))})()},F=l=>()=>{const{addToast:a,block:n,createLocalApiErrorHandler:t}=e;d(!1),n(l).then((()=>{a({action:{label:P.c,onAction:f(l)},text:P.a})}),t(H.a)),m("block")},f=l=>()=>{const{createLocalApiErrorHandler:a,unblock:n}=e;n(l).catch(a(q.a)),m("unblock")},T=(a&&a.type)===L.CONVERSATION_TYPE.GROUP;return t.a.createElement(t.a.Fragment,null,t.a.createElement(C.a,{style:de.root},(e=>{const{loggedInUserId:l}=n;return t.a.createElement(M.b,{style:de.copy},e?re:oe({senderName:Object(j.m)(a,l).name}))})(T),t.a.createElement(ne,{acceptButtonText:se,conversation:a,declineButtonText:ie,isGroup:T,onAccept:b,onBlock:()=>{o(!1),d(!0)},onLeave:p,onReport:()=>{const{analytics:l,conversationId:a,inboxType:n}=e;a&&(m("report"),s.push(Object(j.j)(a,window.location.pathname,l.contextualScribeNamespace,n)))}})),g.b.isKaiOS()?t.a.createElement(O.a,{leftText:ie,onLeftClick:p,onRightClick:b,rightText:se}):null,r?t.a.createElement(x.a,{confirmButtonLabel:ce.confirmButtonLabel,confirmButtonType:"destructiveFilled",headline:ce.headline,onCancel:y,onConfirm:h,text:ce.text}):null,c?(()=>{const{loggedInUserId:e}=n,{idStr:l,screenName:t}=Object(j.m)(a,e);return Object(U.j)({confirmation:Object(U.f)(t),onClose:_,handleConfirm:F(l)})})():null)})),me=a("htvZ");var ge=a("uB9N"),pe=a("hqKg"),ye=a("AQOc"),_e=a("CDB5"),he=a("pNZL"),ke=a("RqPI"),ve=a("P1r1"),be=a("UhuB");const Fe=(e,l)=>l.conversationId,fe=(e,l)=>L.selectConversation(e,Fe(0,l)),Te=Object(pe.createSelector)(L.selectFetchStatus,((e,l)=>L.selectConversationFetchStatus(e,Fe(0,l))),((e,l)=>e===I.a.LOADED?l:e)),Ke=Object(pe.createSelector)(((e,l)=>L.selectEntriesForConversation(e,Fe(0,l))),ke.s,((e,l)=>l?Object(j.e)(e,l):void 0)),Se=(e,l)=>_e.j(e,Fe(0,l)),Ee=(e,l)=>_e.i(e,Fe(0,l)),Le=(e,l)=>_e.k(e,Fe(0,l)),Ie=(e,l)=>_e.h(e,Fe(0,l)),Re=(e,l)=>_e.l(e,Fe(0,l)),Ce=(e,l)=>_e.g(e,Fe(0,l)),we=(e,l)=>{const a=Fe(0,l);return L.selectInboxTypeByConversation(e,a)},Me=e=>(l,a)=>_e.a(e,l,a);var xe=Object(B.a)().propsFromState((()=>({cardUrl:Ce,conversation:fe,dataSaverMode:ve.j,draftText:Re,dtabBarInfo:ve.m,entries:L.selectEntries,fetchStatus:Te,gifMetadata:Ie,inboxType:we,isDmReceiptSettingEnabled:be.n,isNewGroupConversation:j.q,isUploading:Se,media:Ee,mediaUploadProgress:Le,newConversationParticipants:j.r,perspective:ke.s,quickReplyOptions:Ke,tweetAttachment:j.s,users:z.e.selectAll}))).adjustStateProps((({cardUrl:e,conversation:l,dataSaverMode:a,draftText:n,dtabBarInfo:t,entries:s,fetchStatus:i,gifMetadata:r,inboxType:o,isDmReceiptSettingEnabled:c,isNewGroupConversation:d,isUploading:u,media:m,mediaUploadProgress:g,newConversationParticipants:p,perspective:y,quickReplyOptions:_,tweetAttachment:h,users:k})=>{const v=null==l?void 0:l.data;return{conversation:v&&Object(ye.a)(v,s,k)||void 0,dataSaverMode:a,draftText:n,dtabBarInfo:t,entries:s,fetchStatus:i,gifMetadata:r,inboxType:o,isDmReceiptSettingEnabled:c,cardUrl:e,isNewGroupConversation:d,isUploading:u,media:m,mediaUploadProgress:g,newConversationParticipants:p,perspective:y,quickReplyOptions:_,tweetAttachment:h}})).propsFromActions((({conversationId:e})=>({acceptConversation:L.acceptConversation,addMedia:Me(e),saveText:_e.f,addToast:V.b,addWelcomeMessageToConversation:L.addWelcomeMessageToConversation,cancelUpload:Object(j.a)(e),createLocalApiErrorHandler:Object(W.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_CONVERSATION"),fetchConversationFuture:L.fetchConversationFuture,fetchConversationHistoricalSnapshot:L.fetchConversationHistoricalSnapshot,fetchConversationHistory:L.fetchConversationHistory,fetchConversationIfNeeded:L.fetchConversationIfNeeded,fetchInboxIfNeeded:L.fetchInboxIfNeeded,fetchUpdatesIfNeeded:L.fetchUpdatesIfNeeded,leaveConversation:L.leaveConversation,removeMedia:Object(j.b)(e),removeText:_e.d,sendMessage:_e.m,updateConversationReadState:L.updateConversationReadState,updateTweetDetailNav:he.b,updateTyping:L.updateTyping,removeConversation:L.removeConversation,popOutConversation:L.popOutConversation}))).withAnalytics(),Ae=a("sl05");const De=D.a.d6b11d9c,Oe=(e,l,a)=>{let n;return a?n={tweet:a}:l?l.mediaFile?n={media:l}:l.externalMediaDetails&&e&&(n={media:l,provider:e.provider,gifUrl:e.url}):n=null,n},Pe=(e,l,a,n,t)=>{var s;if(e)return"gif";if(l)return"card";if(n)return"tweet";const i=null==t||null==(s=t.media)?void 0:s.mediaFile,r=null!=i&&i.isVideo?"video":null!=i&&i.isGif?"gif":"photo";return i?r:a?"text":"unknown"},Ue=(e,l)=>!(null!=e&&e.trusted||l),He=e=>e&&(e.tweet||e.media);class qe extends t.a.PureComponent{constructor(e,l){super(e,l),this._composer=t.a.createRef(),this._justSentAttachment=null,this._handleLivePipelineUpdate=()=>{this._fetchUpdatesIfNeeded(),this._updatePolling&&this._updatePolling.restart()},this._fetchUpdatesIfNeeded=()=>{const{conversationId:e,createLocalApiErrorHandler:l,fetchUpdatesIfNeeded:a,isDmReceiptSettingEnabled:n}=this.props;a(n?{active_conversation_id:e,dm_users:!0}:{}).catch(l())},this._initialFetch=()=>{const{conversationId:e,createLocalApiErrorHandler:l,fetchInboxIfNeeded:a,fetchUpdatesIfNeeded:n}=this.props;return a().then((()=>{if(e)return this._fetchConversation(e).then((()=>this._requestWelcomeMessage(e)))})).then((()=>n())).catch(l()).finally((()=>{this._updatePolling&&this._updatePolling.start()}))},this._acceptConversation=e=>{const{acceptConversation:l,createLocalApiErrorHandler:a}=this.props;l(e).then((()=>{g.b.isMobileOS()&&this._fetchConversation(e)})).catch(a({showToast:!0}))},this._renderActions=()=>{const{conversation:e,conversationId:l,createLocalApiErrorHandler:a,inboxType:n,leaveConversation:s}=this.props;return e&&Ue(e,this._isNewGroupConversation)?e.read_only?null:l&&t.a.createElement(ue,{acceptConversation:this._acceptConversation,conversation:e,conversationId:l,inboxType:n,leaveConversation:()=>{s({conversationId:l}).catch(a({showToast:!0}))}}):this._renderComposerBar()},this._handleTyping=()=>{this._throttleSaveDraftText(),this._throttleUpdateTyping()},this._throttleUpdateTyping=Object(d.a)((()=>{const{conversationId:e,createLocalApiErrorHandler:l,updateTyping:a}=this.props;e&&a({conversationId:e}).catch(l())}),2e3,{trailing:!1}),this._throttleSaveDraftText=Object(d.a)((()=>{const{conversationId:e}=this.props;e&&this._handleSaveDraftText()}),1e3,{leading:!1}),this._handleForwardRequest=()=>{const{conversation:e,conversationId:l,createLocalApiErrorHandler:a,fetchConversationFuture:n}=this.props;this.setState({shouldScrollToCenter:!1}),null!=e&&e.max_search_entry_id&&n({conversationId:l}).catch(a())},this._handleHistoryRequest=()=>{const{conversationId:e,createLocalApiErrorHandler:l,fetchConversationHistory:a}=this.props;a({conversationId:e}).catch(l())},this._handleRelativeHistoryRequest=()=>{const{conversationId:e,createLocalApiErrorHandler:l,fetchConversationHistory:a}=this.props;this.setState({shouldScrollToCenter:!1}),a({conversationId:e,isSearch:!0}).catch(l())},this._willSendMessage=(e,l)=>{const{cardUrl:a,conversation:n,gifMetadata:t,tweetAttachment:s}=this.props,{attachment:i}=this.state,r=!(!i||!i.media),o=(null==n?void 0:n.type)===L.CONVERSATION_TYPE.GROUP;this._justSentAttachment=i||null,e.quickReply||r||(this._currentComposer&&this._currentComposer.clear(),this._currentComposer&&this._currentComposer.focus());const c=Pe(t,a,l,s,i);n&&((e,l,a,n)=>{e.scribe({...e.contextualScribeNamespace,element:l,action:"send_dm",data:{conversation_id:a.conversation_id,conversation_participant_count:null!=a&&a.participants?a.participants.length:0,conversation_type:n?N.l.GROUP:N.l.ONE_TO_ONE}})})(this.props.analytics,c,n,o),this.setState({isSending:!0})},this._didSendMessage=(e,l,a)=>{if(this._isNewGroupConversation){const{cardUrl:l,gifMetadata:n,history:t,tweetAttachment:s}=this.props,i=Pe(n,l,a,s,this._justSentAttachment);((e,l,a,n)=>{e.scribe({...e.contextualScribeNamespace,element:l,action:"send_dm",data:{conversation_id:a,conversation_participant_count:n?n.length+1:0,conversation_type:N.l.GROUP}})})(this.props.analytics,i,e,this.props.newConversationParticipants),this.setState({attachment:null}),t.replace(`/messages/${e}`)}else{const e=!(!this._justSentAttachment||!this._justSentAttachment.media);!l.quickReply&&e&&(this._currentComposer&&this._currentComposer.clear(),this._currentComposer&&this._currentComposer.focus())}this._reset()},this._failedToSendMessage=e=>{const{createLocalApiErrorHandler:l}=this.props;if(this._isNewGroupConversation){const{addToast:l,createLocalApiErrorHandler:a}=this.props;if(this._reset(),Object(E.d)(e)&&e.code===m.b.CANCELED)return;if(Object(E.d)(e)){const a=Object(E.b)(e,De);a&&l(a)}else a(T.b)(e)}else l(T.b)},this._handleSendMessage=(e,l)=>{var a,n;const{cardUrl:t,conversationId:s,history:i,location:r,newConversationParticipants:o,perspective:c,sendMessage:d,tweetAttachment:u}=this.props;if(this._isNewGroupConversation=!s,!s){return d({senderId:c,recipients:o&&o.map((({data:e})=>e.id_str)),text:l,tweetAttachment:u}).catch(this._failedToSendMessage).then(((e="")=>Promise.resolve({conversationId:e,text:l})))}return!this.state.attachment||null!=(a=this.state.attachment)&&null!=(n=a.media)&&n.uploading||(this.setState({attachment:null}),i.replace(r.pathname)),d({senderId:c,cardUrl:t,conversationId:s,text:l,tweetAttachment:u,...e&&e.quickReply&&{quickReply:e.quickReply}}).catch(this._failedToSendMessage).then(((e="")=>Promise.resolve({conversationId:e,text:l})))},this._handleSaveDraftText=()=>{const{conversationId:e,saveText:l}=this.props;e&&this._currentComposer&&l(e,this._currentComposer.value())},this._reset=()=>{this.setState({isSending:!1}),this._justSentAttachment=null,this._isNewGroupConversation=!1},this._render=()=>{var e,l,a;const{analytics:n,conversation:s,conversationId:i,drawerHeader:o,inboxType:c,isWide:d,location:u,onConversationProfileVisibilityChange:m,perspective:g}=this.props,{attachment:p,composerHeight:y}=this.state;return t.a.createElement(me.b,{key:i},t.a.createElement(r.a,{allowDragDrop:!He(p),onFilesAdded:e=>{this._currentComposer&&this._currentComposer.handleAddMediaFiles(e)},style:Ae.a.dragDrop},t.a.createElement(_.a,{style:[Ae.a.scrollView,!Object(K.a)()&&!Ue(s,this._isNewGroupConversation)&&{paddingBottom:y}]},g&&s&&(null==u||null==(e=u.state)||!e.entryPoint||this.state.hasLoadedSnapshot)?t.a.createElement(R.a,{conversation:s,drawerHeader:o,inboxType:c,isWide:d,messageSearchEntryId:null==u||null==(l=u.state)?void 0:l.entryPoint,onConversationProfileVisibilityChange:m,onForwardRequest:this._handleForwardRequest,onHistoryRequest:null!=u&&null!=(a=u.state)&&a.entryPoint?this._handleRelativeHistoryRequest:this._handleHistoryRequest,perspective:g,scribeNamespace:n.contextualScribeNamespace,shouldScrollToCenter:this.state.shouldScrollToCenter,style:Ae.a.activity}):null),this._renderActions()))},this._isNewGroupConversation=!!e.isNewGroupConversation,this.state={attachment:Oe(e.gifMetadata,e.media,e.tweetAttachment),composerHeight:o.a.theme.componentDimensions.appBarHeight,hasLoadedSnapshot:!1,isSending:!1,shouldScrollToCenter:!1}}componentDidMount(){var e,l;return this._initializePolling({interval:3e3}),this._initializeLivePipeline(),this._focusComposerIfNeeded(),null!=(e=this.props.location)&&null!=(l=e.state)&&l.entryPoint&&this.setState({shouldScrollToCenter:!0}),this._initialFetch()}_focusComposerIfNeeded(){i()((()=>Object(F.a)().then((({KEYBOARD:e,MOUSE:l,detectedType:a})=>{const n=this.props.quickReplyOptions;(a(e)||a(l))&&!n&&this._currentComposer&&this._currentComposer.focus()}))))}_initializeLivePipeline(){const{conversationId:e}=this.props;Object(b.h)().then((({LivePipeline:l})=>{e&&l.isSupportedAndReady(this.context.featureSwitches)&&this.context.featureSwitches.isTrue("livepipeline_dm_features_enabled")&&!this._livePipelineSubscription&&(this._livePipelineSubscription=l.get().subscribeTopic(`/dm_update/${e}`,this._handleLivePipelineUpdate),this._initializePolling({interval:1e4}))}))}_initializePolling({interval:e}){this._updatePolling&&this._updatePolling.stop(),this._updatePolling=new S.a(this._fetchUpdatesIfNeeded,{interval:e})}componentWillUnmount(){const{conversation:e,conversationId:l,removeConversation:a}=this.props,n=(null==e?void 0:e.entries)||[];this._updatePolling&&this._updatePolling.stop(),this._updatePolling=void 0,this._livePipelineSubscription&&this._livePipelineSubscription.teardown(),0===n.length&&a(l),1===n.length&&"welcome_message_create"===n[0].type&&a(l)}componentDidUpdate(e,l){var a,n,t;const{conversation:s,conversationId:i,fetchStatus:r,isUploading:o,location:c,quickReplyOptions:d,updateConversationReadState:u}=this.props;var m;((null==c||null==(a=c.state)?void 0:a.entryPoint)!==(null==(n=e.location)||null==(t=n.state)?void 0:t.entryPoint)&&i&&this._fetchConversation(i),i!==e.conversationId)?(i&&this._fetchConversation(i),this._focusComposerIfNeeded(),this._livePipelineSubscription&&this._livePipelineSubscription.teardown(),this._initializeLivePipeline()):((null==s?void 0:s.sort_event_id)!==(null==(m=e.conversation)?void 0:m.sort_event_id)&&u(i),o||!e.isUploading||d||this._currentComposer&&this._currentComposer.focus(),e.fetchStatus===I.a.LOADED&&r!==I.a.LOADED&&i&&this._fetchConversation(i))}UNSAFE_componentWillReceiveProps(e){const{media:l}=this.props,{media:a}=e;Object(u.a)(l,a)||this.setState({attachment:Oe(e.gifMetadata,e.media,e.tweetAttachment)})}_renderComposerBar(){const{addMedia:e,analytics:l,cardUrl:a,conversation:n,conversationId:s,dataSaverMode:i,draftText:r,dtabBarInfo:o,history:c,isUploading:d,mediaUploadProgress:u,quickReplyOptions:m,removeMedia:g,richTextInputContext:p,typeaheadWrapper:y}=this.props,{attachment:_,isSending:k}=this.state,v=this.props.prefillText||r;return null!=n&&n.read_only?null:t.a.createElement(ge.a,{attachment:_,conversationId:s,disabled:d,dtabBarInfo:o,history:c,isCardPreviewTombstoned:Object(h.a)(a),isSending:k,isUploading:d,key:s,mediaUploadProgress:u,onAddMedia:e,onBlur:this._handleSaveDraftText,onDidPerformPrimaryAction:this._didSendMessage,onHeightChange:e=>{this.setState({composerHeight:`${e}px`})},onPrimaryAction:this._handleSendMessage,onTyping:i?this._throttleSaveDraftText:this._handleTyping,onWillPerformPrimaryAction:this._willSendMessage,prefillText:"string"==typeof v?v:void 0,quickReplyOptions:m,ref:this._composer,removeMedia:g,richTextInputContext:p,scribeNamespace:l.contextualScribeNamespace,showPrimaryActionIconInsteadOfLabel:!0,typeaheadWrapper:y,withEvolution:this.context.featureSwitches.isTrue("dm_evolution_enabled")&&this.context.featureSwitches.isTrue("dm_evolution_message_creation_enabled"),withVideoTrimmer:this.context.featureSwitches.isTrue("responsive_web_video_trimmer_enabled")})}get _currentComposer(){return this._composer.current}_fetchConversation(e){var l;const{createLocalApiErrorHandler:a,fetchConversationHistoricalSnapshot:n,fetchConversationIfNeeded:t,location:s,updateConversationReadState:i}=this.props;var r;return null!=s&&null!=(l=s.state)&&l.entryPoint?(this.setState({hasLoadedSnapshot:!1}),n({conversationId:e,entryId:null==s||null==(r=s.state)?void 0:r.entryPoint}).then((e=>{var l,a;let n=!0;(null==e||null==(l=e.result)||null==(a=l.conversation_timeline)?void 0:a.status)===L.PAGINATION_STATUS.AT_END&&(n=!1),this.setState({hasLoadedSnapshot:!0,shouldScrollToCenter:n})})).catch((e=>(this.setState({hasLoadedSnapshot:!0}),a(e))))):t({conversationId:e}).then((()=>i(e))).catch(a(Object(f.a)(e)))}_requestWelcomeMessage(e){var l;const{addWelcomeMessageToConversation:a,conversation:n,createLocalApiErrorHandler:t,location:s}=this.props,{text:i}=s.query,r=Array.isArray(s.query.welcome_message_id)?s.query.welcome_message_id[0]:s.query.welcome_message_id,o=!!this.state.attachment||!(!i||r),c=!n||!n.type||n.type===L.CONVERSATION_TYPE.GROUP,d=n&&(null==n||null==(l=n.participants)?void 0:l.length)<=1;return o||c||d?Promise.resolve():a(e,r).catch(t({showToast:!1}))}render(){const{fetchStatus:e}=this.props;return t.a.createElement(v.a,null,t.a.createElement(c.a,{style:Ae.a.root},t.a.createElement(p.a,{fetchStatus:e,onRequestRetry:()=>{this._initialFetch()},render:this._render})))}}qe.contextType=k.a,qe.defaultProps={typeaheadWrapper:y.a};l.a=xe(qe)},PnKw:function(e,l,a){"use strict";a.d(l,"a",(function(){return y}));a("kYxP");var n=a("ERkP"),t=a.n(n),s=a("MWbm"),i=a("TIdA"),r=a("t62R"),o=a("A91F"),c=a("/yvb"),d=a("rHpw"),u="inlinePrompt",m="inlinePrompt-primaryAction",g="inlinePrompt-secondaryAction",p="inlinePrompt-centeredImageContainer";class y extends t.a.Component{constructor(...e){super(...e),this._renderImage=(e,l)=>{const a=t.a.createElement(i.a,{accessibilityLabel:"",aspectMode:o.a.exact(e.width/e.height),backgroundColor:e.backgroundColor,customVariants:l,image:e});return e.isCentered?t.a.createElement(s.a,{style:_.centeredImage,testID:p},t.a.createElement(s.a,{style:{width:`${e.width}px`,height:`${e.height}px`}},a)):a},this._renderTitle=()=>{const{headline:e}=this.props;return e?t.a.createElement(r.b,{accessibilityRole:"heading",align:"left",size:"title3",style:_.flexGrow,weight:"heavy",withHashflags:!0},e):null},this._renderBodyText=()=>{const{subtext:e}=this.props;return e?t.a.createElement(r.b,{align:"left",color:"gray700",style:this.styles.body,withHashflags:!0},e):null},this._renderAction=({action:e,buttonSize:l,buttonType:a,style:n,testID:i})=>{const{secondaryAction:r}=this.props,{link:o,onClick:d,text:u}=e;return t.a.createElement(s.a,{style:[this.styles.actionContainer,n,{justifyContent:"flex-start"}],testID:i},t.a.createElement(c.a,{link:o,onPress:d,size:l,style:{width:r?"100%":"auto"},type:a},u))}}render(){const{image:e,imageVariants:l,primaryAction:a,rightControl:n,secondaryAction:i,shouldRenderBorder:r}=this.props;return t.a.createElement(s.a,{style:r?[h.root,h.rootMargin]:_.root},t.a.createElement(t.a.Fragment,null,e?this._renderImage(e,l):null,t.a.createElement(s.a,{style:this.styles.rootPadding,testID:u},this._renderTitle(),this._renderBodyText(),a?this._renderAction({action:a,buttonType:"primaryFilled",style:this.styles.primaryAction,buttonSize:"large",testID:m}):null,i?this._renderAction({action:i,buttonType:"primaryOutlined",style:this.styles.secondaryAction,buttonSize:"large",testID:g}):null)),n?t.a.createElement(s.a,{style:_.rightControl},n):null)}get styles(){return this.props.isCompact?v:k}}y.defaultProps={shouldRenderBorder:!1};const _=d.a.create((e=>({root:{backgroundColor:e.colors.cellBackground},flexGrow:{flexGrow:1},centeredImage:{display:"flex",flexDirection:"row",justifyContent:"center"},rightControl:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,position:"absolute",right:0,top:0}}))),h=d.a.create((e=>({root:{borderColor:e.colors.nestedBorderColor,borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.xLarge,overflow:"hidden"},rootMargin:{marginLeft:e.spaces.space16,marginRight:e.spaces.space16}}))),k=d.a.create((e=>({rootPadding:{padding:e.spaces.space32},body:{marginTop:e.spaces.space8},actionContainer:{flexDirection:"row"},primaryAction:{marginTop:e.spaces.space28},secondaryAction:{marginTop:e.spaces.space16}}))),v=d.a.create((e=>({rootPadding:{padding:e.spaces.space16},body:{marginTop:e.spaces.space2},actionContainer:{flexDirection:"row"},primaryAction:{marginTop:e.spaces.space4},secondaryAction:{marginTop:e.spaces.space2}})))},QJXU:function(e,l,a){"use strict";var n,t,s={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"messageId"}],kind:"Fragment",metadata:null,name:"DMMessageDeleteMutation",selections:t=[{alias:null,args:[{kind:"Variable",name:"message_id",variableName:"messageId"}],kind:"ScalarField",name:"dm_message_hide_delete",storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"DMMessageDeleteMutation",selections:t},params:{id:"TvHfayPYK0d8vckJ5bZNGQ",metadata:{},name:"DMMessageDeleteMutation",operationKind:"mutation",text:null}};s.hash="280a41db4b8f251676efb85d72f12834",e.exports=s},QgXh:function(e,l,a){"use strict";l.a={conversation:"conversation"}},QvgI:function(e,l,a){"use strict";a("kYxP"),a("Qavd");var n=a("ERkP"),t=a.n(n),s=a("tI3i"),i=a.n(s),r=a("MWbm"),o=a("FIs5"),c=a("t62R"),d=a("cm6r"),u=a("/yvb"),m=a("6OUF"),g=a("k/OQ"),p=a("rHpw"),y=a("qqsb"),_=a.n(y),h=a("95Se"),k=a("VwDm"),v=a("BcsE"),b=a("VY6S"),F=a("BUB3"),f=a("s14A"),T=a("v//M"),K=a("sNn6"),S=a("TEoO"),E=a("v6aA"),L=a("IG4P"),I=a("TnY3"),R=a("MMRb"),C=a("AQ79"),w=a("RJrc"),M=a("d9IC"),x=a("j7Bv"),A=a("htQn"),D=a("5mJL"),O=a("hOZg");const P=_.a.dbd5d400;class U extends t.a.PureComponent{render(){const{clearRecentSearch:e,handleRecentSearchClick:l,recentSearch:a}=this.props,n=t.a.createElement(x.a,{Icon:k.a,color:"neutral",size:"xLarge",style:H.searchIcon}),s=[H.listItemView,H.bottomBorder];return t.a.createElement(A.a,{onPress:l,style:s},t.a.createElement(r.a,null,t.a.createElement(D.a,{avatarCell:n,avatarSize:"xLarge",cellStyle:H.avatarColumn},t.a.createElement(r.a,{style:H.container},t.a.createElement(c.b,{numberOfLines:1},a),t.a.createElement(u.a,{accessibilityLabel:P,borderColor:"transparent",icon:t.a.createElement(O.a,null),onPress:e,type:"brandText"})))))}}const H=p.a.create((e=>({container:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},searchIcon:{marginRight:e.spaces.space12,padding:e.spaces.space4},avatarColumn:{flexGrow:1,minWidth:"32px"},bottomBorder:{borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor},listItemView:{backgroundColor:e.colors.cellBackground,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space12,width:"100%"}})));var q=U,N=a("pHkl"),j=a("DbJc"),W=a("ZYFu"),B=a("0yYu"),V=a("lBmi"),z=a("91AQ"),Q=a("6ZHn"),G=a("MDbM"),Y=a("0KEI"),$=a("rxPX");const X=(e,{module:l})=>l.selectItems(e),J=(e,{module:l})=>l.selectFetchStatus(e);var Z=Object($.a)().propsFromState((()=>({fetchStatus:J,sliceItems:X}))).adjustStateProps((({fetchStatus:e,sliceItems:l})=>{const a=(e=>{var l,a;return(null==(l=e.find((e=>e.groupData)))||null==(a=l.groupData)?void 0:a.result)||[]})(l),n=(e=>{var l,a;return(null==(l=e.find((e=>e.peopleData)))||null==(a=l.peopleData)?void 0:a.result)||[]})(l),t=(e=>{var l,a;return(null==(l=e.find((e=>e.messageData)))||null==(a=l.messageData)?void 0:a.conversationIds)||[]})(l);return{entryIds:(e=>{var l,a;return(null==(l=e.find((e=>e.messageData)))||null==(a=l.messageData)?void 0:a.entryIds)||[]})(l),fetchStatus:e,groupConversationIds:a,groupHighlightingTokens:(e=>{var l,a;return null==(l=e.find((e=>e.groupData)))||null==(a=l.groupData)?void 0:a.highlightingTokens})(l),messageConversationIds:t,messageHighlightingTokens:(e=>{var l,a;return null==(l=e.find((e=>e.messageData)))||null==(a=l.messageData)?void 0:a.highlightingTokens})(l),peopleHighlightingTokens:(e=>{var l,a;return null==(l=e.find((e=>e.peopleData)))||null==(a=l.peopleData)?void 0:a.highlightingTokens})(l),peopleSearchConversationIds:n,sliceItems:l}})).propsFromActions((({module:e})=>({createLocalApiErrorHandler:Object(Y.createLocalApiErrorHandlerWithContextFactory)("DM_SEARCH_ALL_CONTEXT"),fetchSearchIfNeeded:e.fetchIfNeeded})));const ee=_.a.ffd9cfe6;function le(e){const{location:l,tabLabel:a}=e;return t.a.createElement(r.a,{style:ae.footer},t.a.createElement(c.b,{link:{pathname:l.pathname,state:{tab:a}}},ee))}const ae=p.a.create((e=>({footer:{backgroundColor:e.colors.cellBackground,paddingLeft:e.spaces.space16,paddingVertical:e.spaces.space12,alignItems:"center",flexDirection:"row",justifyContent:"space-between",borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small,borderTopColor:e.colors.borderColor}}))),ne=_.a.c94ac69e,te=_.a.a2f81050,se=_.a.g2fd3206;class ie extends t.a.Component{constructor(...e){super(...e),this._groupBucketSize=this.context.featureSwitches.getNumberValue("dm_inbox_search_groups_bucket_size"),this._messagesBucketSize=this.context.featureSwitches.getNumberValue("dm_inbox_search_messages_bucket_size"),this._peopleBucketSize=this.context.featureSwitches.getNumberValue("dm_inbox_search_people_bucket_size"),this._renderSearchResults=()=>{const{groupConversationIds:e,location:l,messageConversationIds:a,peopleSearchConversationIds:n,renderEmptyState:s}=this.props,i=n.length&&e.length,r=this._groupBucketSize<e.length,o=this._messagesBucketSize<a.length,c=this._peopleBucketSize<n.length;return(null==e?void 0:e.length)||n.length||a.length?t.a.createElement(t.a.Fragment,null,n.length?this._renderPeopleSection():null,i&&!c?t.a.createElement(B.a,null):null,c?t.a.createElement(le,{location:l,tabLabel:se}):null,e.length?this._renderGroupsSection():null,r?t.a.createElement(le,{location:l,tabLabel:ne}):null,a.length?this._renderMessagesSection():null,o?t.a.createElement(le,{location:l,tabLabel:te}):null):s()},this._handleFetch=()=>{const{createLocalApiErrorHandler:e,fetchSearchIfNeeded:l}=this.props;l().catch(e())},this._renderDMHeader=({headerText:e,icon:l})=>t.a.createElement(M.a,{headerText:e,icon:l}),this._renderGroupsSection=()=>{const{groupConversationIds:e,groupHighlightingTokens:l,pinConversation:a,renderInboxItem:n,unpinConversation:s}=this.props;return t.a.createElement(t.a.Fragment,null,this._renderDMHeader({icon:V.a,headerText:ne}),e.map(((t,i)=>t?n({conversationIds:e,pinConversation:a,unpinConversation:s,highlightingTokens:l})(t):null)).slice(0,this._groupBucketSize))},this._renderMessagesSection=()=>{const{entryIds:e,messageConversationIds:l,messageHighlightingTokens:a,pinConversation:n,renderInboxItem:s,unpinConversation:i}=this.props;return t.a.createElement(t.a.Fragment,null,this._renderDMHeader({icon:z.a,headerText:te}),e.map(((t,r)=>t?((t,r)=>s({conversationIds:l,isMessageItem:!0,messageIds:e,pinConversation:n,unpinConversation:i,highlightingTokens:a})(t))(t):null)).slice(0,this._messagesBucketSize))},this._renderPeopleSection=()=>{const{peopleHighlightingTokens:e,peopleSearchConversationIds:l,pinConversation:a,renderInboxItem:n,unpinConversation:s}=this.props;return t.a.createElement(t.a.Fragment,null,this._renderDMHeader({icon:Q.a,headerText:se}),l.map(((t,i)=>t?n({conversationIds:l,pinConversation:a,unpinConversation:s,highlightingTokens:e})(t):null)).slice(0,this._peopleBucketSize))}}componentDidUpdate(e){const{fetchStatus:l,module:a}=this.props;e.module!==a&&l!==G.a.FAILED&&this._handleFetch()}componentDidMount(){this._handleFetch()}render(){const{fetchStatus:e,loadingLabel:l}=this.props;return t.a.createElement(T.a,{accessibilityLabel:l,fetchStatus:e,onRequestRetry:this._handleFetch,render:this._renderSearchResults})}}ie.contextType=E.a;var re=Z(ie),oe=a("hqKg"),ce=a("wAC9"),de=a("q+MS");var ue=e=>Object(ce.a)({contextSuffix:"DM_SEARCH_SLICE",getFetchApiEndpoint:e=>e.DirectMessagesGraphQL.fetchDMAllSearch,sliceKey:`${N.j}-${e}`,getEndpointParams:l=>({...l,query:e}),mapEntitiesToActions:de.a});const me=(e,l)=>l.query;var ge,pe=Object($.a)().propsFromState((()=>({sliceModule:Object(oe.createSelector)(me,(e=>e?ue(e):void 0))})))((e=>{const{loadingLabel:l,location:a,pinConversation:n,query:s,renderEmptyState:i,renderInboxItem:r,sliceModule:o,unpinConversation:c}=e;return o?t.a.createElement(re,{loadingLabel:l,location:a,module:o,pinConversation:n,query:s,renderEmptyState:i,renderInboxItem:r,unpinConversation:c}):i()})),ye=a("NjAB"),_e=a("uDfI"),he=(a("enFi"),a("lnti")),ke=a("mN6z"),ve=a("h3MB"),be=a("Fr3L"),Fe=a("GPmX"),fe=a("DQzJ"),Te=a("Ka95"),Ke=a("a9QA");const Se=void 0!==ge?ge:ge=a("/5HX"),Ee={context:"DM_ALL_SEARCH"},Le=e=>{var l,a,n;const{location:s,pinnedSliceId:i,renderEmptyState:r,searchTerm:o}=e,c=Object(_e.c)(),{featureSwitches:d}=t.a.useContext(E.a),u=d.isTrue("dm_inbox_search_message_results_enabled"),m=u&&d.isTrue("dm_inbox_search_message_attachment_previews_enabled"),g=d.isTrue("dm_inbox_search_query_highlighting_conversation_results_enabled"),p=u&&d.isTrue("dm_inbox_search_query_highlighting_message_results_enabled"),y=d.isTrue("rito_safety_mode_blocked_profile_enabled"),_=d.isTrue("super_follow_user_api_enabled"),{data:h}=Object(fe.a)(Se,{query:o,withAttachments:m,withConversationQueryHighlights:g,withMessages:u,withMessageQueryHighlights:p,withSafetyModeUserFields:y,withSuperFollowsUserFields:_}),k=null==h||null==(l=h.dm_group_convo_slice_result)?void 0:l.items,v=null==h||null==(a=h.dm_message_slice_result)?void 0:a.items,b=null==h||null==(n=h.dm_people_convo_slice_result)?void 0:n.items,F=d.getNumberValue("dm_inbox_search_groups_bucket_size"),f=d.getNumberValue("dm_inbox_search_messages_bucket_size"),T=d.getNumberValue("dm_inbox_search_people_bucket_size"),K=t.a.useMemo((()=>{var e;const l=Object(he.a)(null==(e=v||[])?void 0:e.map((e=>{var l,a;return null==e||null==(l=e.dm_event)||null==(a=l.legacy)?void 0:a.conversation}))),a=l.map((e=>(null==e?void 0:e.__id)||"")),n=p?Re(v):void 0,t=Object(ye.b)(v,[ve.c]),s={...null==t?void 0:t.entities},i=t.entities.entries,r=[];for(const e in i)r.push(i[e]);return{messageConversations:l,messageConversationIds:a,messageHighlightingTokens:n,normalizedMessages:t,entities:s,entries:r}}),[v,p]),{entities:S,entries:L,messageConversationIds:I,messageConversations:R,messageHighlightingTokens:C,normalizedMessages:w}=K,x=Object(he.a)((k||[]).map((e=>null==e?void 0:e.dm_convo_search))),A=x.map((e=>e.__id)),D=g?Re(k):void 0,O=Object(he.a)((b||[]).map((e=>null==e?void 0:e.dm_convo_search))),P=O.map((e=>e.__id)),U=g?Re(b):void 0,H=(null==A?void 0:A.length)||P.length||I.length,q=Object(Fe.a)(h);t.a.useEffect((()=>{Object(ke.a)(h,q)||c(Object(de.a)(S,!0))}),[S,h,q,c]);const N=({conversationIds:e,dm_conversation:l,highlightingTokens:a,index:n,isMessageItem:s,messageId:r})=>{let c,d=l;if(s){var u;c=null==w?void 0:w.result;const e=null==(u=c)?void 0:u.indexOf(r);d=R&&R[e]}return d?t.a.createElement(Te.a,{conversationIds:e,dm_conversation:d,highlightingTokens:a||[],inboxType:"primary",isMessageItem:s,isPinned:Object(Ke.c)(d),key:n,messageId:r,messageSearchEntries:L,pinnedSliceId:i,searchQuery:o}):null},j=P.length&&A.length,W=F<A.length,G=f<I.length,Y=T<P.length;return H?t.a.createElement(t.a.Fragment,null,P.length?t.a.createElement(t.a.Fragment,null,t.a.createElement(M.a,{headerText:se,icon:Q.a}),O.map(((e,l)=>e?N({conversationIds:P,highlightingTokens:U,dm_conversation:e,index:l}):null)).slice(0,T)):null,j&&!Y?t.a.createElement(B.a,null):null,Y?t.a.createElement(le,{location:s,tabLabel:se}):null,A.length?t.a.createElement(t.a.Fragment,null,t.a.createElement(M.a,{headerText:ne,icon:V.a}),x.map(((e,l)=>e?N({conversationIds:A,highlightingTokens:D,dm_conversation:e,index:l}):null)).slice(0,F)):null,W?t.a.createElement(le,{location:s,tabLabel:ne}):null,I.length?t.a.createElement(t.a.Fragment,null,t.a.createElement(M.a,{headerText:te,icon:z.a}),((null==w?void 0:w.result)||[]).map(((e,l)=>e?N({conversationIds:I,highlightingTokens:C,messageId:e,index:l,isMessageItem:!0}):null)).slice(0,f)):null,G?t.a.createElement(le,{location:s,tabLabel:te}):null):r()};function Ie(e){return t.a.createElement(be.a,{errorConfig:Ee},t.a.createElement(Le,e))}const Re=e=>null==e?void 0:e.map((e=>{var l;return null==e||null==(l=e.highlighting)?void 0:l.query_tokens}));var Ce=a("kGix");const we=R.selectRecentSearches,Me=(e,l)=>l.query?R.selectSearchConversations(e,l.query):[],xe=(e,l)=>l.query?R.selectSearchFetchStatus(e,l.query):Ce.a.LOADED,Ae=(e,l)=>l.conversationIds||[],De=(e,l)=>null!=e&&e.length?l.filter((l=>e.indexOf(l)>-1)):e;var Oe,Pe,Ue=Object($.a)().propsFromState((()=>({conversationIds:Ae,recentSearches:we,searchFetchStatus:xe,searchConversationIds:Me}))).adjustStateProps((({conversationIds:e,recentSearches:l,searchConversationIds:a,searchFetchStatus:n})=>({conversationIds:e,recentSearches:l,searchFetchStatus:n,searchConversationIds:De(a,e)}))).propsFromActions((()=>({addRecentSearch:R.addRecentSearches,createLocalApiErrorHandler:Object(Y.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_SEARCH"),search:R.searchConversations,clearRecentSearch:R.clearRecentSearch,clearRecentSearches:R.clearRecentSearches}))),He=a("s8G+");const qe=void 0!==Oe?Oe:Oe=a("K8Kw"),Ne=void 0!==Pe?Pe:Pe=a("uMiA"),je="DM_CONVERSATION_SEARCH",We={context:je},Be=e=>e,Ve=e=>{const{footer:l,noItemsRenderer:a,onScrollEnd:n,pinConversation:s,renderInboxItem:i,searchTerm:r,tabType:o,unpinConversation:c}=e,d=Object(_e.c)(),u=Object(He.a)("dm_inbox_search_query_highlighting_conversation_results_enabled"),m=o===N.k.GROUPS?qe:Ne,{data:g,fetchNext:p,hasNext:y}=Object(fe.a)(m,{query:r,withConversationQueryHighlights:u});let _;var h;if(null!=g&&g.dm_group_convo_slice_result)_=null==g||null==(h=g.dm_group_convo_slice_result)?void 0:h.items;else if(null!=g&&g.dm_people_convo_slice_result){var k;_=null==g||null==(k=g.dm_people_convo_slice_result)?void 0:k.items}const{entities:v,highlightingTokens:b,normalizedConversations:F}=t.a.useMemo((()=>{var e,l;const a=(null==(e=_)?void 0:e.map((e=>null==e?void 0:e.dm_convo_search)))||{},n=u?null==(l=_)?void 0:l.map((e=>{var l;return null==e||null==(l=e.highlighting)?void 0:l.query_tokens})):void 0,t=Object(ye.b)(a,[ve.b]);return{normalizedConversations:t,entities:{...null==t?void 0:t.entities},highlightingTokens:n}}),[_,u]),f=Object(Fe.a)(g);return t.a.useEffect((()=>{Object(ke.a)(g,f)||d(Object(de.a)(v,!0))}),[v,g,f,d]),t.a.createElement(S.a,{cacheKey:je,footer:y?null:l,identityFunction:Be,items:null==F?void 0:F.result,noItemsRenderer:a,onNearEnd:p,onScrollEnd:n,renderer:i({conversationIds:null==F?void 0:F.result,isMessageItem:!1,pinConversation:s,unpinConversation:c,highlightingTokens:b}),withoutHeadroom:!0})};function ze(e){return t.a.createElement(be.a,{errorConfig:We},t.a.createElement(Ve,e))}var Qe,Ge;const Ye=void 0!==Qe?Qe:Qe=a("8XEJ"),$e=void 0!==Ge?Ge:Ge=a("YePD"),Xe="DM_CONVERSATION_SEARCH",Je={context:Xe},Ze=e=>e.__id,el=e=>{var l;const{accessibilityTitle:a,footer:n,noItemsRenderer:s,onScrollEnd:i,pinnedSliceId:r,searchTerm:o,tabType:c}=e,d=Object(He.a)("dm_inbox_search_query_highlighting_conversation_results_enabled"),u=c===N.k.GROUPS?Ye:$e,{data:m,fetchNext:g,hasNext:p}=Object(fe.a)(u,{query:o,withConversationQueryHighlights:d});let y;var _;if(null!=m&&m.dm_group_convo_slice_result)y=null==m||null==(_=m.dm_group_convo_slice_result)?void 0:_.items;else if(null!=m&&m.dm_people_convo_slice_result){var h;y=null==m||null==(h=m.dm_people_convo_slice_result)?void 0:h.items}const k=Object(he.a)((y||[]).map((e=>null==e?void 0:e.dm_convo_search))),v=k.map((e=>e.__id)),b=d?null==(l=y)?void 0:l.map((e=>{var l;return null==e||null==(l=e.highlighting)?void 0:l.query_tokens})):void 0;return t.a.createElement(S.a,{accessibilityTitle:a,cacheKey:Xe,footer:p?null:n,identityFunction:Ze,items:k,noItemsRenderer:s,onNearEnd:g,onScrollEnd:i,renderer:(e,l)=>(l&&l(!0),t.a.createElement(Te.a,{conversationIds:v,dm_conversation:e,highlightingTokens:b,inboxType:"primary",isMessageItem:!1,isPinned:Object(Ke.c)(e),pinnedSliceId:r,searchQuery:o})),withoutHeadroom:!0})};function ll(e){return t.a.createElement(be.a,{errorConfig:Je},t.a.createElement(el,e))}var al;const nl=void 0!==al?al:al=a("y59G"),tl="DM_MESSAGE_SEARCH",sl={context:tl},il=e=>e,rl=e=>{var l;const{footer:a,noItemsRenderer:n,onScrollEnd:s,pinConversation:i,renderInboxItem:r,searchTerm:o,unpinConversation:c}=e,d=Object(_e.c)(),u=Object(He.a)("dm_inbox_search_message_attachment_previews_enabled"),m=Object(He.a)("dm_inbox_search_query_highlighting_message_results_enabled"),g=Object(He.a)("rito_safety_mode_blocked_profile_enabled"),p=Object(He.a)("super_follow_user_api_enabled"),{data:y,fetchNext:_,hasNext:h}=Object(fe.a)(nl,{query:o,withAttachments:u,withMessageQueryHighlights:m,withSafetyModeUserFields:g,withSuperFollowsUserFields:p}),{entities:k,highlightingTokens:v,normalizedConversations:b,normalizedMessages:F}=t.a.useMemo((()=>{var e,l,a;const n=null==y||null==(e=y.dm_message_slice_result)||null==(l=e.items)?void 0:l.map((e=>{var l,a;return null==e||null==(l=e.dm_event)||null==(a=l.legacy)?void 0:a.conversation})),t=null==y||null==(a=y.dm_message_slice_result)?void 0:a.items,s=m?null==t?void 0:t.map((e=>{var l;return null==e||null==(l=e.highlighting)?void 0:l.query_tokens})):void 0,i=Object(ye.b)(n,[ve.b]),r=Object(ye.b)(t,[ve.c]);return{normalizedConversations:i,normalizedMessages:r,entities:{...null==i?void 0:i.entities,...null==r?void 0:r.entities},highlightingTokens:s}}),[null==y||null==(l=y.dm_message_slice_result)?void 0:l.items,m]),f=Object(Fe.a)(y);return t.a.useEffect((()=>{Object(ke.a)(y,f)||d(Object(de.a)(k,!0))}),[k,y,f,d]),t.a.createElement(S.a,{cacheKey:tl,footer:h?null:a,identityFunction:il,items:null==F?void 0:F.result,noItemsRenderer:n,onNearEnd:_,onScrollEnd:s,renderer:r({conversationIds:null==b?void 0:b.result,isMessageItem:!0,messageIds:null==F?void 0:F.result,pinConversation:i,unpinConversation:c,highlightingTokens:v}),withoutHeadroom:!0})};function ol(e){return t.a.createElement(be.a,{errorConfig:sl},t.a.createElement(rl,e))}var cl;const dl=e=>e,ul=void 0!==cl?cl:cl=a("Y12X"),ml="DM_MESSAGE_SEARCH",gl={context:ml},pl=e=>{var l;const{accessibilityTitle:a,footer:n,noItemsRenderer:s,onScrollEnd:i,pinnedSliceId:r,searchTerm:o}=e,c=Object(_e.c)(),d=Object(He.a)("dm_inbox_search_message_attachment_previews_enabled"),u=Object(He.a)("dm_inbox_search_query_highlighting_message_results_enabled"),m=Object(He.a)("rito_safety_mode_blocked_profile_enabled"),g=Object(He.a)("super_follow_user_api_enabled"),{data:p,fetchNext:y,hasNext:_}=Object(fe.a)(ul,{query:o,withAttachments:d,withMessageQueryHighlights:u,withSafetyModeUserFields:m,withSuperFollowsUserFields:g}),h=t.a.useMemo((()=>{var e,l;const a=null==p||null==(e=p.dm_message_slice_result)?void 0:e.items,n=Object(he.a)(null==(l=a||[])?void 0:l.map((e=>{var l,a;return null==e||null==(l=e.dm_event)||null==(a=l.legacy)?void 0:a.conversation}))),t=n.map((e=>(null==e?void 0:e.__id)||"")),s=u?null==a?void 0:a.map((e=>{var l;return null==e||null==(l=e.highlighting)?void 0:l.query_tokens})):void 0,i=Object(ye.b)(a,[ve.c]),r={...null==i?void 0:i.entities},o=i.entities.entries,c=[];for(const e in o)c.push(o[e]);return{conversations:n,conversationIds:t,highlightingTokens:s,normalizedMessages:i,entities:r,entries:c}}),[null==p||null==(l=p.dm_message_slice_result)?void 0:l.items,u]),{conversationIds:k,conversations:v,entities:b,entries:F,highlightingTokens:f,normalizedMessages:T}=h,K=Object(Fe.a)(p);t.a.useEffect((()=>{Object(ke.a)(p,K)||c(Object(de.a)(b,!0))}),[b,p,K,c]);return t.a.createElement(S.a,{accessibilityRole:"tablist",accessibilityTitle:a,assumedItemHeight:100,cacheKey:ml,footer:_?null:n,identityFunction:dl,items:null==T?void 0:T.result,noItemsRenderer:s,onNearEnd:y,onScrollEnd:i,renderer:(e=>(l,a)=>{a&&a(!0);const n=null==T?void 0:T.result,s=null==n?void 0:n.indexOf(l),i=e&&e[s];return t.a.createElement(Te.a,{conversationIds:k,dm_conversation:i,highlightingTokens:f,inboxType:"primary",isMessageItem:!0,isPinned:Object(Ke.c)(i),messageId:l,messageSearchEntries:F,pinnedSliceId:r,searchQuery:o})})(v),withoutHeadroom:!0})};function yl(e){return t.a.createElement(be.a,{errorConfig:gl},t.a.createElement(pl,e))}const _l=e=>e,hl=_.a.b08821f4,kl=_.a.a66ac766,vl=_.a.fe61929e,bl=_.a.a846382a,Fl=_.a.b9dae4f4,fl=_.a.e7fb2028,Tl=_.a.ae111c99,Kl=_.a.efb6c154,Sl=_.a.e8581cce,El=_.a.f08940ac,Ll=_.a.gaae1fd6,Il=_.a.i5d7593a,Rl=_.a.f8321d82,Cl=_.a.c94ac69e,wl=_.a.a2f81050,Ml=_.a.g2fd3206,xl=_.a.fb3c8e74;class Al extends t.a.Component{constructor(...e){super(...e),this.state={debouncedQuery:"",isLoadingMore:!1,isRefreshing:!1},this._conversationHighlightingEnabled=this.context.featureSwitches.isTrue("dm_inbox_search_query_highlighting_conversation_results_enabled")&&this.context.featureSwitches.isTrue("direct_messages_incremental_holdback_2022h1"),this._isEvolutionEnabled=this.context.featureSwitches.isTrue("dm_evolution_enabled")&&this.context.featureSwitches.isTrue("dm_evolution_inbox_primary_enabled"),this._isVDLEnabled=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_inbox_p0_enabled"),this._messageSearchEnabled=this.context.featureSwitches.isTrue("dm_inbox_search_message_results_enabled")&&this.context.featureSwitches.isTrue("direct_messages_incremental_holdback_2022h1"),this._modularSearchEnabled=this.context.featureSwitches.isTrue("dm_inbox_search_modular_results_enabled"),this._setInputRef=e=>{this._textInputRef=e},this._handleConversationClick=(e,l,a,n)=>{const{analytics:t}=this.props,s=(null==a?void 0:a.participants.length)||0,i=(null==a?void 0:a.type)===R.CONVERSATION_TYPE.GROUP;t.scribe({element:"thread",action:"click",data:{event_value:this.props.query.length,conversation_id:l,conversation_participant_count:s,conversation_type:i?N.l.GROUP:N.l.ONE_TO_ONE,position:n}})},this._renderEmptyDMSearchInbox=()=>{const{analytics:e,query:l}=this.props,{debouncedQuery:a}=this.state;return a&&l?(e.scribe({component:"search",element:"results",action:"empty"}),t.a.createElement(o.a,{buttonLink:"/messages/compose",buttonText:El,header:Tl({query:a}),message:this._messageSearchEnabled?Sl:Kl,onButtonPress:this._handleComposeButtonPress})):t.a.createElement(r.a,{style:Dl.emptyState},t.a.createElement(c.b,{align:"center",color:"gray700"},this._messageSearchEnabled?Il:Ll))},this._renderRecentSearches=()=>{const{analytics:e,query:l,recentSearches:a}=this.props;return a.length&&!l?t.a.createElement(t.a.Fragment,null,t.a.createElement(M.a,{analytics:e,clearRecentSearches:this._clearRecentSearches,headerText:xl,withClearButton:!0}),a.map((e=>t.a.createElement(q,{clearRecentSearch:l=>this._handleClearRecentSearch(l,e),handleRecentSearchClick:()=>this._handleRecentSearchClick(e),key:e,recentSearch:e})))):this._renderEmptyDMSearchInbox()},this._renderAllDMSearchResultsTab=()=>{const{debouncedQuery:e}=this.state;return e?this._renderAllDMSearchResults():this._renderEmptyDMSearchInbox()},this._renderAllDMSearchResults=()=>{const{location:e,pinConversation:l,pinnedSliceId:a,unpinConversation:n}=this.props,{debouncedQuery:s}=this.state;return this._isEvolutionEnabled?t.a.createElement(Ie,{location:e,pinnedSliceId:a,renderEmptyState:this._renderEmptyDMSearchInbox,searchTerm:s}):t.a.createElement(pe,{loadingLabel:kl,location:e,pinConversation:l,query:s,renderEmptyState:this._renderEmptyDMSearchInbox,renderInboxItem:this._renderSearchInboxItem,unpinConversation:n})},this._renderConversationsTab=e=>{const{accessibilityTitle:l,pinConversation:a,pinnedSliceId:n,unpinConversation:s}=this.props,{debouncedQuery:i}=this.state;return this._isEvolutionEnabled?t.a.createElement(ll,{accessibilityTitle:l,footer:this._renderFooter(),noItemsRenderer:this._renderEmptyDMSearchInbox,onScrollEnd:this._handleScrollEnd,pinnedSliceId:n,searchTerm:i,tabType:e?N.k.GROUPS:N.k.PEOPLE}):t.a.createElement(ze,{footer:this._renderFooter(),noItemsRenderer:this._renderEmptyDMSearchInbox,onScrollEnd:this._handleScrollEnd,pinConversation:a,renderInboxItem:this._renderSearchInboxItem,searchTerm:i,tabType:e?N.k.GROUPS:N.k.PEOPLE,unpinConversation:s})},this._renderMessagesTab=()=>{const{accessibilityTitle:e,pinConversation:l,pinnedSliceId:a,unpinConversation:n}=this.props,{debouncedQuery:s}=this.state;return s?this._isEvolutionEnabled?t.a.createElement(yl,{accessibilityTitle:e,footer:this._renderFooter(),noItemsRenderer:this._renderEmptyDMSearchInbox,onScrollEnd:this._handleScrollEnd,pinnedSliceId:a,searchTerm:s}):t.a.createElement(ol,{footer:this._renderFooter(),noItemsRenderer:this._renderEmptyDMSearchInbox,onScrollEnd:this._handleScrollEnd,pinConversation:l,renderInboxItem:this._renderSearchInboxItem,searchTerm:s,unpinConversation:n}):this._renderEmptyDMSearchInbox()},this._renderTabContent=()=>{const{location:e}=this.props,{tab:l}=(null==e?void 0:e.state)||{};switch(l){case Ml:return this._renderConversationsTab(!1);case Cl:return this._renderConversationsTab(!0);case wl:return this._renderMessagesTab();default:return this._renderAllDMSearchResultsTab()}},this._renderSearchInboxItem=({conversationIds:e,highlightingTokens:l,isMessageItem:a=!1,messageIds:n,pinConversation:s,unpinConversation:r})=>(o,c)=>{const{loggedInUserId:d}=this.context,{location:u}=this.props,{query:m}=this.props,g=a?(n||[]).indexOf(o):-1,p=-1!==g&&null!=e&&e.length?e[g]:null,y=p?o:"",_=p||o,h={pathname:`/messages/${_}`,state:{...null==u?void 0:u.state,entryPoint:null,searchQuery:m}},k=_&&null!=e&&e.length?e.indexOf(_):null,b=k?k+1:0;i()(!!d,"loggedInUserId must be defined"),c&&c(!0);const f=null!=l&&l.length&&Object(v.a)(k)&&k>=0?l[k]:void 0,T=e=>t.a.createElement(W.a,{conversationId:_,highlightingTokens:f,inboxType:C.d.PRIMARY,isActive:e,isMessageItem:a,key:_,link:h,messageId:y,onClick:this._handleConversationClick,perspective:d,pinConversation:s,position:b,searchQuery:m,unpinConversation:r});return this._isVDLEnabled?t.a.createElement(K.a,{exact:!1,path:h.pathname},T):t.a.createElement(F.a,{exact:!1,path:h.pathname},T)},this._renderSearchResults=()=>{const{accessibilityTitle:e,pinConversation:l,searchConversationIds:a,unpinConversation:n}=this.props,{isRefreshing:s}=this.state;return t.a.createElement(f.a,null,t.a.createElement(L.a,{isRefreshing:s,onRefresh:this._handlePullToRefresh},t.a.createElement(S.a,{accessibilityRole:"tablist",accessibilityTitle:e,anchoring:j.a,assumedItemHeight:100,cacheKey:"dmSearchInbox",footer:this._renderFooter(),identityFunction:_l,items:a,noItemsRenderer:this._renderRecentSearches,onNearEnd:this._handleNearEnd,onScrollEnd:this._handleScrollEnd,renderer:this._renderSearchInboxItem({conversationIds:a,pinConversation:l,unpinConversation:n}),withoutHeadroom:!0})))},this._renderFooter=()=>this.state.isLoadingMore?t.a.createElement(w.a,null):t.a.createElement(r.a,{style:Dl.footerContainer},t.a.createElement(c.b,{align:"center",size:"body",weight:"bold"},fl),t.a.createElement(d.a,{interactiveStyles:null},t.a.createElement(c.b,{align:"center",color:"primary",onPress:this._handleFooterClick,size:"subtext2",withInteractiveStyling:!0},Fl))),this._clearRecentSearches=()=>{const{analytics:e,clearRecentSearches:l}=this.props;e.scribe({component:"recent_search",action:"clear"}),l()},this._handleComposeButtonPress=()=>{const{analytics:e}=this.props;e.scribe({component:"search",element:"empty_results",action:"compose"})},this._handleFooterClick=()=>{var e,l;null==(e=this._textInputRef)||e.clear(),null==(l=this._textInputRef)||l.focus()},this._handleRefetchSearch=()=>{const{analytics:e,createLocalApiErrorHandler:l,search:a}=this.props,{debouncedQuery:n}=this.state;a&&n&&(e.scribe({component:"search",element:"retry",action:"click"}),a({query:n.toLowerCase(),preserveResults:!1,fetchNextPage:!1}).catch(l()))},this._handlePullToRefresh=()=>{const{createLocalApiErrorHandler:e,search:l}=this.props,{debouncedQuery:a}=this.state;this.setState({isRefreshing:!0}),l&&a&&l({query:a.toLowerCase(),preserveResults:!0,fetchNextPage:!1}).then((()=>this.setState({isRefreshing:!1}))).catch((l=>(this.setState({isRefreshing:!1}),e()(l))))},this._handleSearchChangeInner=e=>{const{createLocalApiErrorHandler:l,onQueryChange:a,search:n}=this.props;a(e),this.setState({debouncedQuery:e}),n&&e&&!this._modularSearchEnabled&&n({query:e,preserveResults:!1,fetchNextPage:!1}).catch(l())},this._handleSearchChangeDebounced=Object(b.a)(this._handleSearchChangeInner,200),this._handleSearchChange=({currentTarget:{value:e}})=>{const{onQueryChange:l}=this.props;(e&&e.trim()||!e)&&(l(e),this._handleSearchChangeDebounced(e))},this._handleNearEnd=()=>{const{analytics:e,search:l}=this.props,{debouncedQuery:a}=this.state;this.setState({isLoadingMore:!0}),a&&(e.scribe({component:"search",element:"results",action:"get_older"}),l({query:a,preserveResults:!1,fetchNextPage:!0}).finally((()=>this.setState({isLoadingMore:!1}))))},this._handleScrollEnd=()=>{const{addRecentSearch:e,analytics:l,query:a}=this.props,{debouncedQuery:n}=this.state;n&&a&&(e(a),l.scribe({component:"recent_search",action:"add"}))},this._handleSearchClear=()=>this._handleSearchChangeInner(""),this._handleHideRecentSearches=()=>{const{hideRecentSearches:e}=this.props;e()},this._handleAddRecentSearch=({currentTarget:{value:e}})=>{const{addRecentSearch:l,analytics:a}=this.props;e&&(l(e),a.scribe({component:"recent_search",action:"add"}),this._textInputRef&&this._textInputRef.blur())},this._handleRecentSearchClick=e=>{const{analytics:l,onQueryChange:a}=this.props;a(e),l.scribe({component:"recent_search",action:"click"}),this._handleSearchChangeInner(e)},this._handleClearRecentSearch=(e,l)=>{const{analytics:a,clearRecentSearch:n}=this.props;e.stopPropagation(),e.preventDefault(),a.scribe({component:"recent_search",action:"clear"}),n(l)}}componentDidMount(){var e;const{location:l}=this.props;var a;null!=l&&null!=(e=l.state)&&e.searchQuery&&this._handleSearchChangeInner(null==l||null==(a=l.state)?void 0:a.searchQuery);this._textInputRef&&this._textInputRef.focus()}componentDidUpdate(e){const{analytics:l,query:a,recentSearches:n}=this.props;e.query||!a||n.includes(a)||l.scribe({component:"search",action:"began_typing"})}render(){const{location:e,query:l,searchFetchStatus:a}=this.props,n=!(this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_inbox_p0_enabled")||this._modularSearchEnabled&&l),s=[Dl.searchInput,n?Dl.searchInputBorder:void 0],{tab:i}=(null==e?void 0:e.state)||{},o=[Rl,Ml,Cl];this._messageSearchEnabled&&o.push(wl);const c=o.map((l=>({key:l,label:l,accessibilityLabel:l,isActive:()=>i===l||!i&&l===Rl,to:{...e,state:{...e.state,tab:l}}}))),d=i===wl&&this._messageSearchEnabled;return t.a.createElement(t.a.Fragment,null,t.a.createElement(r.a,{style:s},t.a.createElement(u.a,{accessibilityLabel:hl,icon:t.a.createElement(h.a,null),onPress:this._handleHideRecentSearches,pullLeft:!0,type:"primaryText"}),t.a.createElement(m.a,{Icon:k.a,autoComplete:"off",onChange:this._handleSearchChange,onClear:this._handleSearchClear,onSubmitEditing:this._handleAddRecentSearch,placeholder:this._messageSearchEnabled?bl:vl,ref:this._setInputRef,value:l,withClearButton:!0})),this._modularSearchEnabled&&(l||i===Ml||i===Cl||d)?t.a.createElement(t.a.Fragment,null,t.a.createElement(g.a,{links:c}),this._renderTabContent()):t.a.createElement(T.a,{accessibilityLabel:kl,fetchStatus:a,onRequestRetry:this._handleRefetchSearch,render:this._renderSearchResults}))}}Al.contextType=E.a,Al.defaultProps={recentSearches:[],searchConversationIds:[],query:""};const Dl=p.a.create((e=>({emptyState:{marginTop:e.spaces.space32},searchInput:{backgroundColor:e.colors.cellBackground,padding:e.spaces.space12,flexDirection:"row",alignItems:"center",zIndex:1},searchInputBorder:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},footerContainer:{marginVertical:e.spaces.space32}})));l.a=Object(I.a)(Ue(Al))},RJrc:function(e,l,a){"use strict";var n=a("ERkP"),t=a.n(n),s=a("MWbm"),i=a("Qwev"),r=a("rHpw"),o=a("qqsb");const c=a.n(o).a.ffde2fdc,d=r.a.create((e=>({spinner:{alignItems:"center",marginVertical:"30px"}})));l.a=()=>t.a.createElement(s.a,{style:d.spinner},t.a.createElement(i.a,{accessibilityLabel:c}))},SDjT:function(e,l,a){"use strict";var n,t,s,i,r,o,c,d,u,m,g,p,y,_,h,k,v,b,F,f={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:null,name:"evolutionDMInboxTertiaryQuery",selections:[{alias:"dm_convo_list_slice",args:[t={kind:"Variable",name:"count",variableName:"count"},s={kind:"Literal",name:"desired_lists",value:["LowQuality"]},i={kind:"Literal",name:"known_lists",value:["Trusted","Untrusted","LowQuality"]},r={kind:"Literal",name:"s",value:"e54f"},o={kind:"Literal",name:"sort_by",value:"Recency"}],concreteType:null,kind:"LinkedField",name:"__EvolutionDMInboxTertiaryQuery_dm_convo_list_slice_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"evolutionDMInboxItem"},c={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null},d={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"evolutionDMInboxTertiaryQuery",selections:[{alias:null,args:u=[t,{kind:"Variable",name:"cursor",variableName:"cursor"},s,i,r,o],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[m,{kind:"TypeDiscriminator",abstractKey:"__isDMConvoListItem"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null},g],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[p={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"protected",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},h={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},g,k={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},g],storageKey:null}],storageKey:null},k,{alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},_],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"count",value:20}],concreteType:null,kind:"LinkedField",name:"conversation_slice",plural:!1,selections:[m,{kind:"TypeDiscriminator",abstractKey:"__isDMEventSliceResult"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEventResults",kind:"LinkedField",name:"dm_event_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"audio",plural:!1,selections:v=[g],storageKey:null}],type:"DMAudioAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:v,storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[m,{kind:"InlineFragment",selections:b=[{alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null}],type:"ApiGif",abstractKey:null},{kind:"InlineFragment",selections:b,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:b,storageKey:null}],type:"ApiVideo",abstractKey:null}],storageKey:null},g],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:v,storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},_,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[p,_],storageKey:null},h,g],type:"User",abstractKey:null}],storageKey:null},g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[_,y],storageKey:null},h,g],type:"User",abstractKey:null}],storageKey:null},g],storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"reactions",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMReaction",kind:"LinkedField",name:"items",plural:!0,selections:[F,{alias:null,args:null,kind:"ScalarField",name:"reaction_key",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[k,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[_],storageKey:null},h,g],type:"User",abstractKey:null}],storageKey:null},g],storageKey:null}],storageKey:null}],type:"DMReactionSlice",abstractKey:null}],storageKey:null},k,g],type:"DMEvent",abstractKey:null}],storageKey:null},g],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:"conversation_slice(count:20)"},{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null},c],storageKey:null},g],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null},d],type:"DMConvoListSlice",abstractKey:null}],storageKey:null},{alias:null,args:u,filters:["count","desired_lists","known_lists","s","sort_by"],handle:"slice",key:"EvolutionDMInboxTertiaryQuery_dm_convo_list_slice",kind:"LinkedHandle",name:"dm_convo_list_slice"}]},params:{id:"Fb14pDVMBtYifaNOE5h9xQ",metadata:{sliceInfoPath:["dm_convo_list_slice","slice_info"]},name:"evolutionDMInboxTertiaryQuery",operationKind:"query",text:null}};f.hash="9fcd4a66e0138980f5262b5d6a96db16",e.exports=f},"ShJ/":function(e,l,a){"use strict";var n=a("ERkP"),t=a.n(n),s=a("k/Ka"),i=a("Lsrn");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},t.a.createElement("g",null,t.a.createElement("path",{d:"M20.472 14.738c-.388-1.808-2.24-3.517-3.908-4.246l-.474-4.307 1.344-2.016c.258-.387.28-.88.062-1.286-.218-.406-.64-.66-1.102-.66H7.54c-.46 0-.884.254-1.1.66-.22.407-.197.9.06 1.284l1.35 2.025-.42 4.3c-1.667.732-3.515 2.44-3.896 4.222-.066.267-.043.672.222 1.01.14.178.46.474 1.06.474h3.858l2.638 6.1c.12.273.39.45.688.45s.57-.177.688-.45l2.638-6.1h3.86c.6 0 .92-.297 1.058-.474.265-.34.288-.745.228-.988zM12 20.11l-1.692-3.912h3.384L12 20.11zm-6.896-5.413c.456-1.166 1.904-2.506 3.265-2.96l.46-.153.566-5.777-1.39-2.082h7.922l-1.39 2.08.637 5.78.456.153c1.355.45 2.796 1.78 3.264 2.96H5.104z"})));r.metadata={width:24,height:24},l.a=r},Sy9O:function(e,l,a){"use strict";var n,t,s,i,r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"evolutionDMInboxItem",selections:[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"evolutionDMConversationAvatar"},t={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"count",value:20}],concreteType:null,kind:"LinkedField",name:"conversation_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEventResults",kind:"LinkedField",name:"dm_event_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"evolutionDMEntryPreview"},{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"reactions",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMReaction",kind:"LinkedField",name:"items",plural:!0,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"reaction_key",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[t,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[s],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMReactionSlice",abstractKey:null}],storageKey:null},t],type:"DMEvent",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:"conversation_slice(count:20)"},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[r,n,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[s,{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"protected",storageKey:null},action:"THROW",path:"participants.user_results.result.legacy.protected"},{alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null},action:"THROW",path:"participants.user_results.result.legacy.verified"}],storageKey:null},t],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null};o.hash="b0c9acd0d695264a2dd108d32f0dc7ef",e.exports=o},Up3T:function(e,l,a){"use strict";var n=a("ERkP"),t=a.n(n),s=a("k/Ka"),i=a("Lsrn");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},t.a.createElement("g",null,t.a.createElement("path",{d:"M20.075 10.12c-.414 0-.75.337-.75.75v8.08c0 .413-.337.75-.75.75H4.095c-.412 0-.75-.337-.75-.75V8.292l6.778 4.518c.368.247.79.37 1.213.37.422 0 .844-.123 1.212-.368l4.53-3.014c.336-.223.428-.676.204-1.012-.223-.334-.675-.427-1.012-.203l-4.53 3.015c-.246.162-.563.163-.808 0l-7.586-5.06V5.496c0-.414.337-.75.75-.75h8.092c.414 0 .75-.336.75-.75s-.336-.75-.75-.75H4.096c-1.24 0-2.25 1.01-2.25 2.25V18.95c0 1.24 1.01 2.25 2.25 2.25h14.48c1.24 0 2.25-1.01 2.25-2.25v-8.078c0-.415-.337-.75-.75-.75zm3.165-6.87h-5.624l1.64-1.64c.315-.317.315-.828 0-1.144-.316-.315-.826-.316-1.143 0l-2.96 2.96c-.157.16-.236.367-.236.574 0 .207.08.414.237.57l2.96 2.962c.16.158.365.236.572.236s.413-.08.57-.236c.316-.315.316-.827 0-1.143l-1.64-1.64h5.623c.412 0 .75-.338.75-.75s-.338-.75-.75-.75z"})));r.metadata={width:24,height:24},l.a=r},"V/6K":function(e,l,a){"use strict";var n=a("ERkP");const t=a.n(n).a.createContext({isDrawer:!1});l.a=t},VGyq:function(e,l,a){"use strict";var n,t,s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"evolutionDMMessageEntry",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"audio",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"DMAudioAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:n,storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:t=[{alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null}],type:"ApiGif",abstractKey:null},{kind:"InlineFragment",selections:t,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:t,storageKey:null}],type:"ApiVideo",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:n,storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"DirectMessageInfo",abstractKey:null};s.hash="2d1a31cdb7c77ab83117eb189c0f67d2",e.exports=s},Vc8w:function(e,l,a){"use strict";a.d(l,"a",(function(){return i}));var n=a("ERkP"),t=a.n(n),s=a("pxuL");const i=()=>{const{decrementDmDrawerSuppressorCount:e,incrementDmDrawerSuppressorCount:l}=t.a.useContext(s.a);t.a.useEffect((()=>(l(),()=>e())),[l,e])}},VcIV:function(e,l,a){"use strict";a.d(l,"a",(function(){return ae}));a("kYxP"),a("MvUL");var n=a("ERkP"),t=a.n(n),s=a("tI3i"),i=a.n(s),r=a("MWbm"),o=a("uDfI"),c=a("HG4m"),d=a.n(c),u=a("Ud88"),m=a.n(u),g=a("zCf4"),p=a("mjJ+"),y=a("eb3s"),_=a("ZToW"),h=a("cHvH"),k=a("kb9v"),v=a("IG7M"),b=a("qqsb"),F=a.n(b),f=a("0Bjv"),T=a("ShJ/"),K=a("k/Ka"),S=a("Lsrn");const E=(e={})=>Object(K.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[S.a.root,e.style],viewBox:"0 0 32 32"},t.a.createElement("g",null,t.a.createElement("path",{d:"M28.05 6.52h-5.42V4.887c0-1.548-1.26-2.808-2.81-2.808h-7.54c-1.548 0-2.807 1.26-2.807 2.808v1.63H4.05c-.414 0-.75.337-.75.75s.336.75.75.75h.753L7 26.435c.27 1.504 1.657 2.554 3.37 2.554h11.36c1.713 0 3.1-1.05 3.376-2.598l2.19-18.37h.753c.413 0 .75-.337.75-.75s-.336-.75-.75-.75zM10.972 4.887c0-.72.586-1.308 1.307-1.308h7.542c.72 0 1.308.587 1.308 1.308v1.63H10.972V4.89zm12.65 21.28c-.163.91-1.068 1.32-1.893 1.32H10.37c-.824 0-1.73-.41-1.887-1.276L6.313 8.02h19.472l-2.162 18.148z"}),t.a.createElement("path",{d:"M13.312 23.123c.414 0 .75-.336.75-.75v-9.6c0-.414-.336-.75-.75-.75s-.75.336-.75.75v9.6c0 .414.336.75.75.75zm5.486 0c.414 0 .75-.336.75-.75v-9.6c0-.414-.336-.75-.75-.75s-.75.336-.75.75v9.6c0 .414.336.75.75.75z"})));E.metadata={width:32,height:32};var L=E,I=a("zIWA"),R=a("5pef"),C=a("IpT4"),w=a("v6aA"),M=a("ii+P"),x=a("0KEI"),A=a("HPNB"),D=a("fz3c"),O=a("Irs7"),P=a("MMRb"),U=a("xZGM"),H=a("1YZw"),q=a("pHkl"),N=a("V/6K"),j=a("X/yg"),W=a("YemM");const B=F.a.a30a206e,V=F.a.ib4b1b86,z=F.a.bd3ca2ef,Q={confirmButtonLabel:F.a.bb1d57b6,actionTextLeave:F.a.g9074da4,header:F.a.gdf4b790,text:F.a.h09b49f8},G=F.a.ad63377e,Y=F.a.e1c9ec9c,$=F.a.i6b19b08,X=F.a.e3cfff7c,J=F.a.f398722e,Z=F.a.bdd91964,ee=F.a.a8ed0eca,le=F.a.jac4eb1e;function ae(e){const{conversation:l,conversationId:a,conversationType:n,inboxType:s,isHovered:c,isMessageSearchResult:u,isPinned:b,isSnoozed:F,participantCount:K,pinConversation:S,position:E,relayId:ae,unpinConversation:ne}=e,te=Object(O.b)(),se=Object(x.useCreateLocalApiErrorHandler)("DIRECT_MESSAGES_INBOX_ITEM"),ie=Object(o.c)(),re=m()(),{featureSwitches:oe}=t.a.useContext(w.a),ce=Object(g.f)(),{isDrawer:de}=t.a.useContext(N.a),ue=oe.getValue("dm_conversation_labels_max_pinned_count"),me=oe.isTrue("dm_conversation_labels_pinned_education_enabled")&&!b&&1===E,[ge,pe]=t.a.useState(!1),[ye,_e]=t.a.useState(!1),[he,ke]=Object(M.a)(U.u),[ve,be]=t.a.useState(me&&he);t.a.useEffect((()=>{if(ve)return ke}),[ke,ve]);const Fe=()=>{const e=n===P.CONVERSATION_TYPE.GROUP?"leave_group":"delete_thread",l={conversation_type:n===P.CONVERSATION_TYPE.GROUP?q.l.GROUP:q.l.ONE_TO_ONE,conversation_id:a,conversation_participant_count:K,position:E,inbox_type:Object(j.l)(s),entry_point:q.c.THREE_DOT_MENU};_e(!1),te.scribe({element:"thread",action:e,data:l}),b&&Se(),ie(P.leaveConversation({conversationId:a})).then((()=>{ae&&d()(re,(e=>{e.delete(`DMConversation:${ae}`)}))})).catch(se({showToast:!0})),ce.replace(Object(j.g)(s))},fe=e=>()=>{e&&e(),pe(!1)},Te=l=>()=>{const{userId:n}=e,t=D.a.DMConversation;if(te.scribeAction("report"),Object(D.g)(oe,t)){const e=Object(D.d)({clientReferer:window.location.pathname,isMedia:!1,isPromoted:!1,reportType:t,reportedConversationId:a,reportedUser:n,scribeNamespace:te.contextualScribeNamespace});l.push({pathname:"/i/safety/report_story_start",state:{input:{requested_variant:JSON.stringify(e)}}})}else{const e=Object(j.j)(a,window.location.pathname,te.contextualScribeNamespace,s);l.push(e)}},Ke=()=>{if(F)ie(P.enableNotifications({conversationId:a})).then((()=>{ae&&d()(re,(e=>{const l=e.get(`DMConversation:${ae}`);i()(l,"relayId must be defined");const a=l.getLinkedRecord("perspectival_conversation_metadata");i()(a,"metadataRef must be defined"),a.setValue(!1,"muted")})),ie(Object(H.b)({ariaOnly:!0,text:le}))}));else{const e={conversation_type:n===P.CONVERSATION_TYPE.GROUP?q.l.GROUP:q.l.ONE_TO_ONE,conversation_id:a,conversation_participant_count:K,entry_point:q.c.THREE_DOT_MENU};te.scribe({element:"thread",action:"mute_dm_thread_forever",data:e}),ie(P.disableNotifications({conversationId:a})).then((()=>{ae&&d()(re,(e=>{const l=e.get(`DMConversation:${ae}`);i()(l,"relayId must be defined");const a=l.getLinkedRecord("perspectival_conversation_metadata");i()(a,"metadataRef must be defined"),a.setValue(!0,"muted")})),ie(Object(H.b)({ariaOnly:!0,text:J}))}))}},Se=()=>{const{togglePinStateEvolution:t}=e,s=b?"unpin_dm_conversation":"pin_dm_conversation",i=b?ne:S,r={conversation_type:n===P.CONVERSATION_TYPE.GROUP?q.l.GROUP:q.l.ONE_TO_ONE,conversation_id:a,conversation_participant_count:K,position:E};te.scribe({element:"thread",action:s,data:r}),t?t():l&&i&&i(a,l)},Ee=e=>{const l={Icon:b?f.a:T.a,onClick:Se,text:b?Z:Y,withBottomBorder:!0},a={Icon:L,isEmphasized:!0,onClick:()=>_e(!0),text:G,withBottomBorder:!0},n={Icon:I.a,onClick:Te(ce),text:$,withBottomBorder:!0},s=[l,{Icon:F?R.a:C.a,onClick:Ke,text:F?ee:X,withBottomBorder:!0},n,a];return t.a.createElement(p.a,{items:s,onCloseRequested:fe(e),shouldCloseOnClick:!0})},Le=!_.a.isEnabled||c||ge||ve;return t.a.createElement(t.a.Fragment,null,ye?t.a.createElement(y.a,{confirmButtonLabel:Q.confirmButtonLabel,confirmButtonType:"destructiveFilled",headline:Q.header,onCancel:()=>_e(!1),onConfirm:Fe,text:Q.text}):null,Le?t.a.createElement(h.a,null,(({windowWidth:e})=>{const l=A.a.isTwoColumnLayout(e);return t.a.createElement(r.a,{style:[W.a.menuContainer,u&&W.a.messageSearchResultMenuContainer]},t.a.createElement(k.a,{actionPrimary:{text:B,onClick:()=>be(!1)},headline:V,onDismiss:()=>be(!1),shouldDisplay:ve&&!de,text:z({count:ue}),withMask:!l},l?t.a.createElement(v.a,{onClick:()=>pe(!0),renderActionMenu:Ee,style:Le?W.a.menu:W.a.hiddenMenu}):null),l?null:t.a.createElement(v.a,{onClick:()=>pe(!0),renderActionMenu:Ee,style:Le?W.a.menu:W.a.hiddenMenu}))})):null)}},"X3+4":function(e,l,a){"use strict";a.d(l,"a",(function(){return i}));var n=a("ERkP"),t=a.n(n),s=a("fs1G");const i=t.a.createContext({handleNextSlide:s.a})},X8um:function(e,l,a){"use strict";var n,t,s,i,r,o,c,d,u,m,g,p,y,_,h,k={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"label"}],kind:"Fragment",metadata:null,name:"DMPinnedInboxQuery",selections:[{alias:"labeled_conversation_slice",args:t=[{kind:"Variable",name:"label",variableName:"label"},{kind:"Literal",name:"s",value:"cb61"}],concreteType:"DMLabeledConversationsSlice",kind:"LinkedField",name:"__DMPinnedInboxQuery_labeled_conversation_slice_slice",plural:!1,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"items",plural:!0,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[r,o={alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[u={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[s,i,m={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},g={alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"low_quality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"read_only",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trusted",storageKey:null}],storageKey:null}],storageKey:null},p={alias:null,args:null,concreteType:"DMConversationLabelInfo",kind:"LinkedField",name:"labels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null}],storageKey:null},y={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null},_={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"DMPinnedInboxQuery",selections:[{alias:null,args:t,concreteType:"DMLabeledConversationsSlice",kind:"LinkedField",name:"labeled_conversation_slice",plural:!1,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"items",plural:!0,selections:[s,i,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[r,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[r,o,c,d,{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[h,{kind:"InlineFragment",selections:[s,i,m,{alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"}],type:"User",abstractKey:null}],storageKey:null},s],storageKey:null}],storageKey:null},g],storageKey:null},p],storageKey:null},y,_],storageKey:null},{alias:null,args:t,filters:["label","s"],handle:"slice",key:"DMPinnedInboxQuery_labeled_conversation_slice",kind:"LinkedHandle",name:"labeled_conversation_slice",handleArgs:[{kind:"Literal",name:"itemsFieldName",value:"items_results"}]}]},params:{id:"_gBQBgClVuMQb8efxWkbbQ",metadata:{sliceInfoPath:["labeled_conversation_slice","slice_info"]},name:"DMPinnedInboxQuery",operationKind:"query",text:null}};k.hash="ce2e2976cf1d1610f3238a158593facf",e.exports=k},XYIr:function(e,l,a){"use strict";a.d(l,"a",(function(){return c})),a.d(l,"b",(function(){return d})),a.d(l,"c",(function(){return m})),a.d(l,"d",(function(){return p})),a.d(l,"e",(function(){return _})),a.d(l,"f",(function(){return k})),a.d(l,"g",(function(){return b})),a.d(l,"h",(function(){return f})),a.d(l,"i",(function(){return K}));var n=a("ERkP"),t=a.n(n),s=a("cTG8"),i=a("t62R"),r=a("qqsb"),o=a.n(r);const c=(e,l,a,n,i)=>t.a.createElement(t.a.Fragment,null,S(e,l)," ",a&&t.a.createElement(s.a,{displayTextRange:[0,a.length],entities:n,highlightType:"background",hitHighlights:i,key:"message",text:a,withMediaLinks:!0})),d=(e,l,a)=>e?t.a.createElement(o.a.I18NFormatMessage,{$i18n:"i005f1fd"},t.a.createElement(i.b,null,l),t.a.createElement(i.b,null,a||"")):t.a.createElement(o.a.I18NFormatMessage,{$i18n:"b35cee41"},t.a.createElement(i.b,null,a||"")),u=o.a.a9cc8cfe,m=(e,l,a)=>a?e?t.a.createElement(i.b,null,o.a.eb3d722e):t.a.createElement(o.a.I18NFormatMessage,{$i18n:"dc4b75a1"},t.a.createElement(i.b,null,l)):u,g=o.a.e5bfe07e,p=(e,l,a)=>a?e?t.a.createElement(i.b,null,o.a.db53c018):t.a.createElement(o.a.I18NFormatMessage,{$i18n:"hcbbbb35"},t.a.createElement(i.b,null,l)):g,y=o.a.bf584cd2,_=(e,l,a)=>a?e?t.a.createElement(i.b,null,o.a.f80629ba):t.a.createElement(o.a.I18NFormatMessage,{$i18n:"c1e1f849"},t.a.createElement(i.b,null,l)):y,h=o.a.e20b65b0,k=(e,l,a)=>a?e?t.a.createElement(i.b,null,o.a.d30c2d40):t.a.createElement(o.a.I18NFormatMessage,{$i18n:"c7e2464f"},t.a.createElement(i.b,null,l)):h,v=o.a.a876e58c,b=(e,l,a)=>a?e?t.a.createElement(i.b,null,o.a.j7d8101a):t.a.createElement(o.a.I18NFormatMessage,{$i18n:"eee2f121"},t.a.createElement(i.b,null,l)):v,F=o.a.dedfd266,f=(e,l,a)=>a?e?t.a.createElement(i.b,null,o.a.h7033cac):t.a.createElement(o.a.I18NFormatMessage,{$i18n:"be5a9617"},t.a.createElement(i.b,null,l)):F,T=o.a.b1a614fe,K=(e,l,a)=>a?e?t.a.createElement(i.b,null,o.a.d5b762c8):t.a.createElement(o.a.I18NFormatMessage,{$i18n:"dfd2b3b9"},t.a.createElement(i.b,null,l)):T,S=(e,l)=>l?t.a.createElement(i.b,{key:"senderName"},t.a.createElement(o.a.I18NFormatMessage,{$i18n:"b3a2b11d"},t.a.createElement(i.b,null,e))):null},XZOd:function(e,l,a){"use strict";var n,t,s,i,r,o,c,d,u,m,g,p,y,_,h,k,v,b,F,f,T,K,S={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:null,name:"EvolutionDMInboxSecondaryQuery",selections:[{alias:"untrusted",args:[t={kind:"Variable",name:"count",variableName:"count"},s={kind:"Literal",name:"desired_lists",value:["Untrusted"]},i={kind:"Literal",name:"known_lists",value:["Trusted","Untrusted","LowQuality"]},r={kind:"Literal",name:"s",value:"e54f"},o={kind:"Literal",name:"sort_by",value:"Recency"}],concreteType:null,kind:"LinkedField",name:"__EvolutionDMInboxSecondaryQuery_dm_convo_list_slice_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"evolutionDMInboxItem"},c={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null},d={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:null},{alias:"low_quality",args:m=[t,u={kind:"Variable",name:"cursor",variableName:"cursor"},{kind:"Literal",name:"desired_lists",value:["LowQuality"]},i,r,o],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[c],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"EvolutionDMInboxSecondaryQuery",selections:[{alias:"untrusted",args:g=[t,u,s,i,r,o],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[p={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[p,y={kind:"TypeDiscriminator",abstractKey:"__isDMConvoListItem"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[_={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null},_],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[h={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"protected",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},b={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},_,F={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},_],storageKey:null}],storageKey:null},F,{alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},v],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"count",value:20}],concreteType:null,kind:"LinkedField",name:"conversation_slice",plural:!1,selections:[p,{kind:"TypeDiscriminator",abstractKey:"__isDMEventSliceResult"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEventResults",kind:"LinkedField",name:"dm_event_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"audio",plural:!1,selections:f=[_],storageKey:null}],type:"DMAudioAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:f,storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[p,{kind:"InlineFragment",selections:T=[{alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null}],type:"ApiGif",abstractKey:null},{kind:"InlineFragment",selections:T,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:T,storageKey:null}],type:"ApiVideo",abstractKey:null}],storageKey:null},_],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:f,storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},v,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[h,v],storageKey:null},b,_],type:"User",abstractKey:null}],storageKey:null},_],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[F,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[v,k],storageKey:null},b,_],type:"User",abstractKey:null}],storageKey:null},_],storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"reactions",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMReaction",kind:"LinkedField",name:"items",plural:!0,selections:[K,{alias:null,args:null,kind:"ScalarField",name:"reaction_key",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[F,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[v],storageKey:null},b,_],type:"User",abstractKey:null}],storageKey:null},_],storageKey:null}],storageKey:null}],type:"DMReactionSlice",abstractKey:null}],storageKey:null},F,_],type:"DMEvent",abstractKey:null}],storageKey:null},_],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:"conversation_slice(count:20)"},{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null},c],storageKey:null},_],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null},d],type:"DMConvoListSlice",abstractKey:null}],storageKey:null},{alias:"untrusted",args:g,filters:["count","desired_lists","known_lists","s","sort_by"],handle:"slice",key:"EvolutionDMInboxSecondaryQuery_dm_convo_list_slice",kind:"LinkedHandle",name:"dm_convo_list_slice"},{alias:"low_quality",args:m,concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[p,y,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:f,type:"DMConversation",abstractKey:null},c],storageKey:null},_],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:null}]},params:{id:"CR5eoCBq5F7Ot49qXfjzKQ",metadata:{sliceInfoPath:["untrusted","slice_info"]},name:"EvolutionDMInboxSecondaryQuery",operationKind:"query",text:null}};S.hash="a792d60786f67446d0b79bfb5de429e5",e.exports=S},Y12X:function(e,l,a){"use strict";var n,t,s,i,r,o,c,d,u,m,g,p,y,_,h,k,v,b,F,f,T,K,S,E,L,I,R,C,w,M,x,A,D,O,P,U,H,q,N,j,W,B,V,z,Q,G,Y,$,X,J,Z,ee,le,ae,ne,te,se,ie,re,oe,ce,de,ue,me,ge,pe,ye,_e,he,ke,ve,be,Fe,fe,Te,Ke,Se,Ee,Le,Ie,Re,Ce,we,Me,xe,Ae,De,Oe,Pe,Ue,He,qe,Ne,je,We,Be,Ve,ze,Qe,Ge,Ye,$e,Xe,Je,Ze,el,ll,al,nl,tl,sl,il,rl,ol,cl,dl,ul,ml,gl,pl,yl,_l,hl,kl,vl,bl,Fl,fl,Tl,Kl,Sl,El,Ll,Il,Rl,Cl,wl,Ml,xl,Al,Dl,Ol,Pl,Ul,Hl,ql,Nl,jl,Wl,Bl,Vl,zl,Ql,Gl,Yl,$l,Xl,Jl,Zl,ea,la,aa,na,ta,sa,ia,ra,oa,ca,da,ua,ma,ga,pa,ya,_a,ha,ka,va,ba,Fa,fa,Ta,Ka,Sa,Ea,La,Ia,Ra,Ca,wa,Ma,xa,Aa,Da,Oa,Pa,Ua,Ha,qa,Na,ja,Wa,Ba,Va,za,Qa,Ga,Ya,$a,Xa,Ja,Za,en,ln,an,nn,tn,sn,rn=(n={defaultValue:null,kind:"LocalArgument",name:"cursor"},t={defaultValue:null,kind:"LocalArgument",name:"query"},s={defaultValue:null,kind:"LocalArgument",name:"withAttachments"},i={defaultValue:!1,kind:"LocalArgument",name:"withDmMuting"},r={defaultValue:null,kind:"LocalArgument",name:"withMessageQueryHighlights"},o={defaultValue:null,kind:"LocalArgument",name:"withSafetyModeUserFields"},c={defaultValue:null,kind:"LocalArgument",name:"withSuperFollowsUserFields"},d={kind:"Variable",name:"query",variableName:"query"},u={kind:"Literal",name:"s",value:"e54f"},m={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"affects_sort",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"request_id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},v={alias:null,args:null,concreteType:"DMConversationLabelInfo",kind:"LinkedField",name:"labels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null}],storageKey:null},b={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},F={alias:null,args:null,concreteType:"DMInitialLowQualityState",kind:"LinkedField",name:"initial_low_quality_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_low_quality",storageKey:null}],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"is_new_one_to_one_convo",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"marked_as_abuse",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"possibly_spam",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"sender_registration_token",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},C={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[E,R],storageKey:null},w=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[g,m,C],type:"User",abstractKey:null}],storageKey:null}],M={alias:null,args:null,kind:"ScalarField",name:"created_at_sec",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"expanded_url",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"indices",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},U=[A,D,O,P],H={alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:[{alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls",plural:!0,selections:U,storageKey:null}],storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},N={alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls_entity",plural:!0,selections:U,storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"media_key",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"percentage",storageKey:null},$=[{alias:null,args:null,kind:"ScalarField",name:"blue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"green",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"red",storageKey:null}],X=[W,B,V,z,{alias:null,args:null,concreteType:"ApiMediaRect",kind:"LinkedField",name:"salient_rect",plural:!1,selections:[Q,{alias:null,args:null,kind:"ScalarField",name:"left",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"top",storageKey:null},G],storageKey:null},{alias:null,args:null,concreteType:"MediaColorInfo",kind:"LinkedField",name:"color_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MediaColorPaletteItem",kind:"LinkedField",name:"palette",plural:!0,selections:[Y,{alias:null,args:null,concreteType:"MediaColor",kind:"LinkedField",name:"rgb",plural:!1,selections:$,storageKey:null}],storageKey:null}],storageKey:null}],J={alias:null,args:null,concreteType:"AspectRatio",kind:"LinkedField",name:"aspect_ratio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"denominator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"numerator",storageKey:null}],storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"duration_millis",storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"embeddable",storageKey:null},le={alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:X,storageKey:null},ae={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},ne={alias:null,args:null,concreteType:"VideoVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bit_rate",storageKey:null},ae,P],storageKey:null},te={kind:"InlineFragment",selections:[N,{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[g,j,{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[q,{kind:"InlineFragment",selections:X,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[J,Z,ee,le,ne,{alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null}],type:"ApiVideo",abstractKey:null},{kind:"InlineFragment",selections:[W,J,le,ne],type:"ApiGif",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},se={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},ie={alias:null,args:null,concreteType:"ApiMediaEntityColor",kind:"LinkedField",name:"rgb",plural:!1,selections:$,storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},oe={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},ce={alias:null,args:null,concreteType:"LegacyCardBinding",kind:"LinkedField",name:"binding_values",plural:!0,selections:[se,{alias:null,args:null,concreteType:"ApiCardBindingValue",kind:"LinkedField",name:"value",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"boolean_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"double_value",storageKey:null},{alias:null,args:null,concreteType:"ApiCardBindingImageValue",kind:"LinkedField",name:"image_value",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alt",storageKey:null},Q,G,P],storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"image_color_value",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityColorPaletteColor",kind:"LinkedField",name:"palette",plural:!0,selections:[ie,Y],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"integer_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scribe_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"string_value",storageKey:null},re,{alias:null,args:null,concreteType:"ApiCardBindingUserValue",kind:"LinkedField",name:"user_value",plural:!1,selections:[oe,{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},de={alias:null,args:null,concreteType:"ApiCardPlatform",kind:"LinkedField",name:"card_platform",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiCardPlatformPlatform",kind:"LinkedField",name:"platform",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiCardPlatformAudience",kind:"LinkedField",name:"audience",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket",storageKey:null},E],storageKey:null},{alias:null,args:null,concreteType:"ApiCardPlatformDevice",kind:"LinkedField",name:"device",plural:!1,selections:[E,{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},ue={alias:"urlType",args:null,kind:"ScalarField",name:"url_type",storageKey:null},me={alias:null,args:null,concreteType:"TimelineUrl",kind:"LinkedField",name:"url",plural:!1,selections:[ue,P],storageKey:null},ge=[P],pe={alias:null,args:null,concreteType:"BadgeInfo",kind:"LinkedField",name:"badge",plural:!1,selections:ge,storageKey:null},ye={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},_e={alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},he={alias:null,args:null,kind:"ScalarField",name:"rtl",storageKey:null},ke={alias:"fromIndex",args:null,kind:"ScalarField",name:"from_index",storageKey:null},ve={alias:"toIndex",args:null,kind:"ScalarField",name:"to_index",storageKey:null},be={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},Fe={alias:"type",args:null,kind:"ScalarField",name:"__typename",storageKey:null},fe=[x],Te={kind:"InlineFragment",selections:fe,type:"TimelineRichTextCashtag",abstractKey:null},Ke={kind:"InlineFragment",selections:[g,P],type:"TimelineRichTextList",abstractKey:null},Se={kind:"InlineFragment",selections:fe,type:"TimelineRichTextHashtag",abstractKey:null},Ee={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},Le={kind:"InlineFragment",selections:[P,ue,{alias:"urtEndpointOptions",args:null,concreteType:"TimelineUrtEndpointOptions",kind:"LinkedField",name:"urt_endpoint_options",plural:!1,selections:[{alias:"cacheId",args:null,kind:"ScalarField",name:"cache_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},Ee,{alias:"requestParams",args:null,concreteType:"RequestParamsEntry",kind:"LinkedField",name:"request_params",plural:!0,selections:[se,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],type:"TimelineUrl",abstractKey:null},Ie={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[R],storageKey:null},Re={alias:"reason",args:null,kind:"ScalarField",name:"unavailable_reason",storageKey:null},Ce={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},we={kind:"InlineFragment",selections:[Re,Ce],type:"UserUnavailable",abstractKey:null},Me=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[Ie,m],type:"User",abstractKey:null},we],storageKey:null}],xe={alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[ke,ve,be,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Fe,Te,Ke,Se,Le,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:Me,storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[R,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:Me,storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},Ae={alias:"userLabelType",args:null,kind:"ScalarField",name:"user_label_type",storageKey:null},De={alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[me,pe,ye,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[_e,he,x,xe],storageKey:null},Ae],storageKey:null}],storageKey:null},Oe={condition:"withDmMuting",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dm_muting",storageKey:null}]},Pe={alias:null,args:null,kind:"ScalarField",name:"has_nft_avatar",storageKey:null},Ue={alias:null,args:null,kind:"ScalarField",name:"blocked_by",storageKey:null},He={alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},qe={alias:null,args:null,kind:"ScalarField",name:"can_dm",storageKey:null},Ne={alias:null,args:null,kind:"ScalarField",name:"can_media_tag",storageKey:null},je={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},We={alias:null,args:null,kind:"ScalarField",name:"default_profile",storageKey:null},Be={alias:null,args:null,kind:"ScalarField",name:"default_profile_image",storageKey:null},Ve={alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls",plural:!0,selections:[A,D,P,O],storageKey:null},ze=[Ve],Qe=[{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"description",plural:!1,selections:ze,storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"url",plural:!1,selections:ze,storageKey:null}],Ge={alias:null,args:null,concreteType:"UserEntities",kind:"LinkedField",name:"entities",plural:!1,selections:Qe,storageKey:null},Ye={alias:null,args:null,kind:"ScalarField",name:"fast_followers_count",storageKey:null},$e={alias:null,args:null,kind:"ScalarField",name:"favourites_count",storageKey:null},Xe={alias:null,args:null,kind:"ScalarField",name:"follow_request_sent",storageKey:null},Je={alias:null,args:null,kind:"ScalarField",name:"follow_request_received",storageKey:null},Ze={alias:null,args:null,kind:"ScalarField",name:"followed_by",storageKey:null},el={alias:null,args:null,kind:"ScalarField",name:"followers_count",storageKey:null},ll={alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null},al={alias:null,args:null,kind:"ScalarField",name:"friends_count",storageKey:null},nl={alias:null,args:null,kind:"ScalarField",name:"has_custom_timelines",storageKey:null},tl={alias:null,args:null,kind:"ScalarField",name:"is_translator",storageKey:null},sl={alias:null,args:null,kind:"ScalarField",name:"listed_count",storageKey:null},il={alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},rl={alias:null,args:null,kind:"ScalarField",name:"media_count",storageKey:null},ol={alias:null,args:null,kind:"ScalarField",name:"muting",storageKey:null},cl={alias:null,args:null,kind:"ScalarField",name:"needs_phone_verification",storageKey:null},dl={alias:null,args:null,kind:"ScalarField",name:"normal_followers_count",storageKey:null},ul={alias:null,args:null,kind:"ScalarField",name:"notifications",storageKey:null},ml={alias:null,args:null,kind:"ScalarField",name:"pinned_tweet_ids_str",storageKey:null},gl={alias:null,args:null,kind:"ScalarField",name:"possibly_sensitive",storageKey:null},pl=[{alias:null,args:null,concreteType:"ApiMediaEntityColorPaletteColor",kind:"LinkedField",name:"palette",plural:!0,selections:[Y,ie],storageKey:null}],yl=[{alias:null,args:null,concreteType:"ApiMediaColorExtension",kind:"LinkedField",name:"mediaColor",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaColorExtensionR",kind:"LinkedField",name:"r",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"ok",plural:!1,selections:pl,storageKey:null}],storageKey:null}],storageKey:null}],_l={alias:null,args:null,concreteType:"ApiMediaExtensions",kind:"LinkedField",name:"profile_banner_extensions",plural:!1,selections:yl,storageKey:null},hl={alias:null,args:null,kind:"ScalarField",name:"profile_banner_url",storageKey:null},kl={alias:null,args:null,concreteType:"ApiMediaExtensions",kind:"LinkedField",name:"profile_image_extensions",plural:!1,selections:yl,storageKey:null},vl={alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},bl={alias:null,args:null,kind:"ScalarField",name:"profile_interstitial_type",storageKey:null},Fl={alias:null,args:null,kind:"ScalarField",name:"protected",storageKey:null},fl={alias:null,args:null,kind:"ScalarField",name:"statuses_count",storageKey:null},Tl={alias:null,args:null,kind:"ScalarField",name:"time_zone",storageKey:null},Kl={alias:null,args:null,kind:"ScalarField",name:"translator_type",storageKey:null},Sl={alias:null,args:null,kind:"ScalarField",name:"utc_offset",storageKey:null},El={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null},Ll={alias:null,args:null,kind:"ScalarField",name:"want_retweets",storageKey:null},Il={alias:null,args:null,kind:"ScalarField",name:"withheld_description",storageKey:null},Rl={alias:null,args:null,concreteType:"UserEntities",kind:"LinkedField",name:"withheld_entities",plural:!1,selections:Qe,storageKey:null},Cl={alias:null,args:null,kind:"ScalarField",name:"withheld_in_countries",storageKey:null},wl={alias:null,args:null,kind:"ScalarField",name:"withheld_scope",storageKey:null},Ml={alias:null,args:null,kind:"ScalarField",name:"professional_type",storageKey:null},xl={alias:null,args:null,kind:"ScalarField",name:"display",storageKey:null},Al={alias:null,args:null,concreteType:"BusinessCategory",kind:"LinkedField",name:"category",plural:!0,selections:[g,E,xl],storageKey:null},Dl={alias:null,args:null,concreteType:"Professional",kind:"LinkedField",name:"professional",plural:!1,selections:[m,Ml,Al],storageKey:null},Ol={condition:"withSafetyModeUserFields",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"smart_blocked_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"smart_blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"smart_blocking_expiration",storageKey:null}]},Pl={condition:"withSuperFollowsUserFields",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"super_follow_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"super_followed_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"super_following",storageKey:null}]},Ul={kind:"InlineFragment",selections:[Ce,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[_e,xe,he,x],storageKey:null},Re],type:"UserUnavailable",abstractKey:null},Hl={alias:null,args:null,kind:"ScalarField",name:"conversation_muted",storageKey:null},ql={alias:null,args:null,kind:"ScalarField",name:"policy",storageKey:null},Nl={alias:null,args:null,kind:"ScalarField",name:"invite_via_mention",storageKey:null},jl={alias:null,args:null,kind:"ScalarField",name:"collab_invitation_status",storageKey:null},Wl={alias:null,args:null,kind:"ScalarField",name:"conversation_id_str",storageKey:null},Bl={alias:null,args:null,kind:"ScalarField",name:"coordinates",storageKey:null},Vl=[re,Bl],zl={alias:null,args:null,concreteType:"ApiGeoFeature",kind:"LinkedField",name:"coordinates",plural:!1,selections:Vl,storageKey:null},Ql={alias:null,args:null,kind:"ScalarField",name:"display_text_range",storageKey:null},Gl={alias:null,args:null,kind:"ScalarField",name:"ext_alt_text",storageKey:null},Yl={alias:null,args:null,kind:"ScalarField",name:"media_url_https",storageKey:null},$l={alias:null,args:null,kind:"ScalarField",name:"source_status_id_str",storageKey:null},Xl={alias:null,args:null,kind:"ScalarField",name:"source_user_id_str",storageKey:null},Jl={alias:null,args:null,concreteType:"ApiCallToActions",kind:"LinkedField",name:"call_to_actions",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiVisitSiteCallToAction",kind:"LinkedField",name:"visit_site",plural:!1,selections:ge,storageKey:null},{alias:null,args:null,concreteType:"ApiWatchNowCallToAction",kind:"LinkedField",name:"watch_now",plural:!1,selections:ge,storageKey:null},{alias:null,args:null,concreteType:"ApiAppInstallCallToAction",kind:"LinkedField",name:"app_install",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"play_store_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"app_store_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ipad_app_store_id",storageKey:null}],storageKey:null}],storageKey:null},Zl={alias:null,args:null,kind:"ScalarField",name:"monetizable",storageKey:null},ea={alias:null,args:null,concreteType:"ApiMediaInfo360",kind:"LinkedField",name:"ext_info360",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is360",storageKey:null}],storageKey:null},la={alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"ext_media_color",plural:!1,selections:pl,storageKey:null},aa={alias:"mediaStats",args:null,concreteType:"ApiMediaEngagementInfo",kind:"LinkedField",name:"ext_media_stats",plural:!1,selections:[{alias:"viewCount",args:null,kind:"ScalarField",name:"view_count",storageKey:null}],storageKey:null},na={alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},ta={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},sa={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"copyright_holder_name",storageKey:null}],type:"ApiMediaUnavailabilityInfoCopyrightViolation",abstractKey:null},ia={alias:null,args:null,concreteType:"ApiMediaAvailability",kind:"LinkedField",name:"ext_media_availability",plural:!1,selections:[na,ta,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unavailability_info",plural:!1,selections:[sa],storageKey:null}],storageKey:null},ra={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},oa={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},ca={alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},da={alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},ua=[{alias:null,args:null,concreteType:"ApiMediaEntityFace",kind:"LinkedField",name:"faces",plural:!0,selections:[ra,oa,ca,da],storageKey:null}],ma={alias:null,args:null,concreteType:"ApiMediaEntityFeatures",kind:"LinkedField",name:"features",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityTags",kind:"LinkedField",name:"all",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityTag",kind:"LinkedField",name:"tags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},E,R,re],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"large",plural:!1,selections:ua,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"medium",plural:!1,selections:ua,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"small",plural:!1,selections:ua,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"orig",plural:!1,selections:ua,storageKey:null}],storageKey:null},ga={alias:null,args:null,concreteType:"SensitiveMediaWarning",kind:"LinkedField",name:"sensitive_media_warning",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"adult_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"graphic_violence",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"other",storageKey:null}],storageKey:null},pa=[ca,da,{alias:null,args:null,kind:"ScalarField",name:"resize",storageKey:null}],ya={alias:null,args:null,concreteType:"ApiMediaEntitySizes",kind:"LinkedField",name:"sizes",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"large",plural:!1,selections:pa,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"medium",plural:!1,selections:pa,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"small",plural:!1,selections:pa,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"thumb",plural:!1,selections:pa,storageKey:null}],storageKey:null},_a={alias:null,args:null,concreteType:"ApiMediaEntityOriginalInfo",kind:"LinkedField",name:"original_info",plural:!1,selections:[Q,G,{alias:null,args:null,concreteType:"ApiMediaEntityFocusRect",kind:"LinkedField",name:"focus_rects",plural:!0,selections:[ra,oa,da,ca],storageKey:null}],storageKey:null},ha={alias:null,args:null,concreteType:"ApiMediaEntityVideoInfo",kind:"LinkedField",name:"video_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null},Z,{alias:null,args:null,concreteType:"ApiMediaEntityVideoVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bitrate",storageKey:null},ae,P],storageKey:null}],storageKey:null},ka={alias:null,args:null,concreteType:"ApiMentionEntity",kind:"LinkedField",name:"user_mentions",plural:!0,selections:[oe,E,R,O],storageKey:null},va=[O,x],ba={alias:null,args:null,concreteType:"ApiTagEntity",kind:"LinkedField",name:"hashtags",plural:!0,selections:va,storageKey:null},Fa={alias:null,args:null,concreteType:"ApiTagEntity",kind:"LinkedField",name:"symbols",plural:!0,selections:va,storageKey:null},fa={alias:null,args:null,kind:"ScalarField",name:"favorite_count",storageKey:null},Ta={alias:null,args:null,kind:"ScalarField",name:"favorited",storageKey:null},Ka={alias:null,args:null,kind:"ScalarField",name:"full_text",storageKey:null},Sa={alias:null,args:null,concreteType:"ApiGeoFeature",kind:"LinkedField",name:"geo",plural:!1,selections:Vl,storageKey:null},Ea={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_screen_name",storageKey:null},La={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_status_id_str",storageKey:null},Ia={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_user_id_str",storageKey:null},Ra={alias:null,args:null,kind:"ScalarField",name:"is_quote_status",storageKey:null},Ca={alias:null,args:null,kind:"ScalarField",name:"lang",storageKey:null},wa={alias:null,args:null,kind:"ScalarField",name:"limited_actions",storageKey:null},Ma={alias:null,args:null,kind:"ScalarField",name:"possibly_sensitive_editable",storageKey:null},xa=[g],Aa={alias:null,args:null,concreteType:"ApiPlace",kind:"LinkedField",name:"place",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiGeoAttributes",kind:"LinkedField",name:"attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"factual_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iso3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"locality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"street_address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"twitter",storageKey:null},P],storageKey:null},{alias:"bounding_box",args:null,concreteType:"ApiGeoPolygon",kind:"LinkedField",name:"bounding_box_polygon",plural:!1,selections:[Bl,re],storageKey:null},{alias:null,args:null,concreteType:"ApiPlace",kind:"LinkedField",name:"contained_within",plural:!0,selections:xa,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},E,g,{alias:null,args:null,kind:"ScalarField",name:"place_type",storageKey:null},P],storageKey:null},Da={alias:null,args:null,concreteType:"ApiTweetPromotedContent",kind:"LinkedField",name:"promoted_content",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"disclosure_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"impression_id",storageKey:null}],storageKey:null},Oa={alias:null,args:null,kind:"ScalarField",name:"quote_count",storageKey:null},Pa={alias:null,args:null,kind:"ScalarField",name:"quoted_status_id_str",storageKey:null},Ua={alias:null,args:null,concreteType:"ApiShortenedUrl",kind:"LinkedField",name:"quoted_status_permalink",plural:!1,selections:[P,{alias:null,args:null,kind:"ScalarField",name:"expanded",storageKey:null},xl],storageKey:null},Ha={alias:null,args:null,kind:"ScalarField",name:"reply_count",storageKey:null},qa={alias:null,args:null,kind:"ScalarField",name:"retweet_count",storageKey:null},Na={alias:null,args:null,kind:"ScalarField",name:"retweeted",storageKey:null},ja={alias:null,args:null,concreteType:"ApiScopes",kind:"LinkedField",name:"scopes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"followers",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"place_ids",storageKey:null}],storageKey:null},Wa={alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null},Ba={alias:null,args:null,kind:"ScalarField",name:"supplemental_language",storageKey:null},Va={alias:null,args:null,kind:"ScalarField",name:"user_id_str",storageKey:null},za={alias:null,args:null,kind:"ScalarField",name:"withheld_text",storageKey:null},Qa={alias:null,args:null,concreteType:"ApiSelfThreadMetadata",kind:"LinkedField",name:"self_thread",plural:!1,selections:[oe],storageKey:null},Ga={condition:"withMessageQueryHighlights",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"DMHighlighting",kind:"LinkedField",name:"highlighting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"query_tokens",storageKey:null}],storageKey:null}]},Ya={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null},$a=[{kind:"Variable",name:"cursor",variableName:"cursor"},d,u],Xa={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},Ja=[W],Za=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[g,m,C,Xa],type:"User",abstractKey:null}],storageKey:null},g],en=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[Ie,Xa,m,g],type:"User",abstractKey:null},we],storageKey:null},g],ln={alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[ke,ve,be,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[q,{kind:"TypeDiscriminator",abstractKey:"__isTimelineReferenceObject"},Fe,Te,Ke,Se,Le,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:en,storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[R,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:en,storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},an=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[g,m,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[me,pe,ye,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[_e,he,x,ln],storageKey:null},Ae],storageKey:null}],storageKey:null},Oe,Pe,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[Ue,He,qe,Ne,je,We,Be,ye,Ge,Ye,$e,Xe,Je,Ze,el,ll,al,nl,tl,sl,il,rl,ol,E,cl,dl,ul,ml,gl,_l,hl,kl,vl,bl,Fl,R,fl,Tl,Kl,P,Sl,El,Ll,Il,Rl,Cl,wl],storageKey:null},Xa,{alias:null,args:null,concreteType:"Professional",kind:"LinkedField",name:"professional",plural:!1,selections:[m,Ml,Al,g],storageKey:null},Ol,Pl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Ce,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[_e,ln,he,x],storageKey:null},Re],type:"UserUnavailable",abstractKey:null}],storageKey:null},g],nn={alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[m,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[ce,de,E,P,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_refs_results",plural:!0,selections:an,storageKey:null}],storageKey:null},g],storageKey:null},tn=[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:an,storageKey:null}],sn=[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[A,D,Gl,oe,O,j,Yl,gl,$l,Xl,re,P,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[Ee,ye,Jl,ee,Zl,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:tn,storageKey:null}],storageKey:null},ea,la,aa,{alias:null,args:null,concreteType:"ApiMediaAvailability",kind:"LinkedField",name:"ext_media_availability",plural:!1,selections:[na,ta,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unavailability_info",plural:!1,selections:[q,sa],storageKey:null}],storageKey:null},ma,ga,ya,_a,ha],storageKey:null},ka,Ve,ba,Fa],{fragment:{argumentDefinitions:[n,t,s,i,r,o,c],kind:"Fragment",metadata:null,name:"evolutionDMMessageSearchTabQuery",selections:[{alias:"dm_message_slice_result",args:[d,u],concreteType:null,kind:"LinkedField",name:"__evolutionDMMessageSearchTabQuery_dm_message_slice_result_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[m,g,{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[p,y,_,h,k,{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"conversation",plural:!1,selections:[v,{args:null,kind:"FragmentSpread",name:"evolutionDMInboxItem"},b],storageKey:null},{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[F,f,T,K,S,E,L,I,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:w,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"participants_snapshot_results",plural:!0,selections:w,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:w,storageKey:null},{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[M,g,x,{condition:"withAttachments",kind:"Condition",passingValue:!0,selections:[H,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[q,te,{kind:"InlineFragment",selections:[N,{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[m,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[ce,de,E,P,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_refs_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[g,m,De,Oe,Pe,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ue,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.blocked_by"},{kind:"RequiredField",field:He,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.blocking"},qe,Ne,je,We,Be,ye,Ge,Ye,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.favourites_count"},{kind:"RequiredField",field:Xe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.follow_request_sent"},Je,{kind:"RequiredField",field:Ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.followed_by"},{kind:"RequiredField",field:el,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.followers_count"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.following"},{kind:"RequiredField",field:al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.friends_count"},nl,tl,sl,il,{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.media_count"},ol,E,cl,dl,ul,ml,gl,_l,hl,kl,vl,bl,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.protected"},R,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.statuses_count"},Tl,Kl,P,Sl,{kind:"RequiredField",field:El,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.verified"},Ll,Il,Rl,Cl,wl],storageKey:null},Dl,Ol,Pl],type:"User",abstractKey:null},Ul],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[N,{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[q,g,m,{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[m,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[ce,de,E,P,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_refs_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[g,m,De,Oe,Pe,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ue,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.blocked_by"},{kind:"RequiredField",field:He,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.blocking"},qe,Ne,je,We,Be,ye,Ge,Ye,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.favourites_count"},{kind:"RequiredField",field:Xe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.follow_request_sent"},Je,{kind:"RequiredField",field:Ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.followed_by"},{kind:"RequiredField",field:el,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.followers_count"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.following"},{kind:"RequiredField",field:al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.friends_count"},nl,tl,sl,il,{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.media_count"},ol,E,cl,dl,ul,ml,gl,_l,hl,kl,vl,bl,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.protected"},R,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.statuses_count"},Tl,Kl,P,Sl,{kind:"RequiredField",field:El,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.verified"},Ll,Il,Rl,Cl,wl],storageKey:null},Dl,Ol,Pl],type:"User",abstractKey:null},Ul],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LegacyTweet",kind:"LinkedField",name:"legacy",plural:!1,selections:[Hl,je,{alias:null,args:null,concreteType:"ApiConversationControl",kind:"LinkedField",name:"conversation_control",plural:!1,selections:[ql,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"conversation_owner",plural:!1,selections:[Ie],storageKey:null},Nl],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collab_control",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborators_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[g,m,De,Oe,Pe,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ue,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.blocked_by"},{kind:"RequiredField",field:He,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.blocking"},qe,Ne,je,We,Be,ye,Ge,Ye,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.favourites_count"},{kind:"RequiredField",field:Xe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.follow_request_sent"},Je,{kind:"RequiredField",field:Ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.followed_by"},{kind:"RequiredField",field:el,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.followers_count"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.following"},{kind:"RequiredField",field:al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.friends_count"},nl,tl,sl,il,{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.media_count"},ol,E,cl,dl,ul,ml,gl,_l,hl,kl,vl,bl,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.protected"},R,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.statuses_count"},Tl,Kl,P,Sl,{kind:"RequiredField",field:El,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.verified"},Ll,Il,Rl,Cl,wl],storageKey:null},Dl,Ol,Pl],type:"User",abstractKey:null},Ul],storageKey:null}],storageKey:null}],type:"CollabTweet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InvitedCollaborator",kind:"LinkedField",name:"invited_collaborators",plural:!0,selections:[jl,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborator_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[g,m,De,Oe,Pe,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ue,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.blocked_by"},{kind:"RequiredField",field:He,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.blocking"},qe,Ne,je,We,Be,ye,Ge,Ye,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.favourites_count"},{kind:"RequiredField",field:Xe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.follow_request_sent"},Je,{kind:"RequiredField",field:Ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.followed_by"},{kind:"RequiredField",field:el,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.followers_count"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.following"},{kind:"RequiredField",field:al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.friends_count"},nl,tl,sl,il,{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.media_count"},ol,E,cl,dl,ul,ml,gl,_l,hl,kl,vl,bl,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.protected"},R,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.statuses_count"},Tl,Kl,P,Sl,{kind:"RequiredField",field:El,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.verified"},Ll,Il,Rl,Cl,wl],storageKey:null},Dl,Ol,Pl],type:"User",abstractKey:null},Ul],storageKey:null}],storageKey:null}],storageKey:null}],type:"CollabInvitation",abstractKey:null}],storageKey:null},Wl,zl,Ql,{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[A,D,Gl,oe,O,j,Yl,gl,$l,Xl,re,P,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[Ee,ye,Jl,ee,Zl,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[g,m,De,Oe,Pe,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ue,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:He,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.blocking"},qe,Ne,je,We,Be,ye,Ge,Ye,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:Xe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.follow_request_sent"},Je,{kind:"RequiredField",field:Ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:el,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.following"},{kind:"RequiredField",field:al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.friends_count"},nl,tl,sl,il,{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.media_count"},ol,E,cl,dl,ul,ml,gl,_l,hl,kl,vl,bl,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.protected"},R,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.statuses_count"},Tl,Kl,P,Sl,{kind:"RequiredField",field:El,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.verified"},Ll,Il,Rl,Cl,wl],storageKey:null},Dl,Ol,Pl],type:"User",abstractKey:null},Ul],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},ea,la,aa,ia,ma,ga,ya,_a,ha],storageKey:null},ka,Ve,ba,Fa],storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"extended_entities",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[A,D,Gl,oe,O,j,Yl,gl,$l,Xl,re,P,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[Ee,ye,Jl,ee,Zl,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[g,m,De,Oe,Pe,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ue,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:He,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.blocking"},qe,Ne,je,We,Be,ye,Ge,Ye,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:Xe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.follow_request_sent"},Je,{kind:"RequiredField",field:Ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:el,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.following"},{kind:"RequiredField",field:al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.friends_count"},nl,tl,sl,il,{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.media_count"},ol,E,cl,dl,ul,ml,gl,_l,hl,kl,vl,bl,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.protected"},R,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.statuses_count"},Tl,Kl,P,Sl,{kind:"RequiredField",field:El,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.verified"},Ll,Il,Rl,Cl,wl],storageKey:null},Dl,Ol,Pl],type:"User",abstractKey:null},Ul],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},ea,la,aa,ia,ma,ga,ya,_a,ha],storageKey:null},ka,Ve,ba,Fa],storageKey:null},{kind:"RequiredField",field:fa,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.favorite_count"},{kind:"RequiredField",field:Ta,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.favorited"},Ka,Sa,Ea,La,Ia,Ra,Ca,wa,gl,Ma,Aa,Da,Oa,Pa,Ua,{kind:"RequiredField",field:Ha,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.reply_count"},{kind:"RequiredField",field:qa,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.retweet_count"},{kind:"RequiredField",field:Na,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.retweeted"},ja,Wa,Ba,Va,wl,oe,za,Qa],storageKey:null},{alias:null,args:null,concreteType:"TweetCore",kind:"LinkedField",name:"core",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[g,m,De,Oe,Pe,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ue,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:He,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.blocking"},qe,Ne,je,We,Be,ye,Ge,Ye,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:Xe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.follow_request_sent"},Je,{kind:"RequiredField",field:Ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:el,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.following"},{kind:"RequiredField",field:al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.friends_count"},nl,tl,sl,il,{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.media_count"},ol,E,cl,dl,ul,ml,gl,_l,hl,kl,vl,bl,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.protected"},R,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.statuses_count"},Tl,Kl,P,Sl,{kind:"RequiredField",field:El,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.verified"},Ll,Il,Rl,Cl,wl],storageKey:null},Dl,Ol,Pl],type:"User",abstractKey:null},Ul],storageKey:null}],storageKey:null}],storageKey:null},{alias:"quotedRefResult",args:null,concreteType:"TweetResults",kind:"LinkedField",name:"quoted_tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[m],type:"Tweet",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Tweet",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"recipient_results",plural:!1,selections:w,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:w,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Ga],type:"DMMessageSearchItem",abstractKey:null}],storageKey:null},Ya],type:"DMMessageSlice",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,s,r,c,o,i],kind:"Operation",name:"evolutionDMMessageSearchTabQuery",selections:[{alias:null,args:$a,concreteType:null,kind:"LinkedField",name:"dm_message_slice_result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[q,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[m,g,{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[p,y,_,h,k,{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"conversation",plural:!1,selections:[v,g,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[q,{kind:"InlineFragment",selections:[B,V,z],type:"ApiImage",abstractKey:null}],storageKey:null},g],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[oe,vl,R,E,Fl,El],storageKey:null},Xa,g,m],type:"User",abstractKey:null}],storageKey:null},g],storageKey:null}],storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},E],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"count",value:20}],concreteType:null,kind:"LinkedField",name:"conversation_slice",plural:!1,selections:[q,{kind:"TypeDiscriminator",abstractKey:"__isDMEventSliceResult"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEventResults",kind:"LinkedField",name:"dm_event_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[q,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"audio",plural:!1,selections:xa,storageKey:null}],type:"DMAudioAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:xa,storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[q,{kind:"InlineFragment",selections:Ja,type:"ApiGif",abstractKey:null},{kind:"InlineFragment",selections:Ja,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:Ja,storageKey:null}],type:"ApiVideo",abstractKey:null}],storageKey:null},g],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:xa,storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null},x],storageKey:null},E,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[oe,E],storageKey:null},Xa,g],type:"User",abstractKey:null}],storageKey:null},g],storageKey:null},T],storageKey:null},h,k,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[C,Xa,g],type:"User",abstractKey:null}],storageKey:null},g],storageKey:null},y],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"reactions",plural:!1,selections:[q,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMReaction",kind:"LinkedField",name:"items",plural:!0,selections:[y,{alias:null,args:null,kind:"ScalarField",name:"reaction_key",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[m,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[E],storageKey:null},Xa,g],type:"User",abstractKey:null}],storageKey:null},g],storageKey:null}],storageKey:null}],type:"DMReactionSlice",abstractKey:null}],storageKey:null},m,g],type:"DMEvent",abstractKey:null}],storageKey:null},g],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:"conversation_slice(count:20)"},{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null}],storageKey:null},b],storageKey:null},{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[F,f,T,K,S,E,L,I,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:Za,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"participants_snapshot_results",plural:!0,selections:Za,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:Za,storageKey:null},{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[M,g,x,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"recipient_results",plural:!1,selections:Za,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:Za,storageKey:null},{condition:"withAttachments",kind:"Condition",passingValue:!0,selections:[H,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[q,te,{kind:"InlineFragment",selections:[N,nn],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[N,{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[g,m,nn,{alias:null,args:null,concreteType:"LegacyTweet",kind:"LinkedField",name:"legacy",plural:!1,selections:[Hl,je,{alias:null,args:null,concreteType:"ApiConversationControl",kind:"LinkedField",name:"conversation_control",plural:!1,selections:[ql,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"conversation_owner",plural:!1,selections:[Ie,Xa,g],storageKey:null},Nl],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collab_control",plural:!1,selections:[q,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborators_results",plural:!0,selections:an,storageKey:null}],type:"CollabTweet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InvitedCollaborator",kind:"LinkedField",name:"invited_collaborators",plural:!0,selections:[jl,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborator_results",plural:!1,selections:an,storageKey:null}],storageKey:null}],type:"CollabInvitation",abstractKey:null}],storageKey:null},Wl,zl,Ql,{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:sn,storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"extended_entities",plural:!1,selections:sn,storageKey:null},fa,Ta,Ka,Sa,Ea,La,Ia,Ra,Ca,wa,gl,Ma,Aa,Da,Oa,Pa,Ua,Ha,qa,Na,ja,Wa,Ba,Va,wl,oe,za,Qa],storageKey:null},Xa,{alias:null,args:null,concreteType:"TweetCore",kind:"LinkedField",name:"core",plural:!1,selections:tn,storageKey:null},{alias:"quotedRefResult",args:null,concreteType:"TweetResults",kind:"LinkedField",name:"quoted_tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[m,g],type:"Tweet",abstractKey:null}],storageKey:null},g],storageKey:null}],type:"Tweet",abstractKey:null}],storageKey:null},g],storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Ga],type:"DMMessageSearchItem",abstractKey:null}],storageKey:null},Ya],type:"DMMessageSlice",abstractKey:null}],storageKey:null},{alias:null,args:$a,filters:["query","s"],handle:"slice",key:"evolutionDMMessageSearchTabQuery_dm_message_slice_result",kind:"LinkedHandle",name:"dm_message_slice_result"}]},params:{id:"xBraxGlibRn3HElYnYFBeA",metadata:{sliceInfoPath:["dm_message_slice_result","slice_info"]},name:"evolutionDMMessageSearchTabQuery",operationKind:"query",text:null}});rn.hash="e875db223ca299c3a0a297710bc839f2",e.exports=rn},YePD:function(e,l,a){"use strict";var n,t,s,i,r,o,c,d,u,m,g,p,y,_,h,k,v,b,F={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"query"},{defaultValue:null,kind:"LocalArgument",name:"withConversationQueryHighlights"}],kind:"Fragment",metadata:null,name:"evolutionDMConversationSearchTabPeopleQuery",selections:[{alias:"dm_people_convo_slice_result",args:[t={kind:"Variable",name:"query",variableName:"query"},s={kind:"Literal",name:"s",value:"6f10"}],concreteType:null,kind:"LinkedField",name:"__evolutionDMConversationSearchTabPeopleQuery_dm_people_convo_slice_result_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMPeopleConvoSearchItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"dm_convo_search",plural:!1,selections:[i={alias:null,args:null,concreteType:"DMConversationLabelInfo",kind:"LinkedField",name:"labels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"evolutionDMInboxItem"},r={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},o={condition:"withConversationQueryHighlights",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"DMHighlighting",kind:"LinkedField",name:"highlighting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"query_tokens",storageKey:null}],storageKey:null}]}],storageKey:null},c={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null}],type:"DmPeopleConvoSlice",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"evolutionDMConversationSearchTabPeopleQuery",selections:[{alias:null,args:d=[{kind:"Variable",name:"cursor",variableName:"cursor"},t,s],concreteType:null,kind:"LinkedField",name:"dm_people_convo_slice_result",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMPeopleConvoSearchItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"dm_convo_search",plural:!1,selections:[i,m={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[u,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null},m],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[u,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[g={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"protected",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},_={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},m,h={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},m],storageKey:null}],storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},y],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"count",value:20}],concreteType:null,kind:"LinkedField",name:"conversation_slice",plural:!1,selections:[u,{kind:"TypeDiscriminator",abstractKey:"__isDMEventSliceResult"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEventResults",kind:"LinkedField",name:"dm_event_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[u,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[u,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"audio",plural:!1,selections:k=[m],storageKey:null}],type:"DMAudioAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:k,storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[u,{kind:"InlineFragment",selections:v=[{alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null}],type:"ApiGif",abstractKey:null},{kind:"InlineFragment",selections:v,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:v,storageKey:null}],type:"ApiVideo",abstractKey:null}],storageKey:null},m],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:k,storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},y,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[u,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[g,y],storageKey:null},_,m],type:"User",abstractKey:null}],storageKey:null},m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[h,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[u,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[y,p],storageKey:null},_,m],type:"User",abstractKey:null}],storageKey:null},m],storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"reactions",plural:!1,selections:[u,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMReaction",kind:"LinkedField",name:"items",plural:!0,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"reaction_key",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[u,{kind:"InlineFragment",selections:[h,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[y],storageKey:null},_,m],type:"User",abstractKey:null}],storageKey:null},m],storageKey:null}],storageKey:null}],type:"DMReactionSlice",abstractKey:null}],storageKey:null},h,m],type:"DMEvent",abstractKey:null}],storageKey:null},m],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:"conversation_slice(count:20)"},{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null}],storageKey:null},r],storageKey:null},o],storageKey:null},c],type:"DmPeopleConvoSlice",abstractKey:null}],storageKey:null},{alias:null,args:d,filters:["query","s"],handle:"slice",key:"evolutionDMConversationSearchTabPeopleQuery_dm_people_convo_slice_result",kind:"LinkedHandle",name:"dm_people_convo_slice_result"}]},params:{id:"PMTCRjntjEssRRwk5s9ezg",metadata:{sliceInfoPath:["dm_people_convo_slice_result","slice_info"]},name:"evolutionDMConversationSearchTabPeopleQuery",operationKind:"query",text:null}};F.hash="fa59bac504d4213320888db65abf96d8",e.exports=F},YemM:function(e,l,a){"use strict";const n=a("rHpw").a.create((e=>({root:{backgroundColor:e.colors.cellBackground,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space16,width:"100%"},rootMessageAttachment:{paddingVertical:`calc(${e.spaces.space2} + ${e.spaces.space8})`},active:{backgroundColor:e.colors.gray0},avatarCellContainer:{flexGrow:1,maxWidth:e.spaces.space32,marginRight:`calc(${e.spaces.space2} + ${e.spaces.space8})`,minWidth:e.spaces.space32},bodyColumn:{flexDirection:"row"},inlineTimestamp:{flexDirection:"row"},inlineTimestampVDL:{flexDirection:"row",alignItems:"center"},messageSearchTitleContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},titleContainer:{flex:1},inlineNotificationsDisabledIcon:{paddingLeft:`calc(${e.spaces.space2} * 3)`,color:e.colors.gray700},inlineNotificationsDisabledIconVDL:{width:e.spaces.space16,height:e.spaces.space16},hiddenMenu:{opacity:0,overflow:"hidden",width:0},menu:{alignSelf:"flex-start"},menuContainer:{height:0,marginLeft:`calc(${e.spaces.space8} + ${e.spaces.space2})`},messageSearchResultMenuContainer:{height:"100%",marginLeft:`calc(${e.spaces.space8} + ${e.spaces.space2})`},notificationsDisabledIcon:{alignSelf:"flex-end",color:e.colors.gray700,paddingTop:e.spaces.space4},unreadMessagePip:{backgroundColor:e.colors.blue500,marginTop:`calc(${e.spaces.space8} - ${e.spaces.space1})`,height:e.baseFontSize-5,width:e.baseFontSize-5},unreadMessagePipMessageSearchResult:{marginTop:0,top:`calc(-3 * ${e.spaces.space2} + ${e.spaces.space1})`},vdlXButton:{border:"none",marginLeft:`calc(${e.spaces.space8} + ${e.spaces.space2})`,marginRight:`calc(-1 * ${e.spaces.space4})`,marginTop:`calc(-1 * (${e.spaces.space8} - ${e.spaces.space1}))`},xButton:{alignSelf:"center",marginRight:`calc(-1 * ${e.spaces.space4})`},xIcon:{height:`calc(${e.spaces.space28} - ${e.spaces.space1})`,width:`calc(${e.spaces.space28} - ${e.spaces.space1})`},trashcanIcon:{color:e.colors.gray700},snippet:{maxHeight:e.spaces.space40,overflow:"hidden"},snippetPadding:{paddingRight:`calc(${e.spaces.space28} + ${e.spaces.space1} * 0.75)`},unread:{backgroundColor:e.colors.unreadCellBackground},socialProofContainer:{marginTop:e.spaces.space4},socialProofText:{marginLeft:0},convoLabelIcon:{marginRight:e.spaces.space4},endCell:{marginLeft:e.spaces.space16}})));l.a=n},Yjwz:function(e,l,a){"use strict";a.d(l,"a",(function(){return m}));var n=a("ERkP"),t=a.n(n),s=a("t62R"),i=a("qqsb"),r=a.n(i),o=a("v6aA"),c=a("4n2h"),d=a("33Kz"),u=a("pHkl");function m({isGroupDM:e,isSelected:l,messageScreenName:a,messageText:n,perspective:i,reacterId:m,reacterName:g,reactionKey:p,type:y,unread:_}){const{featureSwitches:h}=t.a.useContext(o.a),k=i===m,v=Object(d.b)(p,h),b=Object(c.b)(_),F=Object(c.a)(_,l);let f;return f=y===u.h.TWEET?e?((e,l,a,n)=>e?t.a.createElement(r.a.I18NFormatMessage,{$i18n:"c4202785"},t.a.createElement(s.b,null,a),t.a.createElement(s.b,null,n)):t.a.createElement(r.a.I18NFormatMessage,{$i18n:"b493a891"},t.a.createElement(s.b,null,l),t.a.createElement(s.b,null,a),t.a.createElement(s.b,null,n)))(k,g,a,v):((e,l,a)=>e?t.a.createElement(r.a.I18NFormatMessage,{$i18n:"ca684bf5"},t.a.createElement(s.b,null,a)):t.a.createElement(r.a.I18NFormatMessage,{$i18n:"h5797be5"},t.a.createElement(s.b,null,l),t.a.createElement(s.b,null,a)))(k,g,v):y===u.h.VIDEO?e?((e,l,a,n)=>e?t.a.createElement(r.a.I18NFormatMessage,{$i18n:"d1f8bdd9"},t.a.createElement(s.b,null,a),t.a.createElement(s.b,null,n)):t.a.createElement(r.a.I18NFormatMessage,{$i18n:"d764af97"},t.a.createElement(s.b,null,l),t.a.createElement(s.b,null,a),t.a.createElement(s.b,null,n)))(k,g,a,v):((e,l,a)=>e?t.a.createElement(r.a.I18NFormatMessage,{$i18n:"ab1cdfe3"},t.a.createElement(s.b,null,a)):t.a.createElement(r.a.I18NFormatMessage,{$i18n:"f0cf1699"},t.a.createElement(s.b,null,l),t.a.createElement(s.b,null,a)))(k,g,v):y===u.h.PHOTO?e?((e,l,a,n)=>e?t.a.createElement(r.a.I18NFormatMessage,{$i18n:"hec0fd4d"},t.a.createElement(s.b,null,a),t.a.createElement(s.b,null,n)):t.a.createElement(r.a.I18NFormatMessage,{$i18n:"j55320df"},t.a.createElement(s.b,null,l),t.a.createElement(s.b,null,a),t.a.createElement(s.b,null,n)))(k,g,a,v):((e,l,a)=>e?t.a.createElement(r.a.I18NFormatMessage,{$i18n:"jf27606b"},t.a.createElement(s.b,null,a)):t.a.createElement(r.a.I18NFormatMessage,{$i18n:"cd110359"},t.a.createElement(s.b,null,l),t.a.createElement(s.b,null,a)))(k,g,v):y===u.h.GIF?e?((e,l,a,n)=>e?t.a.createElement(r.a.I18NFormatMessage,{$i18n:"e70dcc35"},t.a.createElement(s.b,null,a),t.a.createElement(s.b,null,n)):t.a.createElement(r.a.I18NFormatMessage,{$i18n:"g1bf440b"},t.a.createElement(s.b,null,l),t.a.createElement(s.b,null,a),t.a.createElement(s.b,null,n)))(k,g,a,v):((e,l,a)=>e?t.a.createElement(r.a.I18NFormatMessage,{$i18n:"b2da1bf9"},t.a.createElement(s.b,null,a)):t.a.createElement(r.a.I18NFormatMessage,{$i18n:"g84c0421"},t.a.createElement(s.b,null,l),t.a.createElement(s.b,null,a)))(k,g,v):y===u.h.CARD?e?((e,l,a,n)=>e?t.a.createElement(r.a.I18NFormatMessage,{$i18n:"cd2e7c19"},t.a.createElement(s.b,null,a),t.a.createElement(s.b,null,n)):t.a.createElement(r.a.I18NFormatMessage,{$i18n:"aee9e7fb"},t.a.createElement(s.b,null,l),t.a.createElement(s.b,null,a),t.a.createElement(s.b,null,n)))(k,g,a,v):((e,l,a)=>e?t.a.createElement(r.a.I18NFormatMessage,{$i18n:"f9fb1cf7"},t.a.createElement(s.b,null,a)):t.a.createElement(r.a.I18NFormatMessage,{$i18n:"f2bf910f"},t.a.createElement(s.b,null,l),t.a.createElement(s.b,null,a)))(k,g,v):y===u.h.TEXT?e?((e,l,a,n,i)=>e?t.a.createElement(r.a.I18NFormatMessage,{$i18n:"i6cec545"},t.a.createElement(s.b,null,n),t.a.createElement(s.b,null,a),t.a.createElement(s.b,null,i)):t.a.createElement(r.a.I18NFormatMessage,{$i18n:"d6998bab"},t.a.createElement(s.b,null,l),t.a.createElement(s.b,null,n),t.a.createElement(s.b,null,a),t.a.createElement(s.b,null,i)))(k,g,v,a,n):((e,l,a,n)=>e?t.a.createElement(r.a.I18NFormatMessage,{$i18n:"cec676f3"},t.a.createElement(s.b,null,a),t.a.createElement(s.b,null,n)):t.a.createElement(r.a.I18NFormatMessage,{$i18n:"a2706f9b"},t.a.createElement(s.b,null,l),t.a.createElement(s.b,null,a),t.a.createElement(s.b,null,n)))(k,g,v,n):y===u.h.VOICE?e?((e,l,a,n)=>e?t.a.createElement(r.a.I18NFormatMessage,{$i18n:"ff973a65"},t.a.createElement(s.b,null,a),t.a.createElement(s.b,null,n)):t.a.createElement(r.a.I18NFormatMessage,{$i18n:"ec2cede5"},t.a.createElement(s.b,null,l),t.a.createElement(s.b,null,a),t.a.createElement(s.b,null,n)))(k,g,a,v):((e,l,a)=>e?t.a.createElement(r.a.I18NFormatMessage,{$i18n:"i1d08199"},t.a.createElement(s.b,null,a)):t.a.createElement(r.a.I18NFormatMessage,{$i18n:"d424b45f"},t.a.createElement(s.b,null,l),t.a.createElement(s.b,null,a)))(k,g,v):((e,l,a)=>e?t.a.createElement(r.a.I18NFormatMessage,{$i18n:"d6b15bbf"},t.a.createElement(s.b,null,a)):t.a.createElement(r.a.I18NFormatMessage,{$i18n:"ac0d4bc7"},t.a.createElement(s.b,null,l),t.a.createElement(s.b,null,a)))(k,g,v),t.a.createElement(s.b,{color:F,numberOfLines:1,weight:b},f)}},ZH9U:function(e,l,a){"use strict";var n,t,s={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"conversation_id"},{defaultValue:null,kind:"LocalArgument",name:"label"}],kind:"Fragment",metadata:null,name:"DMPinnedInboxAppend_Mutation",selections:t=[{alias:null,args:[{kind:"Variable",name:"conversation_id",variableName:"conversation_id"},{kind:"Variable",name:"label",variableName:"label"},{kind:"Literal",name:"s",value:"cb61"}],concreteType:null,kind:"LinkedField",name:"add_dm_conversation_label_v3",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],type:"DMConversationLabelInfo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"failure_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],type:"DMConversationLabelUnavailable",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"DMPinnedInboxAppend_Mutation",selections:t},params:{id:"o0aymgGiJY-53Y52YSUGVA",metadata:{},name:"DMPinnedInboxAppend_Mutation",operationKind:"mutation",text:null}};s.hash="86e5601441f8d07b68ccbcf112746d23",e.exports=s},ZYFu:function(e,l,a){"use strict";a("kYxP");var n=a("ERkP"),t=a.n(n),s=a("MWbm"),i=a("Znyr"),r=a("t62R"),o=a("0PHd"),c=a("yrzJ"),d=a("Xrkv"),u=a("cTG8"),m=a("GBcw"),g=a("cm6r"),p=a("htQn"),y=a("5mJL"),_=a("IpT4"),h=a("Myq3"),k=a("v6aA"),v=a("3wZR"),b=a("XnpN"),F=a("Irs7"),f=a("MMRb"),T=a("aWyx"),K=a("AQ79"),S=a("aA19"),E=a("OhSZ"),L=a("fQBn"),I=a("pHkl"),R=a("X/yg"),C=a("hqKg"),w=a("0KEI"),M=a("AQOc"),x=a("oEGd"),A=a("xZGM"),D=a("1YZw"),O=a("G6rE");const P=(e,l)=>l.conversationId,U=Object(C.createSelector)(P,((e,l)=>f.selectConversation(e,P(0,l))),f.selectEntries,O.e.selectAll,((e,l)=>!f.selectConversationIsRead(e,P(0,l))),((e,l)=>{const a=P(0,l);return Object(f.selectInboxTypeByConversation)(e,a)}),((e,l)=>Object(A.I)(e,A.u)),((e,l,a,n,t,s,i)=>({conversation:(null==l?void 0:l.data)&&Object(M.a)(l.data,a,n),conversationId:e,unread:t,inboxType:s,shouldShowPinnedEducation:i}))),H={addFlag:A.E,addRecentSearch:f.addRecentSearches,addToast:D.b,block:O.e.block,createLocalApiErrorHandler:Object(w.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_INBOX_ITEM"),disableNotifications:f.disableNotifications,enableNotifications:f.enableNotifications,leaveConversation:f.leaveConversation,muteDMUser:f.muteDMUser,unmuteDMUser:f.unmuteDMUser,unblock:O.e.unblock};var q=Object(x.f)(U,H),N=a("VcIV"),j=a("YemM"),W=a("QgXh"),B=a("a9QA"),V=a("8hvq");const z=({children:e})=>t.a.createElement(s.a,{style:j.a.socialProofContainer},e);class Q extends t.a.Component{constructor(...e){super(...e),this._isPinnedInboxEnabled=this.context.featureSwitches.isTrue("dm_conversation_labels_pinned_enabled")&&this.context.featureSwitches.isTrue("direct_messages_incremental_holdback_2022h1"),this._isVDLEnabled=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_inbox_p0_enabled"),this._renderAvatarCell=()=>{const{conversation:e,perspective:l}=this.props;return t.a.createElement(s.a,{style:j.a.avatarCellContainer},t.a.createElement(S.a,{conversation:e,perspective:l,size:"large",withBadge:!1}))},this._renderEndCellWithMenu=(e,l,a,n)=>t.a.createElement(t.a.Fragment,null,e?t.a.createElement(s.a,{style:j.a.endCell},e):null,this._renderConversationActions({isFocused:l,isFocusedWithin:a,isHovered:n})),this._renderMenu=({isFocused:e,isFocusedWithin:l,isHovered:a})=>{const{conversation:n,conversationId:s,inboxType:i,isMessageItem:r,pinConversation:o,position:c,unpinConversation:d}=this.props;if(n&&o&&d){const u=Object(B.c)(n),m=n.notifications_disabled,g=n.participants.length||0,p=n.type===f.CONVERSATION_TYPE.GROUP?"0":this._getUserIdOfOneToOneConvo();return t.a.createElement(N.a,{conversation:n,conversationId:s,conversationType:n.type,inboxType:i,isHovered:e||l||a,isMessageSearchResult:r,isPinned:u,isSnoozed:m,participantCount:g,pinConversation:o,position:c,unpinConversation:d,userId:p})}return null},this._renderConversationActions=({isFocused:e,isFocusedWithin:l,isHovered:a})=>{const{inboxType:n}=this.props;switch(n){case K.d.PRIMARY:return this._isPinnedInboxEnabled?this._renderMenu({isFocused:e,isFocusedWithin:l,isHovered:a}):null;case K.d.SECONDARY:case K.d.TERTIARY:return this._renderX();default:return null}},this._renderConversationEndCell=e=>{const{inboxType:l,isMessageItem:a,searchQuery:n,unread:s}=this.props,r=s?t.a.createElement(i.a,{pip:!0,style:[j.a.unreadMessagePip,a&&j.a.unreadMessagePipMessageSearchResult],truncatedCountFormatter:()=>"",unreadCountLabel:()=>""}):null;switch(l){case K.d.PRIMARY:return this._isVDLEnabled?r:n?null:this._renderTimestamp(e);case K.d.SECONDARY:return this._isVDLEnabled?r:null;default:return null}},this._renderConversationLabel=({convo_label:e})=>{if(null==e||!e.text)return null;const l=Object(v.b)(e.icon);return t.a.createElement(r.b,{color:"gray700",size:"subtext2"},l?t.a.createElement(l,{style:j.a.convoLabelIcon}):null,e.text)},this._renderSocialProof=({social_proof:e})=>{if(!e||0===e.length)return null;const l=e[0];switch(l.proof_type){case T.d.MUTUAL_FRIENDS:{if(0===l.total)return null;const e=l.users.map((({profile_image_url_https:e})=>e)),a=l.users.map((({name:e})=>e));return t.a.createElement(z,null,t.a.createElement(r.b,{weight:this._isVDLEnabled?"medium":"normal"},t.a.createElement(o.a,{displayFacepileInline:!0,knownFollowersAvatarUrls:e,knownFollowersCount:l.total,knownFollowersNames:a,textStyle:this._isVDLEnabled&&j.a.socialProofText,withFacepile:!this._isVDLEnabled})))}default:return null}},this._renderSearchConversationPreview=()=>{const{conversation:e,highlightingTokens:l,perspective:a,searchQuery:n}=this.props,s=e?Object(b.a)(e,a):[],i=[],r=(e,l)=>e.localeCompare(l),o=s.map((({user:e})=>e)).filter((e=>{var l;const t=null==(l=e.name)?void 0:l.toLowerCase().includes(n);return e.id_str!==a&&(t&&i.push(e.name),!t)})).map((e=>e.name)).sort(r),m=i.sort(r).concat(o);if(e){if(e.type===f.CONVERSATION_TYPE.ONE_TO_ONE){const[e]=s.map((({user:e})=>e)),a=`@${e.screen_name}`,n=a?Object(R.i)(l,a):null,i=null!=n&&n.length?Object(R.f)(n,a):void 0;return t.a.createElement(c.a,{color:"gray700",renderScreenNameHighlights:i,screenName:e.screen_name})}{const e=Object(d.a)(m,!0),a=Object(R.n)(l),n=null==a?void 0:a.filter((l=>e&&-1!==e.toLowerCase().indexOf(l.toLowerCase()))),s=null!=n&&n.length?n.map((l=>Object(R.h)(l,e))):void 0;return t.a.createElement(u.a,{color:"gray700",displayTextRange:[0,e.length],entities:{},highlightType:"background",hitHighlights:s,key:"groupsearchresult",numberOfLines:2,text:e})}}},this._renderX=()=>{const{conversation:e,conversationId:l,inboxType:a,position:n}=this.props,{loggedInUserId:s}=this.context;if(e){const i=Object(R.m)(e,s),r=e.participants.length||0,o=(null==e?void 0:e.type)===f.CONVERSATION_TYPE.GROUP?"0":this._getUserIdOfOneToOneConvo();return t.a.createElement(V.a,{conversationId:l,conversationType:e.type,inboxType:a,participant:i,participantCount:r,position:n,userId:o})}return null},this._getUserIdOfOneToOneConvo=()=>{const{conversation:e,perspective:l}=this.props,a=e&&Object(b.a)(e,l).map((({user:e})=>e)),n=a&&a[0]||null;return n?n.id_str:""},this._renderTimestamp=e=>{const{conversation:l,isMessageItem:a}=this.props,n=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_inbox_p0_enabled"),i=[n||a?j.a.inlineNotificationsDisabledIcon:j.a.notificationsDisabledIcon,n&&j.a.inlineNotificationsDisabledIconVDL],r=Number(e&&a?null==e?void 0:e.time:null==l?void 0:l.sort_timestamp);return t.a.createElement(t.a.Fragment,null,t.a.createElement(s.a,{style:[a&&j.a.inlineTimestamp,n&&j.a.inlineTimestampVDL]},l&&r?t.a.createElement(m.a,{timestamp:r}):null,null!=l&&l.notifications_disabled?t.a.createElement(_.a,{style:i}):null))},this._handleOnClick=e=>{const{addRecentSearch:l,analytics:a,conversation:n,conversationId:t,onClick:s,position:i,searchQuery:r}=this.props,o=(null==n?void 0:n.participants.length)||0,c=(null==n?void 0:n.type)===f.CONVERSATION_TYPE.GROUP;r&&(a.scribe({component:"search",element:"conversation",action:"click",data:{conversation_id:t,conversation_participant_count:o,conversation_type:c?I.l.GROUP:I.l.ONE_TO_ONE,entry_point:I.c.ALL,inbox_type:I.g.PRIMARY,dm_search_result_type:I.a.CONVERSATION,message_type:I.h.NOT_APPLICABLE,position:i}}),a.scribe({component:"recent_search",action:"add"}),l(r)),s(e,t,n,i)}}shouldComponentUpdate(e){const l=this.props.conversation,a=null==l?void 0:l.conversation_id,n=null==l?void 0:l.notifications_disabled,t=null==l?void 0:l.last_read_event_id,s=null==l?void 0:l.sort_event_id,i=null==l?void 0:l.max_entry_id,r=null==l?void 0:l.convo_label,o=this.props.highlightingTokens,c=this.props.messageId,d=e.conversation,u=null==d?void 0:d.conversation_id,m=null==d?void 0:d.notifications_disabled,g=e.highlightingTokens,p=null==d?void 0:d.last_read_event_id,y=null==d?void 0:d.sort_event_id,_=null==d?void 0:d.max_entry_id,h=null==d?void 0:d.convo_label,k=e.messageId,{filter:v,isActive:b}=this.props,{filter:F,isActive:f}=e;return a!==u||n!==m||o!==g||t!==p||s!==y||i!==_||c!==k||b!==f||v!==F||r!==h}render(){var e;const{conversation:l,highlightingTokens:a,isActive:n,isMessageItem:i,link:r,messageId:o,perspective:c,position:d,searchQuery:u,unread:m}=this.props,_=(null==l?void 0:l.entries)||[],k=i?_.find((e=>e.id===o)):Object(h.a)(_,(e=>!I.b.includes(e.type))),v=null==k||null==(e=k.message_data)?void 0:e.attachment,b=[j.a.root,i&&v&&j.a.rootMessageAttachment,m&&!this._isVDLEnabled&&j.a.unread,n&&this._isVDLEnabled&&j.a.active],F=(null==l?void 0:l.type)===f.CONVERSATION_TYPE.GROUP,T=this._isVDLEnabled&&F;if(!l)return null;const K=!!l.convo_label,R=!l.trusted&&!K,C=this._renderConversationEndCell(k),w=u&&!i;let M="text",x="bold";return this._isVDLEnabled&&!m&&(M="gray900",x="medium"),this._isVDLEnabled&&n&&(M="text",x="medium"),!l||!u&&l.isSearchResultOnly?null:t.a.createElement(g.a,null,(({isFocused:e,isFocusedWithin:o,isHovered:g})=>{var _;return t.a.createElement(p.a,{accessibilityRole:"none",accessibilityState:{selected:n},link:{pathname:null==r?void 0:r.pathname,anchorless:!0,state:{...null==r?void 0:r.state,position:d,entryPoint:i?null==k?void 0:k.id:null,isMessageItem:i}},onPress:this._handleOnClick,style:b,testID:W.a.conversation},t.a.createElement(y.a,{avatarCell:i?void 0:t.a.createElement(S.a,{conversation:l,perspective:c,withBadge:T}),avatarSize:"xxLarge"},t.a.createElement(s.a,{style:j.a.bodyColumn},t.a.createElement(s.a,{style:j.a.titleContainer},t.a.createElement(s.a,{style:i?j.a.messageSearchTitleContainer:void 0},t.a.createElement(E.b,{conversation:l,highlightingTokens:a,isConversationSearchTitle:!!w,isMessageSearchTitle:!!i,perspective:c,renderAvatarCell:this._renderAvatarCell,renderTimestamp:()=>this._renderTimestamp(k),textColor:M,titleWeight:x,withScreenName:!u&&!i,withVDLRefresh:this._isVDLEnabled}),t.a.createElement(s.a,{style:j.a.messageSearchTitleContainer},i?this._renderEndCellWithMenu(C,e,o,g):null)),t.a.createElement(s.a,{style:[!(i&&(null!=v&&v.card||null!=v&&v.tweet))&&j.a.snippet,!e&&!o&&!g&&!(i&&null!=k&&null!=(_=k.message_data)&&_.attachment)&&j.a.snippetPadding]},k&&!w?t.a.createElement(L.a,{conversationType:l.type,entry:k,highlightingTokens:a,isMessageItem:i,isSelected:this._isVDLEnabled&&n,perspective:c,unread:this._isVDLEnabled&&m}):w?this._renderSearchConversationPreview():null),K?this._renderConversationLabel(l):null,R?this._renderSocialProof(l):null),i?null:this._renderEndCellWithMenu(C,e,o,g))))}))}}Q.contextType=k.a,Q.defaultProps={searchQuery:"",inboxType:"primary",isActive:!1,filter:e=>!0};l.a=Object(F.a)(q(Q),{page:"messages",section:"inbox"})},a9QA:function(e,l,a){"use strict";a.d(l,"a",(function(){return t})),a.d(l,"c",(function(){return s})),a.d(l,"d",(function(){return i})),a.d(l,"e",(function(){return r})),a.d(l,"f",(function(){return o})),a.d(l,"b",(function(){return c}));a("kYxP");var n=a("AQ79");const t=(e,l,a)=>{if(!a)return;const n=l.get(`DMConversation:${e}`),t=l.getRootField("add_dm_conversation_label_v3"),s=l.get(a);if(!n||!t||!s)return;const i=n.getLinkedRecords("labels")||[];n.setLinkedRecords([...i,t],"labels"),n.setLinkedRecord(n,"result");const r=(s.getLinkedRecords("items_results")||[]).concat(n);s.setLinkedRecords(r,"items_results")},s=e=>{var l;return Boolean(null==e||null==(l=e.labels)?void 0:l.find((e=>e.label_type===n.a.PINNED)))},i=(e,l)=>{const a=l.get(`DMConversation:${e}`);if(!a)return;const t=a.getLinkedRecords("labels")||[],s=[];t.forEach((e=>{if(!e)return;e.getValue("label_type")!==n.a.PINNED&&s.push(e)})),a.setLinkedRecords(s,"labels")},r=(e,l,a)=>{if(!a)return;const n=l.get(`DMConversation:${e}`),t=l.get(a);if(!n||!t)return;const s=n.getValue("rest_id"),i=t.getLinkedRecords("items_results")||[],r=[];i.forEach((e=>{if(!e)return;const l=e.getLinkedRecord("result");if(!l)return;l.getValue("rest_id")!==s&&r.push(e)})),t.setLinkedRecords(r,"items_results")},o=(e,l,a)=>{const n=a.get(`DMConversation:${e}`);if(!n)return;const t=n.getLinkedRecord("perspectival_conversation_metadata");t&&t.setValue(l,"last_read_event_id")},c=({id:e,isProtected:l,name:a,rest_id:n,screen_name:t,verified:s})=>({created_at:"",description:"",entities:{description:{}},followed_by:!1,followers_count:0,following:!1,friends_count:0,id:parseInt(e,10),id_str:n||"",name:a||"",profile_image_url_https:"",protected:l||!1,screen_name:t||"",verified:s||!1})},b9JY:function(e,l,a){"use strict";a.d(l,"b",(function(){return t})),a.d(l,"e",(function(){return s})),a.d(l,"d",(function(){return i})),a.d(l,"c",(function(){return r})),a.d(l,"a",(function(){return c}));var n=a("aWyx");const t=e=>e&&e.type===n.b.MESSAGE,s=e=>e&&e.type===n.b.WELCOME_MESSAGE,i=e=>e&&e.type===n.b.TRUST_CONVERSATION,r=e=>e&&e.type===n.b.REACTION_CREATE,o=[n.b.CONVERSATION_AVATAR_UPDATE,n.b.CONVERSATION_NAME_UPDATE,n.b.JOIN_CONVERSATION,n.b.PARTICIPANTS_JOIN,n.b.PARTICIPANTS_LEAVE],c=e=>e&&o.indexOf(e.type)>-1},d9IC:function(e,l,a){"use strict";var n=a("ERkP"),t=a.n(n),s=a("MWbm"),i=a("/yvb"),r=a("t62R"),o=a("rHpw"),c=a("qqsb"),d=a.n(c),u=a("Irs7");const m=d.a.b08821f4,g=d.a.e047b8fa,p=o.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,paddingLeft:e.spaces.space16,paddingVertical:e.spaces.space4,alignItems:"center",flexDirection:"row",justifyContent:"space-between",borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor},backButton:{marginRight:e.spaces.space4},iconContainer:{alignItems:"center",flexDirection:"row"},icon:{color:e.colors.text,marginRight:e.spaces.space12,fontSize:e.fontSizes.body,marginVertical:e.spaces.space8},labelHeader:{borderBottomStyle:"none",paddingVertical:e.spaces.space12}})));l.a=e=>{const l=Object(u.b)(),{clearRecentSearches:a,headerText:n,icon:o,isInboxLabelHeader:c,withClearButton:d}=e;t.a.useEffect((()=>{l.scribe({component:"recent_search",action:"impression"})}),[l]);const y=[p.root,c&&p.labelHeader];return t.a.createElement(s.a,{style:y},t.a.createElement(s.a,{style:p.iconContainer},(()=>{const e=o;return e?t.a.createElement(e,{style:p.icon}):null})(),t.a.createElement(r.b,{accessibilityLevel:2,accessibilityRole:"heading",size:"headline1",weight:"heavy"},n)),d?t.a.createElement(i.a,{accessibilityLabel:m,onPress:a,style:p.backButton,type:"onMediaWhiteFilled"},g):null)}},dUaY:function(e,l,a){"use strict";var n,t,s={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"conversationId"},{defaultValue:null,kind:"LocalArgument",name:"messageId"},{defaultValue:null,kind:"LocalArgument",name:"reactionTypes"}],kind:"Fragment",metadata:null,name:"useDMReactionMutationAddMutation",selections:t=[{alias:null,args:[{fields:[{kind:"Variable",name:"conversation_id",variableName:"conversationId"},{kind:"Variable",name:"message_id",variableName:"messageId"},{kind:"Variable",name:"reaction_types",variableName:"reactionTypes"}],kind:"ObjectValue",name:"dm_reactions"},{kind:"Literal",name:"s",value:"d13c"}],concreteType:null,kind:"LinkedField",name:"create_dm_reaction",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useDMReactionMutationAddMutation",selections:t},params:{id:"W52V9YiVYn7XQ6JtZJMD9A",metadata:{},name:"useDMReactionMutationAddMutation",operationKind:"mutation",text:null}};s.hash="9f7a90dff7016c25d25317154a724eaa",e.exports=s},e5HP:function(e,l,a){"use strict";a.d(l,"a",(function(){return F}));var n=a("ERkP"),t=a.n(n),s=a("MWbm"),i=a("qqsb"),r=a.n(i),o=a("k/Ka"),c=a("Lsrn");const d=(e={})=>Object(o.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[c.a.root,e.style],viewBox:"0 0 24 24"},t.a.createElement("g",null,t.a.createElement("path",{d:"M12 1C5.92 1 1 5.92 1 12s4.92 11 11 11 11-4.92 11-11S18.08 1 12 1zm5.05 12.48c0 .48-.39.87-.88.87-.477 0-.87-.393-.87-.87V9.94l-6.85 6.85c-.163.166-.387.26-.62.26-.233 0-.457-.094-.62-.26-.338-.341-.338-.899 0-1.24l6.85-6.85h-3.54c-.477 0-.87-.393-.87-.87 0-.49.39-.88.87-.88h5.65c.11 0 .23.03.33.07.11.04.2.1.29.19.09.09.15.18.19.29.04.1.07.22.07.33v5.65z"})));d.metadata={width:24,height:24};var u=d,m=a("uFYP"),g=a("t62R"),p=a("rHpw");const y=r.a.f1a1b791,_=r.a.if2bf8b4,h=r.a.f3624b5c,k=r.a.b4b3b113,v=r.a.be222050,b=r.a.hcbbe447;class F extends t.a.Component{render(){const{color:e,nativeID:l,style:a,withCircleIcon:n}=this.props,i=n?u:m.a;return t.a.createElement(s.a,{style:[f.root,a]},t.a.createElement(i,{style:[f.icon,e&&f[e]]}),t.a.createElement(g.b,{color:e,nativeID:l,size:"subtext2"},this._getPromotedLabel()))}_getPromotedLabel(){const{contentAuthorId:e,label:l,promotedContent:a}=this.props,{adMetadataContainer:n,advertiser:t,advertiser_name:s,disclosure_type:i}=a,r=e&&t&&e===t.id_str,o="string"==typeof i&&"political"===i.toLowerCase(),c="string"==typeof i&&"issue"===i.toLowerCase(),d=!(!n||"POLITICAL"!==n.disclaimerType)||o,u=!(!n||"ISSUE"!==n.disclaimerType)||c,{removePromotedAttributionForPreroll:m}=n||{};let g;return g=l||(!s||r||m?d?h:u?v:_:d?k({fullName:s}):u?b({fullName:s}):y({fullName:s})),g}}F.defaultProps={color:"gray700",withCircleIcon:!1};const f=p.a.create((e=>({root:{alignItems:"center",flexDirection:"row"},icon:{color:e.colors.gray700,height:"1em",marginRight:e.spaces.space4,flexShrink:0},gray700:{color:e.colors.gray700},white:{color:e.colors.white}})))},"ejT/":function(e,l,a){"use strict";a.d(l,"b",(function(){return n})),a.d(l,"a",(function(){return t}));const n=e=>({id:e,distanceToViewportTop:0}),t=e=>({id:e,distanceToViewportBottom:0})},f42t:function(e,l,a){"use strict";a.d(l,"a",(function(){return o}));var n=a("97Jx"),t=a.n(n),s=(a("kYxP"),a("ERkP")),i=a.n(s);class r extends i.a.Component{constructor(...e){super(...e),this.state={isLoaded:!1}}componentDidMount(){return this._isMounted=!0,this.load()}componentDidUpdate(e){return this.props.modules===e.modules?null:this.load()}componentWillUnmount(){this._isMounted=!1}load(){this.setState({isLoaded:!1});const{modules:e}=this.props,l=Object.keys(e);return Promise.all(l.map((l=>e[l]()))).then((e=>l.reduce(((l,a,n)=>(l[a]=e[n],l)),{}))).then((e=>{if(!this._isMounted)return null;this.setState({modules:e,isLoaded:!0})}))}render(){const{isLoaded:e}=this.state,l=e?this.state.modules:{};return i.a.Children.only(this.props.children(l||{}))}}const o=(e,l)=>a=>i.a.createElement(r,{modules:l},(l=>i.a.createElement(e,t()({},l,a))))},fQBn:function(e,l,a){"use strict";var n=a("ERkP"),t=a.n(n),s=a("b9JY"),i=a("MMRb"),r=a("H4nC"),o=a("t62R"),c=a("4n2h"),d=a("zQEV"),u=a("hqKg"),m=a("rxPX"),g=a("G6rE"),p=a("g54k");const y=(e,l)=>l.entry;var _=Object(m.a)().propsFromState((()=>({users:Object(u.createSelector)(g.e.selectAll,y,p.b)}))).adjustStateProps((({users:e})=>({...e})))((({entry:e,entryType:l,isSelected:a=!1,perspective:n,unread:s=!1,users:i})=>{const r=Object(d.a)(e,l,n,i),u=Object(c.b)(s),m=Object(c.a)(s,a);return t.a.createElement(o.b,{color:m,weight:u},r)})),h=a("3dad"),k=a("v6aA"),v=a("X/yg"),b=a("vjRr");const F=(e,l)=>{var a,n,t;return l.isMessageItem&&(null==(a=l.entry)||null==(n=a.message_data)||null==(t=n.attachment)?void 0:t.card)},f=(e,l)=>g.e.select(e,l.senderId),T=(e,l)=>l.recipientId?g.e.select(e,l.recipientId):void 0;var K=Object(m.a)().propsFromState((()=>({card:b.a.createSingleHydratedSelector(F),user:f,recipient:T}))),S=a("ijJS"),E=a("XYIr");var L=K((({card:e,entry:l,perspective:a,isGroupDM:n,highlightingTokens:s,isMessageItem:i,unread:r=!1,user:o={},recipient:c={},isSelected:d=!1})=>{var u;const{featureSwitches:m}=t.a.useContext(k.a),g=l&&l.message_data;if(!g)return null;const{attachment:p}=g,y=p&&!!(p.video||p.photo||p.animated_gif||p.tweet||p.fleet||p.sticker||p.card);let _;const b=a===o.id_str,F=!(!y||!b)||!(!n||b),f=o.name,T=c.name;let K;if(s&&null!=s&&s.length&&null!=g&&g.text){const e=Object(v.n)(s);K=null!=e&&e.length?null==e?void 0:e.map((e=>Object(v.h)(e,g.text))):void 0}let L,I=Object(E.a)(f,F,null==g?void 0:g.text,g.entities,K);const R=I;p&&(p.tweet?(L=p.tweet.status,I=Object(E.i)(b,f,F)):p.fleet?I=Object(E.b)(b,T,g.text):p.video?Object(v.p)(p,m)?(I=Object(E.h)(b,f,F),_=p.video):(I=Object(E.g)(b,f,F),_=p.video):p.photo?(I=Object(E.e)(b,f,F),_=p.photo):p.animated_gif?(I=Object(E.c)(b,f,F),_=p.animated_gif):p.sticker?I=Object(E.f)(b,f,F):p.card&&(I=Object(E.d)(b,f,F)));const C=_&&i?h.a.getOriginalImage(_):null,w=null==(u=_)?void 0:u.ext_alt_text;return t.a.createElement(S.a,{accessibilityLabel:w,card:e,content:i?R:I,isMessageSearchItem:i,isSelected:d,searchImage:C,tweetId:L,tweetUserId:g.sender_id,unread:r})})),I=a("pHkl"),R=a("uKEd");const C=(e,l)=>l.senderId?g.e.select(e,l.senderId):void 0,w=(e,l)=>Object(R.n)(e,l.reactionEntry.message_id),M=(e,l)=>{const a=w(e,l);return a&&a.message_data&&g.e.select(e,a.message_data.sender_id)};var x=Object(m.a)().propsFromState((()=>({reactingUser:C,reactedMessageEntry:w,messageUser:M}))),A=a("Yjwz");var D=x((({isGroupDM:e,isSelected:l=!1,messageUser:a,perspective:n,reactedMessageEntry:s,reactingUser:i,reactionEntry:r,unread:o=!1})=>{const{featureSwitches:c}=t.a.useContext(k.a),d=s&&s.message_data,u=d&&d.attachment,m=d&&d.text,g=a&&a.screen_name,p=i&&i.id_str,y=i&&i.name,_=r.reaction_key||"";let h=I.h.UNKNOWN;return u?u.tweet?h=I.h.TWEET:u.video?h=Object(v.p)(u,c)?I.h.VOICE:I.h.VIDEO:u.photo?h=I.h.PHOTO:u.animated_gif?h=I.h.GIF:u.card&&(h=I.h.CARD):m&&(h=I.h.TEXT),t.a.createElement(A.a,{isGroupDM:e,isSelected:l,messageScreenName:g,messageText:m,perspective:n,reacterId:p,reacterName:y,reactionKey:_,type:h,unread:o})})),O=a("/8XK");l.a=({conversationType:e,entry:l,highlightingTokens:a,isMessageItem:n=!1,isSelected:o=!1,perspective:c,unread:d})=>{if(l.marked_as_spam)return Object(O.a)(d,o);if(Object(s.b)(l)){const{message_data:{recipient_id:s,sender_id:r}={}}=l;return t.a.createElement(L,{entry:l,highlightingTokens:a,isGroupDM:e===i.CONVERSATION_TYPE.GROUP,isMessageItem:n,isSelected:o,perspective:c,recipientId:s,senderId:r,unread:d})}return Object(s.c)(l)?t.a.createElement(D,{isGroupDM:e===i.CONVERSATION_TYPE.GROUP,isSelected:o,perspective:c,reactionEntry:l,senderId:l.sender_id,unread:d}):Object(s.a)(l)?t.a.createElement(_,{entry:l,entryType:l.type,isSelected:o,perspective:c,unread:d}):Object(s.d)(l)?t.a.createElement(r.a,{entry:l,isCompact:!0,isSelected:o,unread:d}):null}},fuhe:function(e,l,a){"use strict";a.r(l),a.d(l,"default",(function(){return fl}));var n=a("ERkP"),t=a.n(n),s=a("zCf4"),i=a("v6aA"),r=a("YlqV"),o=(a("kYxP"),a("uDfI")),c=a("UIzd"),d=a.n(c),u=(a("enFi"),a("Ud88")),m=a.n(u),g=a("0KEI"),p=a("MMRb"),y=a("97Jx"),_=a.n(y),h=a("MWbm"),k=a("0FVZ"),v=a("Oe3h"),b=a("nBUg"),F=a("A69o"),f=a("ZUOq"),T=a("AQ79"),K=a("RqPI"),S=a("V/6K"),E=a("aWzz"),L=a("yrzJ"),I=a("rHpw"),R=a("aITJ"),C=a("qz2E"),w=a("zb92");var M=Object(w.a)({loader:()=>Promise.all([a.e(0),a.e(244)]).then(a.bind(null,"Rk1B"))}),x=a("GSsg"),A=a("XnpN"),D=a("aWyx"),O=a("OhSZ"),P=a("Oi4X"),U=a("l0YN"),H=a("xKuM"),q=a("fs1G"),N=a("hACr"),j=a("OrGc"),W=a("Irs7"),B="DMDrawerHeader",V="DMDrawerHeaderHighlighted",z="DMDrawer",Q=a("/yvb"),G=a("Znyr"),Y=a("qqsb"),$=a.n(Y),X=a("95Se");const J=$.a.b08821f4;function Z({buttonType:e,hasNewMessages:l,inboxUnreadCount:a}){const n=Object(o.c)(),s=l||void 0!==a&&a>0;return t.a.createElement(h.a,null,t.a.createElement(Q.a,{accessibilityLabel:J,icon:t.a.createElement(X.a,null),onPress:()=>{n(p.popOutConversation(null))},type:e}),s?t.a.createElement(G.a,{pip:!0,style:ee.newMessagePip,truncatedCountFormatter:()=>"",unreadCountLabel:()=>""}):null)}const ee=I.a.create((e=>({newMessagePip:{right:e.spaces.space4,top:e.spaces.space4}})));var le=a("Avzu"),ae=a("k/Ka"),ne=a("Lsrn");const te=(e={})=>Object(ae.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[ne.a.root,e.style],viewBox:"0 0 24 24"},t.a.createElement("g",null,t.a.createElement("path",{d:"M12 19.344l-8.72-8.72c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l9.25 9.25c.292.294.767.294 1.06 0l9.25-9.25c.146-.145.22-.337.22-.53s-.073-.383-.22-.53c-.293-.292-.768-.292-1.06 0L12 19.344z"}),t.a.createElement("path",{d:"M12 11.535l-8.72-8.72c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l9.25 9.25c.292.294.767.294 1.06 0l9.25-9.25c.146-.145.22-.337.22-.53s-.073-.383-.22-.53c-.293-.292-.768-.292-1.06 0L12 11.535z"})));te.metadata={width:24,height:24};var se=te;const ie=(e={})=>Object(ae.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[ne.a.root,e.style],viewBox:"0 0 24 24"},t.a.createElement("g",null,t.a.createElement("path",{d:"M12 4.656l8.72 8.72c.293.293.768.293 1.06 0s.294-.768 0-1.06l-9.25-9.25c-.292-.294-.767-.294-1.06 0l-9.25 9.25c-.146.145-.22.337-.22.53s.073.383.22.53c.293.292.768.292 1.06 0L12 4.656z"}),t.a.createElement("path",{d:"M12 12.465l8.72 8.72c.293.293.768.293 1.06 0s.294-.768 0-1.06l-9.25-9.25c-.292-.294-.767-.294-1.06 0l-9.25 9.25c-.146.145-.22.337-.22.53s.073.383.22.53c.293.292.768.292 1.06 0l8.72-8.72z"})));ie.metadata={width:24,height:24};var re=ie;const oe=$.a.d227d19e,ce=$.a.c64c1884,de=$.a.j7d0e836,ue=$.a.cdcebd22;function me({analytics:e,buttonType:l,conversationTitle:a,handleToggleVisibility:n,isExpanded:i}){const r=Object(s.f)();return t.a.createElement(h.a,{style:ge.rightControls},a?null:t.a.createElement(Q.a,{accessibilityLabel:ce,hoverLabel:{label:ue},icon:t.a.createElement(le.a,null),onPress:()=>{e.scribe({section:"compose_drawer",component:"dm",action:"show"}),r.push({pathname:"/messages/compose",state:{source:"drawer"}})},type:l}),i?t.a.createElement(Q.a,{accessibilityLabel:oe,hoverLabel:{label:oe},icon:t.a.createElement(se,null),onPress:n,type:l}):t.a.createElement(Q.a,{accessibilityLabel:de,hoverLabel:{label:de},icon:t.a.createElement(re,null),onPress:n,type:l}))}const ge=I.a.create((e=>({rightControls:{flexDirection:"row"}})));var pe=a("t62R"),ye=a("x0mb");const _e=$.a.a2f81050,he=$.a.e736990a;function ke({conversationTitle:e,hasNewMessages:l,isConversationUnread:a,isHighlighted:n}){const s=e||t.a.createElement(pe.b,null,_e),i=a||!e&&l;return t.a.createElement(h.a,{style:ve.titleContainer},t.a.createElement(h.a,{style:[ve.titleTextRoot,n&&i?ve.titleTextHighlighted:null]},s),i?t.a.createElement(h.a,{style:ve.newMessageDotContainer},t.a.createElement(ye.a,{accessibilityLabel:he,style:[ve.newMessageDotRoot,n?ve.newMessageDotHighlighted:ve.newMessageDotRegular]})):null)}const ve=I.a.create((e=>({newMessageDotContainer:{flexGrow:1},newMessageDotRoot:{width:e.spaces.space12,height:e.spaces.space12,marginLeft:e.spaces.space4},newMessageDotRegular:{color:e.colors.primary},newMessageDotHighlighted:{color:e.colors.white},titleContainer:{alignItems:"center",display:"flex",flexDirection:"row",flexGrow:1},titleTextRoot:{flexGrow:1,flexShrink:1},titleTextHighlighted:{color:e.colors.white}})));function be({conversationSubtitle:e,conversationTitle:l,hasNewMessages:a,inboxUnreadCount:n,isConversationUnread:s=!1,isHighlighted:i,onDrawerOpen:r,triggerHighlight:c}){const d=t.a.createRef(),u=Object(W.b)(),m=Object(o.c)(),g=Object(o.d)(p.selectDrawerVisibility),y=Fe(a,i),_=g===T.b.EXPANDED;t.a.useEffect((()=>{(a||s)&&!i&&c&&c()}),[a,s,i,c]);const k=()=>{const e=_?T.b.COLLAPSED:T.b.EXPANDED;e===T.b.COLLAPSED?u.scribe({action:"collapse"}):e===T.b.EXPANDED&&(u.scribe({action:"expand"}),r&&r()),m(p.setDrawerVisibility(e))},v=a?i?[fe.headerHighlighted]:[fe.headerActive]:[];return t.a.createElement(N.a,{enabled:!0,handlers:{[j.e.goLists]:q.a,[j.e.toggleDMDrawer]:()=>{k(),d&&d.current&&d.current.focus()}}},t.a.createElement(h.a,{ref:d,style:[fe.headerRoot,!_&&fe.headerBorderClosed,...v,fe.cursor],testID:i?V:B},t.a.createElement(H.a,{leftControl:l&&_?t.a.createElement(Z,{buttonType:y,hasNewMessages:a,inboxUnreadCount:n}):null,onMiddleControlClick:k,rightControl:t.a.createElement(me,{analytics:u,buttonType:y,conversationTitle:l,handleToggleVisibility:k,isExpanded:_}),style:fe.roundedAppBarCorners,subtitle:e,title:t.a.createElement(ke,{conversationTitle:l,hasNewMessages:a,isConversationUnread:s,isHighlighted:i}),withBackground:!i})))}const Fe=(e,l)=>e&&l?"onMediaText":"primaryText",fe=I.a.create((e=>({cursor:{cursor:"pointer"},headerRoot:{borderTopLeftRadius:e.borderRadii.xLarge,borderTopRightRadius:e.borderRadii.xLarge,transition:"all 0.3s ease"},headerBorderClosed:{borderColor:e.colors.navigationBackground},headerActive:{backgroundColor:e.colors.unreadCellBackground},headerHighlighted:{borderColor:e.colors.primary,backgroundColor:e.colors.primary},roundedAppBarCorners:{borderTopLeftRadius:e.borderRadii.xLarge,borderTopRightRadius:e.borderRadii.xLarge}})));function Te({conversationSubtitle:e,conversationTitle:l,inboxUnreadCount:a,isConversationUnread:n=!1,isHighlighted:s,onDrawerOpen:i,triggerHighlight:r}){const c=Object(o.d)(U.a)>0,d=Object(o.d)(p.selectPoppedOutConversationId);return t.a.createElement(be,{conversationSubtitle:e,conversationTitle:l,hasNewMessages:c,inboxUnreadCount:a,isConversationUnread:!!d&&n,isHighlighted:s,onDrawerOpen:i,triggerHighlight:r})}var Ke,Se=a("lnti"),Ee=a("t0aI"),Le=a("lAtx");const Ie=void 0!==Ke?Ke:Ke=a("NNz6");function Re({conversationSubtitle:e,conversationTitle:l,isConversationUnread:a,isHighlighted:n,onDrawerOpen:s,triggerHighlight:i}){const r=Object(g.useCreateLocalApiErrorHandler)("DIRECT_MESSAGES_DRAWER_HEADER_EVOLUTION"),c=m()(),{last_seen_event_id:u}=Object(o.d)(p.selectLastSeenEventIds),y=Object(o.d)(p.selectPoppedOutConversationId),[_,h]=t.a.useState(!1),k=t.a.useCallback((()=>{d()(c,Ie,{}).toPromise().then((e=>{var l;const a=(null==e||null==(l=e.dm_convo_list_slice)?void 0:l.items)||[],n=Object(Se.a)(a.map((e=>{var l;return null==e||null==(l=e.dm_conversation_results)?void 0:l.result})));for(let e=0;e<n.length;e++){const{last_readable_event_id:l,rest_id:a}=n[e];if(!u||l&&!Object(Ee.c)(u,l)){a!==y&&h(!0);break}}})).catch(r({}))}),[r,c,u,y]);return t.a.useEffect((()=>{const e=new x.a((()=>{k()}),{interval:Le.POLL_INTERVAL});return e.start(),()=>{e.stop()}}),[k]),t.a.createElement(be,{conversationSubtitle:e,conversationTitle:l,hasNewMessages:_,isConversationUnread:a,isHighlighted:n,onDrawerOpen:s,triggerHighlight:i})}var Ce=a("hqKg"),we=a("AQOc"),Me=a("rxPX"),xe=a("CDB5"),Ae=a("P1r1"),De=a("UhuB"),Oe=a("1YZw"),Pe=a("G6rE"),Ue=a("X/yg");const He=(e,l)=>l.conversationId,qe=Object(Ce.createSelector)(((e,l)=>p.selectEntriesForConversation(e,He(0,l))),K.s,((e,l)=>l?Object(Ue.e)(e,l):void 0)),Ne=e=>l=>xe.c(e,l),je=e=>(l,a)=>xe.a(e,l,a),We={conversation:(e,l)=>p.selectConversation(e,He(0,l)),entries:p.selectEntries,perspective:K.s,users:Pe.e.selectAll,dataSaverMode:Ae.j,dtabBarInfo:Ae.m,quickReplyOptions:qe,visibility:p.selectDrawerVisibility,inboxUnreadCount:U.a,isUnread:(e,l)=>!p.selectConversationIsRead(e,He(0,l)),isDmReceiptSettingEnabled:De.n},Be={draftText:(e,l)=>xe.l(e,He(0,l)),gifMetadata:(e,l)=>xe.h(e,He(0,l)),isUploading:(e,l)=>xe.j(e,He(0,l)),media:(e,l)=>xe.i(e,He(0,l)),mediaUploadProgress:(e,l)=>xe.k(e,He(0,l))};var Ve=Object(Me.a)().propsFromState((()=>({...We,...Be}))).adjustStateProps((({conversation:e,dataSaverMode:l,draftText:a,dtabBarInfo:n,entries:t,gifMetadata:s,inboxUnreadCount:i,isDmReceiptSettingEnabled:r,isUnread:o,isUploading:c,media:d,mediaUploadProgress:u,perspective:m,quickReplyOptions:g,users:p,visibility:y})=>{const _=null==e?void 0:e.data;return{conversation:_&&Object(we.a)(_,t,p),perspective:m,dataSaverMode:l,draftText:a,dtabBarInfo:n,gifMetadata:s,inboxUnreadCount:i,isDmReceiptSettingEnabled:r,isUploading:c,isUnread:o,media:d,mediaUploadProgress:u,quickReplyOptions:g,visibility:y}})).propsFromActions((({conversationId:e})=>({addMedia:je(e),addToast:Oe.b,createLocalApiErrorHandler:Object(g.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_CONVERSATION"),fetchConversationHistory:p.fetchConversationHistory,removeMedia:Ne(e),saveText:xe.f,sendMessage:xe.m,updateConversationReadState:p.updateConversationReadState,updateTyping:p.updateTyping,fetchUpdatesIfNeeded:p.fetchUpdatesIfNeeded}))).withAnalytics({page:"messages",section:"thread_drawer"});class ze extends t.a.Component{constructor(e,l){super(e,l),this._composer=t.a.createRef(),this._renderConversation=(e,l)=>{const{conversationId:a,history:n,location:s}=this.props;return t.a.createElement(P.a,{conversationId:a,drawerHeader:this._renderHeader(),history:n,isWide:!1,location:s,richTextInputContext:e,typeaheadWrapper:l})},this._isExpanded=()=>{const{visibility:e}=this.props;return e===T.b.EXPANDED},this._fetchUpdatesIfNeeded=()=>{const{conversationId:e,createLocalApiErrorHandler:l,fetchUpdatesIfNeeded:a,isDmReceiptSettingEnabled:n}=this.props;a(n?{active_conversation_id:e,dm_users:!0}:{}).catch(l())},Object(C.a)()}componentDidMount(){this._updatePolling()}componentDidUpdate(e){e.visibility!==this.props.visibility&&this._updatePolling()}render(){const e=this._isExpanded();return t.a.createElement(t.a.Fragment,null,!e&&this._renderHeader(),e?R.b.isDesktopOS()?t.a.createElement(M,null,(({richTextInputContext:e,typeaheadWrapper:l})=>this._renderConversation(e,l))):this._renderConversation():null)}_renderHeader(){const{conversation:e,inboxUnreadCount:l,isHeaderHighlighted:a,isUnread:n,onDrawerOpen:s,perspective:i,triggerHeaderHighlight:r}=this.props,o=this.context.featureSwitches.isTrue("dm_evolution_enabled")&&this.context.featureSwitches.isTrue("dm_evolution_inbox_primary_enabled"),c=a?"white":"text",d=a?"white":"gray700",u=e&&e.type===D.a.ONE_TO_ONE&&i&&Object(A.a)(e,i).map((({user:e})=>e.screen_name)),m=u?t.a.createElement(L.a,{color:d,screenName:u[0]}):void 0;return t.a.createElement(h.a,{style:Qe.headerRoot},o?t.a.createElement(Re,{conversationSubtitle:m,conversationTitle:t.a.createElement(O.b,{conversation:e,perspective:i,textColor:c,withScreenName:!1}),isConversationUnread:n,isHighlighted:a,onDrawerOpen:s,triggerHighlight:r}):t.a.createElement(Te,{conversationSubtitle:m,conversationTitle:t.a.createElement(O.b,{conversation:e,perspective:i,textColor:c,withScreenName:!1}),inboxUnreadCount:l,isConversationUnread:n,isHighlighted:a,onDrawerOpen:s,triggerHighlight:r}))}_updatePolling(){this._pollingTimer&&this._pollingTimer.stop(),this.props.visibility===T.b.COLLAPSED&&(this._pollingTimer=new x.a(this._fetchUpdatesIfNeeded,{interval:3e3}),this._pollingTimer.start())}getChildContext(){return{getCustomLocation:null}}}ze.contextType=i.a,ze.childContextTypes={getCustomLocation:E.func};const Qe=I.a.create((e=>({headerRoot:{position:"sticky",top:0,zIndex:e.componentZIndices.appBarZIndex}})));var Ge=Ve(ze),Ye=a("s8G+"),$e=a("7JQg"),Xe=a("yw4N"),Je=a("pdDm"),Ze=a("cFyg"),el=a("tn7R"),ll=a("6xIQ"),al=a("4q8G"),nl=a("pXKu"),tl=a("maE+"),sl=a("OOE2");const il=$.a.a2f81050;function rl({dmDrawerOnClick:e,drawerCacheKey:l}){const a=Object(W.b)(),n=Object(o.c)(),s=Object(o.d)(p.selectConversations),i=[];for(const e of Object(el.a)(s)){var r;!e.isDeleted&&null!=(r=e.data)&&r.trusted&&i.push(e.data)}i.sort(al.a);const c=i.map((e=>e.conversation_id)),d=Object(o.d)(Ae.s),u=Object(o.d)(p.selectUntrustedConversationCount),m=Object(o.d)(Object(ll.a)((e=>p.selectUntrustedCounts(e)),(e=>e))),g=Object(o.d)(p.selectUntrustedUnreadCount),y=d&&u>0,_=d&&m.newUntrustedWithSocialProof+m.oldUntrustedWithSocialProof+m.newUntrustedWithoutSocialProof+m.oldUntrustedWithoutSocialProof>0,h=()=>t.a.createElement(sl.a,{allowUntrustedInbox:y,allowUntrustedVDLInbox:_,secondaryInboxCounts:m,untrustedUnreadCount:g});return t.a.createElement(nl.a,{accessibilityTitle:il,analytics:a,conversationIds:c,customCellClick:e,fetchInboxHistory:()=>n(p.fetchTrustedInboxHistory()),isDrawer:!0,renderEmptyDMInbox:()=>t.a.createElement(tl.a,{messageRequestPivot:h()}),renderStickyContent:h,updateLastSeenEventId:()=>n(p.updateTrustedLastSeenEventId()),virtualScrollerCacheKey:l,withPinnedInbox:!0})}const ol="dmDrawerInbox";function cl({renderHeader:e}){const l=Object(o.c)(),a=Object(Ye.a)("dm_evolution_enabled"),n=Object(Ye.a)("dm_evolution_inbox_primary_enabled"),s=(e,a)=>{l(p.popOutConversation(a)),e.preventDefault()};return t.a.createElement(h.a,{style:dl.fill},t.a.createElement(h.a,{style:[dl.viewportView,Ze.b.drawerHeaderRadius]},t.a.createElement(Xe.a,{style:[dl.viewportView,Ze.b.drawerHeaderRadius]},e(),a&&n?t.a.createElement(Je.a,{dmDrawerCacheKey:ol,dmDrawerOnClick:s,pollInterval:Le.POLL_INTERVAL}):t.a.createElement(rl,{dmDrawerOnClick:s,drawerCacheKey:ol}))))}const dl=I.a.create((e=>({fill:{flex:1,alignSelf:"stretch"},viewportView:{...I.a.absoluteFillObject,overflowY:"auto"}}))),ul={page:"messages",section:"inbox_drawer"};function ml({isHeaderHighlighted:e,onDrawerOpen:l,triggerHeaderHighlight:a}){const n=Object(Ye.a)("dm_evolution_enabled"),s=Object(Ye.a)("dm_evolution_inbox_primary_enabled"),i=Object(o.d)(p.selectDrawerVisibility)===T.b.EXPANDED;t.a.useEffect((()=>{i&&Object(C.a)()}),[i]);const r=()=>t.a.createElement(h.a,{style:gl.headerRoot},n&&s?t.a.createElement(Re,{isHighlighted:e,onDrawerOpen:l,triggerHighlight:a}):t.a.createElement(Te,{isHighlighted:e,onDrawerOpen:l,triggerHighlight:a}));return t.a.createElement($e.c,{namespace:ul},t.a.createElement(t.a.Fragment,null,!i&&r(),i&&t.a.createElement(cl,{renderHeader:r})))}const gl=I.a.create((e=>({headerRoot:{position:"sticky",top:0,zIndex:e.componentZIndices.appBarZIndex}}))),pl={isGlobal:!0,isSticky:!0},yl={isGlobal:!0,isSticky:!1};function _l({hasConversations:e,isHideDMDrawerPath:l,width:a}){const n=t.a.useRef(null),i=Object(s.f)(),r=Object(s.g)(),c=Object(o.d)(K.s),d=Object(o.d)(p.selectPoppedOutConversationId),u=Object(o.d)(p.selectDrawerVisibility),[m,g]=t.a.useState(!1),[y,f]=t.a.useState(void 0),E=u===T.b.EXPANDED,L=()=>{m&&(g(!1),clearTimeout(n.current))},I=e=>{const{nativeEvent:{layout:{height:l}}}=e;E||void 0!==y||f(l)},R=t.a.useCallback((()=>{E||m||n.current||(g(!0),n.current=setTimeout((()=>{g(!1),n.current=null}),3e3))}),[E,m]);return t.a.useEffect((()=>()=>{clearTimeout(n.current)}),[n]),(()=>{const a=u===T.b.CLOSED;return!l()&&e&&!a})()?t.a.createElement(k.a.Drawer,null,t.a.createElement(v.a,{id:"DMDrawer"},((e,l)=>t.a.createElement(S.a.Provider,{value:{isDrawer:!0}},t.a.createElement(b.b.Provider,{value:{isDMDrawer:()=>!0}},t.a.createElement(h.a,_()({ref:e()},l({style:[Ze.b.root,{width:a}],testID:z})),t.a.createElement(h.a,{onLayout:y?void 0:I,style:[Ze.b.expandable,{height:y,maxHeight:y},E&&Ze.b.expanded]},d?t.a.createElement(F.a.Provider,{value:yl},t.a.createElement(Ge,{conversationId:d,history:i,isHeaderHighlighted:m,location:r,onDrawerOpen:L,perspective:c,triggerHeaderHighlight:R})):t.a.createElement(F.a.Provider,{value:pl},t.a.createElement(ml,{isHeaderHighlighted:m,onDrawerOpen:L,triggerHeaderHighlight:R}))))))))):null}var hl;_l.defaultProps={width:f.a.dmDrawerWidth.max};const kl=void 0!==hl?hl:hl=a("IACL");function vl({isHideDMDrawerPath:e,width:l}){const a=t.a.useRef(!1),n=Object(g.useCreateLocalApiErrorHandler)("DIRECT_MESSAGES_DRAWER_EVOLUTION"),s=Object(o.c)(),i=m()(),[r,c]=t.a.useState(!1),[u,y]=t.a.useState(!1),_=t.a.useCallback((()=>{d()(i,kl,{}).toPromise().then((e=>{var l,n,t,s;null!=(n=((null==e||null==(l=e.dm_convo_list_slice)?void 0:l.items)||[])[0])&&null!=(t=n.dm_conversation_results)&&null!=(s=t.result)&&s.id&&a.current&&c(!0)})).catch(n({}))}),[n,i]),h=t.a.useCallback((()=>{e()||u||(s(p.loadDrawerVisibilityFromPersistence()),s(p.fetchUpdatesIfNeeded()),_(),a.current&&y(!0))}),[s,_,e,u]);return t.a.useEffect((()=>(a.current=!0,h(),()=>{a.current=!1})),[h]),t.a.createElement(_l,{hasConversations:r,isHideDMDrawerPath:e,width:l})}var bl=a("YeIG");function Fl({isHideDMDrawerPath:e,width:l}){const a=Object(g.useCreateLocalApiErrorHandler)("DIRECT_MESSAGES_DRAWER"),n=Object(o.c)(),[s,i]=t.a.useState(!1),r=Object(o.d)(p.selectConversations),c=!Object(bl.a)(r),d=t.a.useCallback((()=>{e()||s||(n(p.loadDrawerVisibilityFromPersistence()),n(p.fetchInboxIfNeeded()).catch(a({})),i(!0))}),[a,n,s,e]);return t.a.useEffect((()=>{d()}),[d]),t.a.createElement(_l,{hasConversations:c,isHideDMDrawerPath:e,width:l})}function fl({width:e}){const l=Object(s.g)(),{featureSwitches:a}=t.a.useContext(i.a),n=()=>Object(r.i)(l.pathname)||l.pathname.startsWith("/i/birdwatch");return a.isTrue("dm_evolution_enabled")&&a.isTrue("dm_evolution_inbox_primary_enabled")?t.a.createElement(vl,{isHideDMDrawerPath:n,width:e}):t.a.createElement(Fl,{isHideDMDrawerPath:n,width:e})}},g54k:function(e,l,a){"use strict";a.d(l,"b",(function(){return o}));var n=a("hqKg"),t=a("s1N3");var s=e=>{const{sender_id:l,by_user_id:a,participants:n=[]}=e;return Object(t.a)(n.map((({user_id:e})=>e)).concat([l,a]).filter(Boolean))},i=a("oEGd"),r=a("G6rE");const o=(e,l)=>({users:s(l).reduce(((l,a)=>(l[a]=e[a],l)),{})}),c=Object(n.createSelector)(r.e.selectAll,((e,l)=>l.entry),o);l.a=Object(i.c)(c)},gEJU:function(e,l,a){"use strict";a.d(l,"a",(function(){return u}));var n=a("ERkP"),t=a.n(n),s=a("eb3s"),i=a("qqsb"),r=a.n(i);const o=r.a.a219e218,c=r.a.d571e4f9,d=r.a.a551bf7e;function u(e){const{count:l,setShowPinError:a}=e;return t.a.createElement(s.a,{confirmButtonLabel:o,headline:c({count:l}),onConfirm:()=>a(!1),text:d,withCancelButton:!1})}},gbD7:function(e,l,a){"use strict";a.d(l,"b",(function(){return s})),a.d(l,"a",(function(){return i})),a.d(l,"d",(function(){return r})),a.d(l,"c",(function(){return o}));a("ERkP");var n=a("aWyx");const t=(e,l)=>({entry:{id:l,time:"",type:e},isActive:!1,isRapidFire:!1,isFirstRapidFire:!1,isLastPersistedMessage:!1,isLastRapidFire:!1,type:e}),s=t(n.b.CONVERSATION_PROFILE_INFO_HEADER,"conversationProfileInfoHeader"),i="typingIndicator",r=t(n.b.TYPING_INDICATOR,i),o=t(n.b.READ_ONLY_INDICATOR,"readOnlyIndicator")},"hl/W":function(e,l,a){"use strict";var n=a("0KEI"),t=a("6xIQ"),s=a("rxPX"),i=a("MMRb"),r=a("AQ79"),o=a("P1r1"),c=a("z2Pn"),d=a("qdEw"),u=a("X/yg");const m=e=>e===r.d.PRIMARY?i.fetchTrustedInboxHistory:e===r.d.SECONDARY?i.fetchUntrustedInboxHistory:i.fetchUntrustedLowQualityInboxHistory,g=e=>e===r.d.PRIMARY?i.updateTrustedLastSeenEventId:e===r.d.SECONDARY?i.updateUntrustedLastSeenEventId:()=>()=>Promise.resolve();l.a=({inbox:e})=>Object(s.a)().propsFromState((()=>({conversationIds:Object(t.a)((l=>i.selectConversationIdsByInbox(l,e)),(e=>e)),dmNsfwMediaFilter:o.l,isLoadingTop:i.selectIsLoadingTop,isDmNsfwMediaFilterEnabled:o.q,isDmsOpenForAll:o.s,hasConversations:i.selectHasConversations,untrustedUnreadCount:i.selectUntrustedUnreadCount,untrustedCounts:Object(t.a)((e=>i.selectUntrustedCounts(e)),(e=>e)),untrustedCursor:i.selectUntrustedCursor,untrustedConversationCount:i.selectUntrustedConversationCount,untrustedLowQualityConversationCount:i.selectUntrustedLowQualityConversationCount,untrustedLowQualityCursor:i.selectUntrustedLowQualityCursor}))).adjustStateProps((({conversationIds:e,dmNsfwMediaFilter:l,hasConversations:a,isDmNsfwMediaFilterEnabled:n,isDmsOpenForAll:t,isLoadingTop:s,untrustedConversationCount:i,untrustedCounts:r,untrustedCursor:o,untrustedLowQualityConversationCount:c,untrustedLowQualityCursor:d,untrustedUnreadCount:u})=>({dmNsfwMediaFilter:l,isDmNsfwMediaFilterEnabled:n,conversationIds:e,untrustedUnreadCount:u,untrustedCounts:r,allowUntrustedInbox:t&&i>0,allowUntrustedVDLInbox:t&&r.newUntrustedWithSocialProof+r.oldUntrustedWithSocialProof+r.newUntrustedWithoutSocialProof+r.oldUntrustedWithoutSocialProof>0,allowLowQualityUntrustedInbox:t&&c>0,isAtEndOfUntrustedInbox:o&&"AT_END"===o.status}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(n.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_INBOX"),clearSearchCache:i.clearSearchCache,clearSearchSlicesCache:d.b,fetchInboxHistory:m(e),setLastViewedDmInboxPath:c.h,updateLastSeenEventId:g(e),updateDmNsfwMediaFilter:o.M}))).withAnalytics({page:"messages",section:"inbox",component:Object(u.k)(e)})},hqDb:function(e,l,a){"use strict";var n=a("97Jx"),t=a.n(n),s=(a("kYxP"),a("ERkP")),i=a.n(s),r=a("pQ3Z"),o=a.n(r),c=a("qqsb"),d=a.n(c),u=a("k49u"),m=a("v//M"),g=a("MWbm"),p=a("88ay"),y=a("cFuS"),_=a("Re5t");const h=({displayMode:e,renderUserCell:l,userIds:a,withFinalItemBorder:n,withItemBorder:t})=>i.a.createElement(g.a,null,a.map(((a,n)=>l?l(a):i.a.createElement(p.b,{decoration:p.e,displayMode:e,key:a,promotedItemType:y.c.USER,userId:a,withFollowsYou:!0}))));h.defaultProps={displayMode:_.a.UserDetailed,withFinalItemBorder:!0,withItemBorder:!1};var k=h,v=a("kGix"),b=a("0KEI"),F=a("6xIQ"),f=a("rxPX"),T=a("G6rE");const K=(e,l)=>l.userIds,S=(e,l)=>{const{userIds:a}=l;return a.filter((l=>!!T.e.select(e,l)))},E=(e,l)=>{const{userIds:a}=l;return a.reduce(((l,a)=>{const n=T.e.selectFetchStatus(e,a);return l[a]=n===v.a.NONE?v.a.LOADING:n,l}),{})};var L=Object(f.a)().propsFromState((()=>({availableUserIds:Object(F.a)(S,(e=>e)),fetchStatus:Object(F.a)(S,E,K,((e,l,a)=>{let n=v.a.LOADED;for(let t=0;t<a.length;t++){const s=a[t];if(-1===e.indexOf(s)){const e=l[s]||v.a.LOADING;n=n===v.a.LOADED?e:n}if(n===v.a.LOADED)break}return n}))}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(b.createLocalApiErrorHandlerWithContextFactory)("USERS_LIST_CONTAINER"),fetchUsersIfNeeded:T.e.fetchManyIfNeeded})));const I=d.a.f5b426c2,R={viewType:"user_list"};class C extends i.a.Component{constructor(...e){super(...e),this.state={allUsersUnavailable:!1},this._renderContent=()=>{const{availableUserIds:e,createLocalApiErrorHandler:l,fetchStatus:a,fetchUsersIfNeeded:n,userIds:s,...r}=this.props;return i.a.createElement(k,t()({},r,{userIds:e}))},this._handleFetch=()=>{this._fetchUsersIfNeeded()}}componentDidMount(){this._fetchUsersIfNeeded()}componentDidUpdate(e){o()(e.userIds,this.props.userIds)||this._fetchUsersIfNeeded()}render(){return i.a.createElement(m.a,{accessibilityLabel:I,behavioralEventContext:R,fetchStatus:this.state.allUsersUnavailable?v.a.LOADED:this.props.fetchStatus,onRequestRetry:this._handleFetch,render:this._renderContent,retryable:!1})}_fetchUsersIfNeeded(){const{availableUserIds:e,createLocalApiErrorHandler:l,fetchUsersIfNeeded:a,userIds:n}=this.props;a(n).then((()=>{this.setState({allUsersUnavailable:!1})}),l({[u.a.AddressBookLookupNotFound]:{customAction:()=>{0===e.length&&this.setState({allUsersUnavailable:!0})}},[u.a.OtherUserSuspended]:{customAction:()=>{0===e.length&&this.setState({allUsersUnavailable:!0})}}}))}}const w=L(C);l.a=w},htvZ:function(e,l,a){"use strict";a.d(l,"b",(function(){return h})),a.d(l,"a",(function(){return k}));var n=a("ERkP"),t=a.n(n),s=a("v6aA"),i=a("X/yg"),r=(a("kYxP"),a("8W85"));function o(){const e=t.a.useContext(k),[l,a]=e.activeVoiceMessage,[,n]=e.playerApi,[,s]=e.playerState,[,i]=l;const o={media:i,onEnded:function(){a([null,null]),e.scribeAction&&e.scribeAction.complete()},onPlayerApi:n,onPlayerState:s};return t.a.createElement(r.a,o)}a("849X");var c=a("89tF"),d=a("k89r");function u(e){const l=function(){const e=t.a.useState(p.activeVoiceMessage),l=t.a.useState(p.playerApi),a=t.a.useState(p.playerState),n=function(){const e=Object(d.a)();return t.a.useMemo((()=>{const l={page:"messages",section:"thread",component:"message",element:"voice"};function a({action:e,component:a=l.component}){const{element:n,page:t,section:s}=l;return{page:t,section:s,component:a,element:n,action:e}}const n=(l,n)=>n?n.data?e.scribe({...a({action:l}),data:n.data}):e.scribe({...a({action:l,component:g(n)})}):e.scribe({...a({action:l})});return{impression:e=>n("impression",e),report:e=>n("report",e),play:e=>n("play",e),pause:()=>n("pause"),complete:()=>n("complete")}}),[e])}();return{activeVoiceMessage:e,playerApi:l,playerState:a,scribeAction:n}}();return t.a.createElement(y.Provider,{value:l},e.children)}const m={Timelines:Object(c.a)({message:!0,inbox_timeline:!0,low_quality_timeline:!0,requests_timeline:!0})};function g({isLowQuality:e,isTrusted:l}){return l?m.Timelines.inbox_timeline:e?m.Timelines.low_quality_timeline:m.Timelines.requests_timeline}const p={activeVoiceMessage:[null,null],playerApi:null,playerState:null,scribeAction:null},y=t.a.createContext({activeVoiceMessage:[p.activeVoiceMessage,_],playerApi:[p.playerApi,_],playerState:[p.playerState,_],scribeAction:null});function _(){throw new Error("DMVoiceContext is not initialized")}function h(e){const{featureSwitches:l}=t.a.useContext(s.a);return Object(i.o)(l)?t.a.createElement(u,null,e.children,t.a.createElement(o,null)):e.children}const k=y},hxu0:function(e,l,a){"use strict";var n=a("97Jx"),t=a.n(n),s=a("ERkP"),i=a.n(s),r=a("vqbU");l.a=e=>l=>i.a.createElement(r.a.Consumer,null,(a=>i.a.createElement(e,t()({},l,{isInSidebar:a}))))},"ii+P":function(e,l,a){"use strict";a.d(l,"b",(function(){return i}));var n=a("ERkP"),t=a.n(n),s=a("wtru");function i(e){const l=Object(s.b)();return[!!l&&!l.flags[e],t.a.useCallback((()=>{null==l||l.addFlag(e)}),[l,e])]}l.a=i},ijJS:function(e,l,a){"use strict";a.d(l,"a",(function(){return k}));var n=a("ERkP"),t=a.n(n),s=a("MWbm"),i=a("TIdA"),r=a("A91F"),o=a("rHpw"),c=a("t62R"),d=a("qqsb"),u=a.n(d),m=a("aX4+"),g=a("b5s6"),p=a("4n2h");const y=u.a.ga086a54,_=({accessibilityLabel:e,image:l})=>t.a.createElement(s.a,{style:v.thumbnail},t.a.createElement(i.a,{accessibilityLabel:e,aspectMode:r.a.SQUARE,backgroundColor:o.a.theme.colors.gray300,image:l})),h=({card:e,tweetUserId:l})=>t.a.createElement(m.a,{card:{name:e.name,url:e.url,binding_values:e.binding_values,users:e.users},cardContext:{tweetUserId:l}});function k({accessibilityLabel:e,card:l,content:a,isMessageSearchItem:n=!1,isSelected:i=!1,searchImage:r,tweetId:o,tweetUserId:d,unread:u=!1}){const m=Object(p.a)(u,i),k=Object(p.b)(u);return n&&(r||l||o)?t.a.createElement(s.a,{style:r?v.mediaContainer:void 0},t.a.createElement(s.a,{style:l||o?v.cardMessageText:v.messageText},t.a.createElement(c.b,{color:m,numberOfLines:2,weight:k},a)),l&&d?t.a.createElement(h,{card:l,tweetUserId:d}):null,o?t.a.createElement(g.a,{tweetId:o}):null,r?t.a.createElement(_,{accessibilityLabel:e||y,image:r}):null):t.a.createElement(c.b,{color:m,numberOfLines:n?2:1,style:n?v.messageText:void 0,weight:k},a)}const v=o.a.create((e=>({thumbnail:{height:e.spacesPx.space40,width:e.spacesPx.space40,borderRadius:e.borderRadii.large,marginLeft:`calc(${e.spaces.space8} + ${e.spaces.space2})`,overflow:"hidden"},cardMessageText:{paddingVertical:`calc(${e.spaces.space8} + ${e.spaces.space2})`},messageText:{maxWidth:`calc(100% - (${e.spaces.space48} + ${e.spaces.space2}))`,paddingVertical:e.spaces.space2},mediaContainer:{flexDirection:"row",justifyContent:"space-between"}})))},iunV:function(e,l,a){"use strict";var n,t,s={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"message"},{defaultValue:null,kind:"LocalArgument",name:"target"}],kind:"Fragment",metadata:null,name:"useSendMessageMutation",selections:t=[{alias:null,args:[{kind:"Variable",name:"message",variableName:"message"},{kind:"Literal",name:"s",value:"d13c"},{kind:"Variable",name:"target",variableName:"target"}],concreteType:null,kind:"LinkedField",name:"create_dm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useSendMessageMutation",selections:t},params:{id:"V1X0AqeRDf3jOpVzYKlvdg",metadata:{},name:"useSendMessageMutation",operationKind:"mutation",text:null}};s.hash="9f02923cb63ff1de10d44a45b2029eab",e.exports=s},lAtx:function(e,l,a){"use strict";a.r(l),a.d(l,"POLL_INTERVAL",(function(){return qe}));var n=a("ERkP"),t=a.n(n),s=a("mw9i"),i=a("Vc8w"),r=a("dwig"),o=a("v6aA"),c=a("Fy0n"),d=a("yoO3"),u=a("AQ79"),m=a("zCf4"),g=a("rxPX"),p=a("MMRb"),y=a("Y6L+");const _=(e,l)=>{const a=Object(m.e)(l.location.pathname,{path:`/messages/${y.j}(/.*)?`,exact:!0,strict:!1});return null==a?void 0:a.params.conversationId},h=(e,l)=>{const a=_(0,l);return Object(p.selectInboxTypeByConversation)(e,a)};var k=Object(g.a)().propsFromState((()=>({conversationId:_,inboxType:h}))),v=a("q7xZ"),b=a("zsGg"),F=a("pdDm"),f=a("4hmp"),T=(a("kYxP"),a("pxuL")),K=a("qz2E"),S=a("f42t"),E=a("5FtR"),L=a("hl/W"),I=a("pXKu"),R=a("nySH"),C=a("FIs5"),w=a("rHpw"),M=a("jYSG");function x(e){return t.a.createElement(t.a.Fragment,null,t.a.createElement(C.a,{header:e.tombstone?"":R.a,message:M.a,style:A.emptyMessage}),e.tombstone)}const A=w.a.create((e=>({emptyMessage:{borderBottomStyle:"solid",borderBottomColor:e.colors.borderColor,borderBottomWidth:e.borderWidths.small,paddingVertical:e.spaces.space16}})));var D=a("0yYu"),O=a("qqsb"),P=a.n(O),U=a("Lz2T"),H=a("Irs7"),q=a("0KEI"),N=a("P1r1");var j=Object(g.a)().propsFromState((()=>({dmNsfwMediaFilter:N.l}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(q.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_INBOX"),updateDmNsfwMediaFilter:N.M}))).withAnalytics({page:"messages",section:"inbox"});const W=P.a.j24c37b2,B=P.a.f5dc353c,V=P.a.daeda054,z=P.a.fe1eaa96;var Q=j((e=>{const{createLocalApiErrorHandler:l,dmNsfwMediaFilter:a,updateDmNsfwMediaFilter:n}=e,{featureSwitches:s}=t.a.useContext(o.a),i=s.isTrue("dm_conversations_nsfw_media_filter_enabled"),[r,c]=t.a.useState(void 0===a&&i),d=Object(H.b)(),u=t.a.useCallback((()=>{c(!1),n(!0).catch(l())}),[n,l]);return t.a.useEffect((()=>()=>{void 0===a&&i&&u()}),[a,i,u]),r?t.a.createElement(t.a.Fragment,null,t.a.createElement(U.a,{bodyText:z,primaryAction:{onClick:()=>{d.scribe({component:"dm_nsfw_prompt",element:"primary_action",action:"click"}),u()},text:W},secondaryAction:{link:"/settings/direct_messages",onClick:()=>{d.scribe({component:"dm_nsfw_prompt",element:"secondary_action",action:"click"})},text:V},titleText:B}),t.a.createElement(D.a,null)):null})),G=a("t62R"),Y=a("M2mT");const $=P.a.cf2d1048;function X(e){const l=Object(m.f)(),a=Object(m.i)();return t.a.createElement(Y.a,{backLocation:"/messages",onBackClick:()=>{l.push(Object(R.b)(u.d.PRIMARY))},rightControl:Object(R.d)("/settings/direct_messages",!0),screenType:"secondaryRoot",title:t.a.createElement(G.b,{size:"headline2"},$),withDetailOpen:!a.isExact},e.children)}var J=a("MWbm"),Z=a("uDfI"),ee=a("cm6r");const le=P.a.eb7de4aa,ae=P.a.a0e81a2e;function ne(e){const{isAtEndOfUntrustedInbox:l,untrustedConversationIds:a}=e,n=Object(H.b)(),s=Object(Z.d)(N.r);t.a.useEffect((()=>{s&&l&&n.scribe({element:"low_quality_pivot",action:"impression"})}),[n,l,s]);return l&&s?t.a.createElement(J.a,null,a.length>0&&t.a.createElement(D.a,null),t.a.createElement(J.a,{style:te.tombstoneDescription},t.a.createElement(G.b,{color:"gray700",size:"subtext2"},le)),t.a.createElement(ee.a,{link:Object(R.b)(u.d.TERTIARY),onPress:()=>{n.scribe({element:"low_quality_pivot",action:"click"})},style:te.tombstoneContainer},t.a.createElement(G.b,{align:"center",color:"primary",size:"body"},ae))):null}const te=w.a.create((e=>({tombstoneContainer:{borderTopStyle:"solid",borderTopColor:e.colors.borderColor,borderTopWidth:e.borderWidths.small,borderBottomStyle:"solid",borderBottomColor:e.colors.borderColor,borderBottomWidth:e.borderWidths.small,paddingVertical:e.spaces.space12},tombstoneDescription:{paddingHorizontal:e.spaces.space16,paddingVertical:e.spaces.space16}})));class se extends t.a.Component{constructor(...e){super(...e),this.componentDidMount=()=>{this.context.incrementDmDrawerSuppressorCount()},this.componentWillUnmount=()=>{this.context.decrementDmDrawerSuppressorCount()},this._renderTombstone=()=>{const{allowLowQualityUntrustedInbox:e,conversationIds:l,isAtEndOfUntrustedInbox:a}=this.props;return e?t.a.createElement(ne,{isAtEndOfUntrustedInbox:a,untrustedConversationIds:l}):null},this._renderEmptyDMInbox=()=>{const e=this._renderTombstone();return t.a.createElement(x,{tombstone:e})}}render(){const{allowUntrustedInbox:e,analytics:l,conversationIds:a,fetchInboxHistory:n,updateLastSeenEventId:s}=this.props;return e?t.a.createElement(X,null,t.a.createElement(Q,null),t.a.createElement(I.a,{accessibilityTitle:$,analytics:l,conversationIds:a,fetchInboxHistory:n,footer:this._renderTombstone(),inboxType:u.d.SECONDARY,renderEmptyDMInbox:this._renderEmptyDMInbox,renderStickyContent:()=>Object(R.e)(this.props.conversationIds),updateLastSeenEventId:s,virtualScrollerCacheKey:"dmUntrustedInbox"})):t.a.createElement(E.a,{to:"/messages"})}}se.contextType=T.a,se.defaultProps={conversationIds:[]};var ie=Object(S.a)(Object(L.a)({inbox:u.d.SECONDARY})(se),{directMessages:K.a}),re=(a("Qavd"),a("UIzd")),oe=a.n(re),ce=(a("enFi"),a("Ud88")),de=a.n(ce),ue=a("lnti"),me=a("TEoO"),ge=a("IG4P"),pe=a("Fr3L"),ye=a("GSsg"),_e=a("DQzJ"),he=a("Ka95"),ke=a("DbJc");var ve,be,Fe=Object(g.a)().propsFromState((()=>({isDmQualityFilterEnabled:N.r,isDmsOpenForAll:N.s}))).withAnalytics({page:"messages",section:"inbox"});const fe=e=>e.__id,Te=void 0!==ve?ve:ve=a("XZOd"),Ke=void 0!==be?be:be=a("FWve"),Se={context:"DM_INBOX_SECONDARY_CONTEXT"},Ee=e=>{var l;const{isDmQualityFilterEnabled:a,isDmsOpenForAll:n,pollInterval:s}=e,[i,r]=t.a.useState(!1),o=a?Te:Ke,{data:c,fetchNext:d,hasNext:m}=Object(_e.a)(o,{}),g=Object(q.useCreateLocalApiErrorHandler)("DM_INBOX_SECONDARY_EVOLUTION"),p=de()(),y=(null==c||null==(l=c.untrusted)?void 0:l.items)||[],_=Object(ue.a)(y.map((e=>{var l;return null==e||null==(l=e.dm_conversation_results)?void 0:l.result}))),h=_.map((e=>e.__id));let k=[];if(a){var v;const e=(null==c||null==(v=c.low_quality)?void 0:v.items)||[];k=Object(ue.a)(e.map((e=>{var l;return null==e||null==(l=e.dm_conversation_results)?void 0:l.result})))}const b=t.a.useCallback((()=>{r(!0),oe()(p,Te,{}).toPromise().catch(g({})).finally((()=>r(!1)))}),[g,p]);t.a.useEffect((()=>{const e=new ye.a((()=>{b()}),{interval:s});return e.start(),()=>{e.stop()}}),[b,s]);const F=Object(R.e)(h),f=()=>a&&k.length?t.a.createElement(ne,{isAtEndOfUntrustedInbox:!m,untrustedConversationIds:h}):null;return n?t.a.createElement(X,null,t.a.createElement(Q,null),t.a.createElement(ge.a,{isRefreshing:i,onRefresh:b},t.a.createElement(me.a,{accessibilityRole:"tablist",accessibilityTitle:$,anchoring:ke.a,assumedItemHeight:100,cacheKey:"dmUntrustedInbox",footer:f(),header:F,identityFunction:fe,items:_,noItemsRenderer:()=>t.a.createElement(x,{tombstone:f()}),onNearEnd:d,renderer:(e,l)=>(l&&l(!0),t.a.createElement(he.a,{conversationIds:h,dm_conversation:e,inboxType:u.d.SECONDARY,isPinned:!1})),withKeyboardShortcuts:!0,withoutHeadroom:!0}))):t.a.createElement(E.a,{to:"/messages"})};var Le=Fe((function(e){return t.a.createElement(pe.a,{errorConfig:Se},t.a.createElement(Ee,e))})),Ie=a("WjvF");function Re(e){return t.a.createElement(C.a,{header:R.a,message:M.a})}function Ce(e){const l=Object(m.f)(),a=Object(m.i)();return t.a.createElement(Y.a,{backLocation:Object(R.b)(u.d.SECONDARY),onBackClick:()=>{l.push(Object(R.b)(u.d.SECONDARY))},rightControl:Object(R.d)("/settings/direct_messages",!0),screenType:"secondaryRoot",title:R.f,withDetailOpen:!a.isExact},e.children)}const we=P.a.bece84b4,Me=P.a.ee8c0c8a;class xe extends t.a.Component{constructor(...e){super(...e),this.componentDidMount=()=>{this.context.incrementDmDrawerSuppressorCount()},this.componentWillUnmount=()=>{this.context.decrementDmDrawerSuppressorCount()},this._renderEmptyDMInbox=()=>t.a.createElement(C.a,{header:we,imageVariants:Object(Ie.b)(Ie.a.PaintCoveredHand),message:Me}),this._handleBackClick=()=>{this.props.history.push(Object(R.b)(u.d.SECONDARY))},this._hasDetailOpen=()=>{const{match:e}=this.props;return!e.isExact}}render(){const{analytics:e,conversationIds:l,fetchInboxHistory:a,updateLastSeenEventId:n}=this.props;return t.a.createElement(Ce,null,t.a.createElement(I.a,{accessibilityTitle:R.f,analytics:e,conversationIds:l,fetchInboxHistory:a,inboxType:u.d.TERTIARY,renderEmptyDMInbox:()=>t.a.createElement(Re,null),renderStickyContent:()=>Object(R.e)(this.props.conversationIds),updateLastSeenEventId:n,virtualScrollerCacheKey:"dmLowQualityUntrustedInbox"}))}}xe.contextType=T.a;var Ae,De=Object(S.a)(Object(L.a)({inbox:u.d.TERTIARY})(xe),{directMessages:K.a});const Oe=e=>e.__id,Pe=void 0!==Ae?Ae:Ae=a("SDjT"),Ue=e=>{var l;const{pollInterval:a}=e,{data:n,fetchNext:s}=Object(_e.a)(Pe,{}),[i,r]=t.a.useState(!1),o=Object(q.useCreateLocalApiErrorHandler)("DM_INBOX_TERTIARY_EVOLUTION"),c=de()(),d=t.a.useCallback((()=>{r(!0),oe()(c,Pe,{}).toPromise().catch(o({})).finally((()=>r(!1)))}),[o,c]);t.a.useEffect((()=>{const e=new ye.a((()=>{d()}),{interval:a});return e.start(),()=>{e.stop()}}),[d,a]);const m=(null==n||null==(l=n.dm_convo_list_slice)?void 0:l.items)||[],g=Object(ue.a)(m.map((e=>{var l;return null==e||null==(l=e.dm_conversation_results)?void 0:l.result}))),p=g.map((e=>e.__id)),y=Object(R.e)(p);return t.a.createElement(Ce,null,t.a.createElement(ge.a,{isRefreshing:i,onRefresh:d},t.a.createElement(me.a,{accessibilityRole:"tablist",accessibilityTitle:R.f,anchoring:ke.a,assumedItemHeight:100,cacheKey:"dmLowQualityUntrustedInbox",header:y,identityFunction:Oe,items:g,noItemsRenderer:()=>t.a.createElement(Re,null),onNearEnd:s,renderer:(e,l)=>(l&&l(!0),t.a.createElement(he.a,{conversationIds:p,dm_conversation:e,inboxType:u.d.TERTIARY,isPinned:!1})),withKeyboardShortcuts:!0,withoutHeadroom:!0})))};function He(e){return t.a.createElement(pe.a,{errorConfig:{context:"DM_INBOX_TERTIARY_CONTEXT"}},t.a.createElement(Ue,e))}const qe=8e3,Ne=k((e=>{const{conversationId:l,inboxType:a,...n}=e,{location:m}=e,{featureSwitches:g}=t.a.useContext(o.a);Object(i.a)();const p=e=>t.a.createElement(d.a,null,t.a.createElement(v.a,null),t.a.createElement(r.a,{component:s.a,fab:t.a.createElement(c.a,null),style:f.a.root},e));return a===u.d.TERTIARY||"/messages/requests/additional"===m.pathname?g.isTrue("dm_evolution_enabled")&&g.isTrue("dm_evolution_inbox_tertiary_enabled")?p(t.a.createElement(He,{pollInterval:qe})):t.a.createElement(De,n):a===u.d.SECONDARY||"/messages/requests"===m.pathname?g.isTrue("dm_evolution_enabled")&&g.isTrue("dm_evolution_inbox_secondary_enabled")?p(t.a.createElement(Le,{pollInterval:qe})):t.a.createElement(ie,n):g.isTrue("dm_evolution_enabled")&&g.isTrue("dm_evolution_inbox_primary_enabled")?p(t.a.createElement(F.a,{pollInterval:qe})):t.a.createElement(b.a,n)}));l.default=Ne},lBmi:function(e,l,a){"use strict";var n=a("ERkP"),t=a.n(n),s=a("k/Ka"),i=a("Lsrn");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},t.a.createElement("g",null,t.a.createElement("path",{d:"M23.885 19.5c-.762-3.064-3.72-5.206-7.19-5.206-1.17 0-2.27.265-3.258.707 1.246 1.08 2.157 2.5 2.564 4.138.252 1.004.052 2.03-.52 2.86h6.48c.627 0 1.2-.27 1.57-.744.38-.49.51-1.13.355-1.753zm-9.695 1.755c.38-.49.512-1.13.356-1.754-.375-1.506-1.284-2.785-2.52-3.7-1.278-.95-2.905-1.507-4.67-1.507-3.47 0-6.428 2.142-7.19 5.208-.156.626-.025 1.266.356 1.755.37.473.94.744 1.567.744h10.533c.627 0 1.197-.272 1.567-.745zm2.505-8.218c1.185 0 2.51-.132 3.368-1.11.72-.823.952-2.08.715-3.847-.333-2.478-1.86-3.956-4.083-3.956-2.225 0-3.75 1.48-4.084 3.956-.235 1.766 0 3.023.718 3.846.858.98 2.184 1.11 3.368 1.11zm-9.34 0c1.185 0 2.51-.132 3.367-1.11.72-.823.953-2.08.716-3.847-.333-2.478-1.86-3.956-4.083-3.956-2.225 0-3.75 1.48-4.084 3.956-.235 1.766 0 3.023.718 3.846.858.98 2.184 1.11 3.368 1.11z"})));r.metadata={width:24,height:24},l.a=r},"maE+":function(e,l,a){"use strict";a.d(l,"a",(function(){return m}));var n=a("ERkP"),t=a.n(n),s=a("FIs5"),i=a("qqsb"),r=a.n(i),o=a("Irs7");const c=r.a.a676a876,d=r.a.j2611eac,u=r.a.efe8fda0;function m(e){const l=Object(o.b)();return t.a.createElement(t.a.Fragment,null,e.messageRequestPivot,t.a.createElement(s.a,{buttonLink:"/messages/compose",buttonText:u,header:c,message:d,onImpression:()=>{l.scribe({component:"empty_message",action:"impression"})}}))}},nySH:function(e,l,a){"use strict";a.d(l,"a",(function(){return y})),a.d(l,"f",(function(){return _})),a.d(l,"b",(function(){return h})),a.d(l,"c",(function(){return k})),a.d(l,"d",(function(){return v})),a.d(l,"e",(function(){return b}));var n=a("ERkP"),t=a.n(n),s=a("MWbm"),i=a("cHvH"),r=a("t62R"),o=a("rHpw"),c=a("qqsb"),d=a.n(c),u=a("+Bsv"),m=a("HPNB"),g=a("AQ79"),p=a("jYSG");const y=d.a.bece84b4,_=d.a.e7172d70,h=e=>{switch(e){case g.d.SECONDARY:return"/messages/requests";case g.d.TERTIARY:return"/messages/requests/additional";case g.d.PRIMARY:default:return"/messages"}},k=(e,l,a)=>{const n=l.get(e),t=a&&l.get(a);if(!n||!t)return;const s=t.getLinkedRecords("items")||[],i=n.getValue("rest_id"),r=[];let o=!1;s.forEach((e=>{const l=e&&e.getLinkedRecord("dm_conversation_results"),a=l&&l.getLinkedRecord("result"),n=a&&a.getValue("rest_id");n&&(i===n&&o||(r.push(e),o||(o=!0)))})),t.setLinkedRecords(r,"items")},v=(e,l)=>t.a.createElement(u.a,{pullRight:l,to:e}),b=e=>t.a.createElement(i.a,null,(({windowWidth:l})=>{const a=m.a.isTwoColumnLayout(l),n=0===e.length;return a||n?null:t.a.createElement(s.a,{style:F.stickyCopyContainer},t.a.createElement(r.b,{style:F.stickyCopy},p.a))})),F=o.a.create((e=>({stickyCopyContainer:{backgroundColor:e.colors.cellBackground,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor,zIndex:1},stickyCopy:{color:e.colors.gray700,padding:e.spaces.space20}})))},pXKu:function(e,l,a){"use strict";a("kYxP");var n=a("ERkP"),t=a.n(n),s=a("tI3i"),i=a.n(s),r=a("2g+p"),o=a("MWbm"),c=a("6OUF"),d=a("mw9i"),u=a("qqsb"),m=a.n(u),g=a("VwDm"),p=a("BcsE"),y=a("+d3d"),_=a("BUB3"),h=a("dwig"),k=a("v//M"),v=a("sNn6"),b=a("TEoO"),F=a("v6aA"),f=a("Fy0n"),T=a("yoO3"),K=a("IG4P"),S=a("883S"),E=a("GSsg"),L=a("TnY3"),I=a("AQ79"),R=a("ZYFu"),C=a("NjAB"),w=a("uDfI"),M=a("9SqB"),x=a.n(M),A=a("Ud88"),D=a.n(A),O=(a("enFi"),a("UIzd")),P=a.n(O),U=a("h3MB"),H=a("Fr3L"),q=a("GPmX"),N=a("q8SM"),j=a("MMRb"),W=a("q+MS"),B=a("1YZw"),V=a("oUUt"),z=a("DQzJ"),Q=a("d9IC"),G=a("pHkl"),Y=a("DbJc"),$=a("gEJU"),X=a("QvgI"),J=a("0KEI"),Z=a("rxPX");var ee,le,ae,ne=Object(Z.a)().propsFromState((()=>({pinnedConversationIds:j.selectPinnedConversationIds}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(J.createLocalApiErrorHandlerWithContextFactory)("DM_PINNED_INBOX_CONTEXT")}))).withAnalytics({page:"messages",section:"inbox"});const te=m.a.e4b3f520,se=m.a.ae4d666a,ie=m.a.d98e066c,re=m.a.j302dba8,oe=e=>e,ce=void 0!==ee?ee:ee=a("X8um"),de={context:"DM_PINNED_INBOX"},ue=e=>{var l;const n=Object(w.c)(),{accessibilityTitle:s,analytics:i,cacheKey:r,conversationIds:o,createLocalApiErrorHandler:c,footer:d,header:u,onNearEnd:m,pinnedConversationIds:g,renderEmptyDMInbox:p,renderInboxItem:y,showSearchView:_,withKeyboardShortcuts:h}=e,k=D()(),{data:v}=Object(z.a)(ce,{label:I.a.PINNED}),f=t.a.useMemo((()=>{var e;return(null==v||null==(e=v.labeled_conversation_slice)?void 0:e.items)||[]}),[v]),{entities:T}=Object(C.b)(f,[U.b]),{featureSwitches:S}=t.a.useContext(F.a),E=S.getNumberValue("dm_conversation_labels_max_pinned_count"),[L,R]=t.a.useState(!1),[M,A]=t.a.useState(!1),O=Object(q.a)(v);t.a.useEffect((()=>{var e;const l=(null==O||null==(e=O.labeled_conversation_slice)?void 0:e.items)||[],a=null==l?void 0:l.filter((e=>-1===f.indexOf(e.rest_id)));a.length&&a.forEach((e=>{var l;const a=null==(l=e.labels)?void 0:l.filter((e=>e.label_type!==I.a.PINNED));n(Object(W.a)({conversations:{[e.rest_id]:{...e,labels:a}}}))})),n(Object(W.a)(T,!1))}),[v]);const H=t.a.useCallback((()=>{R(!0);const e=P()(k,ce,{label:I.a.PINNED}).toPromise();Promise.all([e,()=>n(j.fetchInbox())]).then((()=>R(!1))).catch((e=>{c()(e),R(!1)}))}),[c,n,k]),[Q]=x()(void 0!==le?le:le=a("ZH9U")),[J]=x()(void 0!==ae?ae:ae=a("rQjK")),Z=t.a.useCallback(((e,l)=>{Q({variables:{conversation_id:e,label:I.a.PINNED},onCompleted(a){var t;switch(null==(t=a.add_dm_conversation_label_v3)?void 0:t.__typename){case"DMConversationLabelInfo":{const{label_type:t,timestamp:s}=a.add_dm_conversation_label_v3;n(Object(W.a)({conversations:{[e]:{...l,labels:[{label_type:t,timestamp:s}]}}})),n(Object(B.b)({ariaOnly:!0,text:ie}));break}case"DMConversationLabelUnavailable":{const{failure_reason:e}=a.add_dm_conversation_label_v3;i.scribe({element:"thread",action:"error_shown",data:{error_type:G.i.MAX_PINS_REACHED}}),"ExceededMaxPinnedConversations"===e&&A(!0);break}}},onError(e){c(N.a)(e)}})}),[n,c,Q,i]),ee=t.a.useCallback(((e,l)=>{J({variables:{conversation_id:e,label_type:I.a.PINNED},onCompleted(a){var t;const s=l?null==l||null==(t=l.labels)?void 0:t.filter((e=>e.label_type!==I.a.PINNED)):[];n(Object(W.a)({conversations:{[e]:{...l,labels:s}}})),n(Object(B.b)({ariaOnly:!0,text:re}))},updater(l){var a,n;const t=null==(a=f.find((l=>l.rest_id===e)))?void 0:a.id,s=null==v||null==(n=v.labeled_conversation_slice)?void 0:n.__id;if(!t||!s)return;const i=l.get(t),r=l.get(s);r&&i&&(Object(V.b)(r,t),l.delete(t))},onError(e){c(N.b)(e)}})}),[c,f,null==v||null==(l=v.labeled_conversation_slice)?void 0:l.__id,n,J]),ne=null==o?void 0:o.filter((e=>-1===g.indexOf(e))),de=g.length&&ne.length,ue=t.a.createElement(t.a.Fragment,null,u,null!=g&&g.length?t.a.createElement(t.a.Fragment,null,me(te),g.map(((e,l)=>y({conversationIds:g,pinConversation:Z,unpinConversation:ee})(e)))):null,de?me(se):null);return null!=o&&o.length?t.a.createElement(t.a.Fragment,null,M?t.a.createElement($.a,{count:E,setShowPinError:A}):null,_?t.a.createElement(X.a,{accessibilityTitle:s,analytics:i,conversationIds:o,hideRecentSearches:e.hideRecentSearches,onQueryChange:e.onQueryChange,pinConversation:Z,query:e.query,unpinConversation:ee}):t.a.createElement(K.a,{isRefreshing:L,onRefresh:H},r&&null!=ne&&ne.length?t.a.createElement(b.a,{accessibilityRole:"tablist",accessibilityTitle:s,anchoring:Y.a,assumedItemHeight:100,cacheKey:r,footer:d,header:ue,identityFunction:oe,items:ne,onNearEnd:m,renderer:y({conversationIds:ne,pinConversation:Z,unpinConversation:ee}),withKeyboardShortcuts:h,withoutHeadroom:!0}):ue)):p()},me=e=>t.a.createElement(o.a,null,t.a.createElement(Q.a,{headerText:e,isInboxLabelHeader:!0}));function ge(e){return t.a.createElement(H.a,{errorConfig:de},t.a.createElement(ue,e))}var pe=ne(t.a.memo(ge)),ye=a("4hmp"),_e=a("q7xZ"),he=a("kGix");var ke=Object(Z.a)().propsFromState((()=>({hasConversations:j.selectHasConversations,fetchStatus:j.selectFetchStatus,isLoadingTop:j.selectIsLoadingTop}))).adjustStateProps((({fetchStatus:e,hasConversations:l,isLoadingTop:a})=>({fetchStatus:l?he.a.LOADED:e,isRefreshing:l&&a}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(J.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_INBOX"),fetchInbox:j.fetchInbox,fetchInboxIfNeeded:j.fetchInboxIfNeeded,fetchUpdates:j.fetchUpdatesIfNeeded})));const ve=e=>e,be=m.a.a66ac766,Fe=m.a.fe61929e,fe=m.a.a846382a;class Te extends t.a.Component{constructor(e,l){var a,n,s,d,u,m,y;super(e,l),this.state={showSearchView:!(null==(a=this.props)||null==(n=a.location)||null==(s=n.state)||!s.searchQuery),searchQuery:null!=(d=null==(u=this.props)||null==(m=u.location)||null==(y=m.state)?void 0:y.searchQuery)?d:""},this._enablePinnedInbox=this.context.featureSwitches.isTrue("dm_conversation_labels_pinned_enabled")&&this.context.featureSwitches.isTrue("direct_messages_incremental_holdback_2022h1"),this._messageSearchEnabled=this.context.featureSwitches.isTrue("dm_inbox_search_message_results_enabled")&&this.context.featureSwitches.isTrue("direct_messages_incremental_holdback_2022h1"),this._modularSearchEnabled=this.context.featureSwitches.isTrue("dm_inbox_search_modular_results_enabled"),this._isVDLEnabled=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_inbox_p0_enabled"),this._render=()=>{const{withPinnedInbox:e}=this.props;return this._enablePinnedInbox&&e?this._renderPinnedInbox():this._renderInbox()},this._renderFocusedSearch=()=>{const{accessibilityTitle:e,analytics:l,conversationIds:a}=this.props,{searchQuery:n}=this.state;return t.a.createElement(X.a,{accessibilityTitle:e,analytics:l,conversationIds:a,hideRecentSearches:this._hideRecentSearches,onQueryChange:this._handleQueryChange,query:n})},this._renderInbox=()=>{var e,l;const{accessibilityTitle:a,conversationIds:n,footer:s,isDrawer:i,isRefreshing:r,renderEmptyDMInbox:o,virtualScrollerCacheKey:c}=this.props,{showSearchView:d}=this.state;return d||null!=(e=this.props.location)&&null!=(l=e.state)&&l.searchQuery?this._renderFocusedSearch():t.a.createElement(K.a,{isRefreshing:r,onRefresh:this._handlePullToRefresh},c&&n?t.a.createElement(b.a,{accessibilityRole:"tablist",accessibilityTitle:a,anchoring:Y.a,assumedItemHeight:100,cacheKey:c,footer:s,header:this._renderHeader(),identityFunction:ve,items:n,noItemsRenderer:o,onNearEnd:this._handleNearEnd,renderer:this._renderInboxItem({conversationIds:n}),withKeyboardShortcuts:!i,withoutHeadroom:!0}):null)},this._handleNearEnd=()=>{this._handleHistoryRequest()},this._handleQueryChange=e=>{this.setState({searchQuery:e})},this._handleSearchChange=({currentTarget:{value:e}})=>{this.state.showSearchView||this.setState({showSearchView:!0})},this._handleSearchClick=()=>{const{analytics:e}=this.props;e.scribe({component:"search",action:"click"}),this.setState({showSearchView:!0})},this._hideRecentSearches=()=>{this.setState({showSearchView:!1,searchQuery:""})},this._renderInboxItem=({conversationIds:e,pinConversation:l,unpinConversation:a})=>(n,s)=>{const{loggedInUserId:r}=this.context,{location:o}=this.props,{searchQuery:c}=this.state,d=n,u={pathname:`/messages/${d}`,state:{...null==o?void 0:o.state,entryPoint:null,searchQuery:c}},m=d&&null!=e&&e.length?e.indexOf(d):null,g=Object(p.a)(m)?m+1:0;i()(!!r,"loggedInUserId must be defined"),s&&s(!0);const y=e=>t.a.createElement(R.a,{conversationId:d,inboxType:this.props.inboxType,isActive:e,key:d,link:u,onClick:this._handleConversationClick,perspective:r,pinConversation:l,position:g,searchQuery:c,unpinConversation:a});return this._isVDLEnabled?t.a.createElement(v.a,{exact:!1,path:u.pathname},y):t.a.createElement(_.a,{exact:!1,path:u.pathname},y)},this._renderPinnedInbox=()=>{const{accessibilityTitle:e,conversationIds:l,footer:a,isDrawer:n,renderEmptyDMInbox:s,virtualScrollerCacheKey:i}=this.props,{searchQuery:r,showSearchView:o}=this.state;return l.length?t.a.createElement(pe,{accessibilityTitle:e,cacheKey:i,conversationIds:l,footer:a,header:this._renderHeader(),hideRecentSearches:this._hideRecentSearches,onNearEnd:this._handleNearEnd,onQueryChange:this._handleQueryChange,query:r,renderEmptyDMInbox:s,renderInboxItem:this._renderInboxItem,showSearchView:o,withKeyboardShortcuts:!n}):s()},this._handleFetchInitialWrapper=()=>{this._handleFetchInitial()},this._handleFetchInitial=()=>{const{createLocalApiErrorHandler:e,fetchInboxIfNeeded:l,fetchUpdates:a}=this.props;return l().then(this._updateLastSeenEventId,e()).then((()=>{this._updatePolling.start()})).then((()=>a().catch(e())))},this._handleConversationClick=(e,l)=>{const{customCellClick:a}=this.props;a&&a(e,l)},this._handleEmptyDMInboxImpression=()=>{const{analytics:e}=this.props;e.scribe({component:"empty_message",action:"impression"})},this._handlePullToRefresh=()=>{const{createLocalApiErrorHandler:e,fetchInbox:l}=this.props;l().then(this._updateLastSeenEventId,e())},this._updateLastSeenEventIdIfActive=()=>{if("background"!==r.a.currentState)return this._updateLastSeenEventId()},this._renderHeader=()=>{const{renderStickyContent:e,withDmSearch:l}=this.props,a=[ye.a.searchInput,this._isVDLEnabled?void 0:ye.a.searchInputBorder];return t.a.createElement(t.a.Fragment,null,l?t.a.createElement(o.a,{onClick:this._handleSearchClick,style:a},t.a.createElement(c.a,{Icon:g.a,autoComplete:"off",isCompact:!0,onChange:this._handleSearchChange,placeholder:this._messageSearchEnabled?fe:Fe,withClearButton:!0})):null,e?e():null)},this._updateLastSeenEventId=()=>{const{createLocalApiErrorHandler:e,updateLastSeenEventId:l}=this.props;return l().catch(e())},this._fab=t.a.createElement(f.a,null)}componentDidMount(){const{createLocalApiErrorHandler:e,fetchInboxHistory:l,fetchUpdates:a}=this.props;return this._updatePolling=new E.a((()=>{a().then(this._updateLastSeenEventIdIfActive,e(S.a))}),{interval:8e3}),this._handleHistoryRequest=Object(y.a)(((...a)=>{l(...a).catch(e())}),1e3),this._handleFetchInitial()}componentWillUnmount(){this._updatePolling.stop()}render(){return t.a.createElement(T.a,{locationKey:"messagesRoot"},t.a.createElement(_e.a,null),t.a.createElement(h.a,{component:d.a,fab:this._fab,style:ye.a.root},t.a.createElement(k.a,{accessibilityLabel:be,fetchStatus:this.props.fetchStatus,onRequestRetry:this._handleFetchInitialWrapper,render:this._render})))}}Te.contextType=F.a,Te.defaultProps={conversationIds:[],inboxType:I.d.PRIMARY,isDrawer:!1,withDmSearch:!1,withPinnedInbox:!1};l.a=Object(L.a)(ke(Te))},pdDm:function(e,l,a){"use strict";a.d(l,"a",(function(){return Fe}));a("kYxP"),a("Qavd");var n,t=a("ERkP"),s=a.n(t),i=a("uDfI"),r=a("HG4m"),o=a.n(r),c=a("UIzd"),d=a.n(c),u=(a("enFi"),a("Ud88")),m=a.n(u),g=a("zCf4"),p=a("lnti"),y=a("FGLp"),_=a("TEoO"),h=a("v6aA"),k=a("IG4P"),v=a("Fr3L"),b=a("0KEI"),F=a("GSsg"),f=a("Irs7"),T=a("MMRb"),K=a("AQ79"),S=a("DQzJ"),E=a("Ka95"),L=a("QvgI"),I=a("V/6K"),R=a("DbJc"),C=a("nySH"),w=a("maE+"),M=a("MWbm"),x=a("6OUF"),A=a("qqsb"),D=a.n(A),O=a("VwDm"),P=a("qdEw"),U=a("jAXQ"),H=a.n(U),q=a("d9IC");const N=D.a.e4b3f520,j=D.a.ae4d666a,W=(e,l)=>{var a,n,t,s;const i=null==(a=e.labels)||null==(n=a.find((e=>e.label_type===K.a.PINNED)))?void 0:n.timestamp,r=null==(t=l.labels)||null==(s=t.find((e=>e.label_type===K.a.PINNED)))?void 0:s.timestamp;return i?r?i-r:-1:1},B=void 0!==n?n:n=a("/Kco");function V({dmDrawerOnClick:e,pinnedConversations:l,pinnedSliceId:a,unpinnedConversations:n}){const t=H()(B,l).map((e=>e)).sort(W),i=t.map((e=>e.__id));return l.length?s.a.createElement(s.a.Fragment,null,z(N),t.map(((l,n)=>s.a.createElement(E.a,{conversationIds:i,dmDrawerOnClick:e,dm_conversation:l,inboxType:K.d.PRIMARY,isPinned:!0,key:n,pinnedSliceId:a}))),n?z(j):null):null}const z=e=>s.a.createElement(M.a,null,s.a.createElement(q.a,{headerText:e,isInboxLabelHeader:!0}));var Q=a("4hmp");const G=D.a.fe61929e,Y=D.a.a846382a;function $({dmDrawerOnClick:e,handleSearchChange:l,handleSearchClick:a,pinnedConversations:n,pinnedSliceId:t,renderPivot:r,unpinnedConversations:o,withPinnedInbox:c}){const d=Object(i.c)(),{featureSwitches:u}=s.a.useContext(h.a),m=u.isTrue("dm_inbox_search_message_results_enabled")&&u.isTrue("dm_inbox_search_modular_results_enabled")&&u.isTrue("direct_messages_incremental_holdback_2022h1"),g=u.isTrue("dm_vdl_enabled")&&u.isTrue("dm_vdl_inbox_p0_enabled");return s.a.useEffect((()=>()=>{d(P.b)}),[d]),s.a.createElement(I.a.Consumer,null,(({isDrawer:i})=>s.a.createElement(s.a.Fragment,null,i?null:s.a.createElement(M.a,{onClick:a,style:[Q.a.searchInput,g?void 0:Q.a.searchInputBorder]},s.a.createElement(x.a,{Icon:O.a,autoComplete:"off",isCompact:!0,onChange:l,placeholder:m?Y:G,withClearButton:!0})),r(),c?s.a.createElement(V,{dmDrawerOnClick:e,pinnedConversations:n,pinnedSliceId:t,unpinnedConversations:o}):null)))}var X=a("Znyr"),J=a("csss"),Z=a("t62R"),ee=a("j7Bv"),le=a("Up3T"),ae=a("zsGg"),ne=a("t0aI"),te=a("aI6n"),se=a("OOE2"),ie=a("rxPX"),re=a("P1r1");var oe,ce=Object(ie.a)().propsFromState((()=>({isDmsOpenForAll:re.s,lastSeenEventIds:T.selectLastSeenEventIds}))).withAnalytics({page:"messages",section:"inbox"}),de=a("CVqr");const ue=void 0!==oe?oe:oe=a("8fJk");var me,ge,pe=ce((e=>{const{isDmsOpenForAll:l,lastSeenEventIds:a}=e,{untrusted_last_seen_event_id:n}=a,t=Object(f.b)(),i=(e=>{let l=0,a=0,t=0,s=0;for(const c of e){var i,r,o;const e=null==c?void 0:c.last_readable_event_id,d=!e||!(n&&Object(ne.c)(n,e)),u=(parseInt(null==c||null==(i=c.perspectival_conversation_metadata)||null==(r=i.social_proof)||null==(o=r.mutual_friends)?void 0:o.total_mutual_friends,10)||0)>0;d?u?l+=1:t+=1:u?a+=1:s+=1}return{newUntrustedWithSocialProof:l,oldUntrustedWithSocialProof:a,newUntrustedWithoutSocialProof:t,oldUntrustedWithoutSocialProof:s}})(H()(ue,e.untrustedConversations)),r=i.newUntrustedWithSocialProof+i.newUntrustedWithoutSocialProof,{featureSwitches:o}=s.a.useContext(h.a),c=o.isTrue("dm_vdl_enabled")&&o.isTrue("dm_vdl_inbox_p0_enabled"),d=[Q.a.requestPivotContainer,c?void 0:Q.a.requestPivotContainerBorder],{description:u,showNotificationDot:m,titleWeight:g}=Object(de.a)(i);return l?s.a.createElement(M.a,{style:d},s.a.createElement(J.a,{description:c?u:void 0,label:c?s.a.createElement(Z.b,{weight:g},se.b):se.b,link:Object(C.b)(K.d.SECONDARY),onPress:()=>{t.scribe({element:"requests_pivot",action:"click"})},renderRightContent:c?(p=m,p?()=>s.a.createElement(X.a,{pip:!0,standalone:!0,truncatedCountFormatter:()=>"",unreadCountLabel:()=>""}):()=>null):()=>r>0?s.a.createElement(X.a,{count:r,standalone:!0,truncatedCountFormatter:ae.b,unreadCountLabel:se.c}):null,thumbnail:c?s.a.createElement(M.a,{testID:te.a.untrustedThumbnail},s.a.createElement(ee.a,{Icon:le.a,color:"neutral"})):null,withoutArrow:c})):null;var p})),ye=a("29EQ");const _e=e=>e.__id,he=void 0!==me?me:me=a("6bmY"),ke=void 0!==ge?ge:ge=a("vU/8"),ve={context:"DM_INBOX_PRIMARY_CONTEXT"},be=({dmDrawerCacheKey:e,dmDrawerOnClick:l,pollInterval:a})=>{var n,t,r,c,u,v,M,x;const A=Object(f.b)(),D=Object(i.c)(),O=Object(g.g)(),{data:P,fetchNext:U}=Object(S.a)(he,{}),H=Object(b.useCreateLocalApiErrorHandler)("DM_INBOX_PRIMARY_EVOLUTION"),q=m()(),N=(null==P||null==(n=P.pinned)?void 0:n.items_results)||[],j=Object(p.a)(N.map((e=>null==e?void 0:e.result))),W=(null==P||null==(t=P.pinned)?void 0:t.__id)||"",B=(null==P||null==(r=P.trusted)?void 0:r.items)||[],V=Object(p.a)(B.map((e=>{var l;return null==e||null==(l=e.dm_conversation_results)?void 0:l.result}))),z=V.map((e=>e.__id)),Q=(null==P||null==(c=P.trusted)?void 0:c.__id)||"",G=V.filter((e=>!((null==e?void 0:e.labels)||[]).filter((e=>e.label_type===K.a.PINNED)).length)),Y=G.map((e=>e.__id)),X=(null==P||null==(u=P.untrusted)?void 0:u.items)||[],J=Object(p.a)(X.map((e=>{var l;return null==e||null==(l=e.dm_conversation_results)?void 0:l.result}))),Z=(null==P||null==(v=P.low_quality)?void 0:v.items)||[],ee=Object(p.a)(Z.map((e=>{var l;return null==e||null==(l=e.dm_conversation_results)?void 0:l.result}))),{featureSwitches:le}=s.a.useContext(h.a),ae=le.isTrue("dm_conversation_labels_pinned_enabled")&&le.isTrue("direct_messages_incremental_holdback_2022h1"),[ne,te]=s.a.useState((null==O||null==(M=O.state)?void 0:M.searchQuery)||""),[se,ie]=s.a.useState(!(null==O||null==(x=O.state)||!x.searchQuery)),[re,oe]=s.a.useState(!1),ce=s.a.useCallback((()=>{d()(q,ke,{}).toPromise().then((e=>{var l;const a=V.length?V[0].__id:null;if(!a)return;const n=(null==e||null==(l=e.trusted)?void 0:l.items)||[],t=Object(p.a)(n.map((e=>{var l;return null==e||null==(l=e.dm_conversation_results)?void 0:l.result}))),s=[];for(let e=0;e<t.length&&t[e].__id!==a;e++)s.push(t[e].__id);s.length&&o()(q,(e=>{s.forEach((l=>{Object(C.c)(l,e,Q)}))}))})).catch(H({}))}),[H,q,V,Q]),de=s.a.useCallback((()=>{oe(!0),d()(q,he,{}).toPromise().catch(H({})).finally((()=>oe(!1)))}),[H,q]);s.a.useEffect((()=>{const e=new F.a((()=>{ce()}),{interval:a});return e.start(),()=>{e.stop()}}),[ce,a]),Object(y.a)((()=>{D(T.fetchUpdatesIfNeeded())}));const ue=()=>s.a.createElement(w.a,{messageRequestPivot:fe()}),me=(e,a)=>(a&&a(!0),s.a.createElement(E.a,{conversationIds:ae?Y:z,dmDrawerOnClick:l,dm_conversation:e,inboxType:K.d.PRIMARY,isPinned:!1,pinnedSliceId:W})),ge=s.a.useCallback((({currentTarget:{value:e}})=>{se||ie(!0)}),[ie,se]),ve=s.a.useCallback((()=>{A.scribe({component:"search",action:"click"}),ie(!0)}),[A,ie]),be=s.a.useCallback((e=>{te(e)}),[te]),Fe=s.a.useCallback((()=>{ie(!1),te("")}),[ie,te]),fe=()=>J.length||ee.length?s.a.createElement(pe,{untrustedConversations:J}):null,Te=s.a.createElement($,{dmDrawerOnClick:l,handleSearchChange:ge,handleSearchClick:ve,pinnedConversations:j,pinnedSliceId:W,renderPivot:fe,unpinnedConversations:Boolean(G.length),withPinnedInbox:ae}),Ke=()=>s.a.createElement(s.a.Fragment,null,se?s.a.createElement(L.a,{accessibilityTitle:ye.c,analytics:A,conversationIds:z,hideRecentSearches:Fe,onQueryChange:be,pinnedSliceId:W,query:ne}):s.a.createElement(k.a,{isRefreshing:re,onRefresh:de},s.a.createElement(_.a,{accessibilityRole:"tablist",accessibilityTitle:ye.c,anchoring:R.a,assumedItemHeight:100,cacheKey:e||ye.a,header:Te,identityFunction:_e,items:ae?G:V,noItemsRenderer:j.length?void 0:ue,onNearEnd:U,renderer:me,withKeyboardShortcuts:!0,withoutHeadroom:!0})));return s.a.createElement(I.a.Consumer,null,(({isDrawer:e})=>e?Ke():s.a.createElement(ye.b,null,Ke())))};function Fe(e){return s.a.createElement(v.a,{errorConfig:ve},s.a.createElement(be,e))}},prG5:function(e,l,a){"use strict";a.d(l,"a",(function(){return p}));var n=a("97Jx"),t=a.n(n),s=(a("kYxP"),a("ERkP")),i=a.n(s),r=a("TIdA"),o=a("a6qo"),c=a("qqsb"),d=a.n(c),u=a("nT9l"),m="image";const g=d.a.f93bb3ee;class p extends i.a.Component{constructor(...e){super(...e),this._renderContent=({resourceSelectionHandler:e,useMinimumData:l})=>{const{accessibilityLabel:a,hideAcceptOverlay:n,shouldShowAltLabel:s,...c}=this.props;return i.a.createElement(i.a.Fragment,null,i.a.createElement(r.a,t()({},c,{accessibilityLabel:a,onVariantSelection:e,previewMode:l,testID:m})),s?i.a.createElement(o.a,{align:"left",altLabel:a}):null)}}render(){const{hideAcceptOverlay:e,image:l}=this.props;return i.a.createElement(u.a,{acceptLabel:g,hideAcceptOverlay:e,renderContent:this._renderContent,resourceId:"string"==typeof l?l:l.url})}}},"q+MS":function(e,l,a){"use strict";a.d(l,"a",(function(){return t}));a("kYxP");var n=a("xPna");const t=(e,l=!0)=>{const a={};let t={};return null!=e&&e.conversations&&(Object.values(e.conversations).forEach((e=>{e&&e.users&&Object.assign(a,e.users),l&&(e.isSearchResult=!0)})),t={...t,conversations:null==e?void 0:e.conversations,users:a}),null!=e&&e.entries&&(t={...t,entries:null==e?void 0:e.entries,cards:null==e?void 0:e.cards,tweets:null==e?void 0:e.tweets}),null!=e&&e.users&&(t={...t,users:{...e.users,...t.users||{}}}),Object(n.a)(t)}},q7xZ:function(e,l,a){"use strict";var n=a("ERkP"),t=a.n(n),s=a("t62R"),i=a("feu+"),r=a("qqsb"),o=a.n(r),c=a("fs1G"),d=a("v6aA"),u=a("xZGM"),m=a("rxPX");var g=Object(m.a)().propsFromState((()=>({shouldShowPrompt:(e,l)=>Object(u.I)(e,u.k)}))).propsFromActions((()=>({addFlag:u.E}))).withAnalytics({component:"dm_education_flags_prompt"});const p=o.a.fd6150fc,y=t.a.createElement(o.a.I18NFormatMessage,{$i18n:"iac7f92b"},t.a.createElement(s.b,{link:"/privacy"},o.a.ac25e02e)),_=o.a.j24c37b2,h=g((e=>{const{addFlag:l,analytics:a,shouldShowPrompt:n}=e,{featureSwitches:s}=t.a.useContext(d.a);if(!(n&&s.isTrue("dm_education_flags_prompt")))return!1;return a.scribeAction("impression"),t.a.createElement(i.a,{actionLabel:_,headline:p,onAction:()=>{a.scribeAction("click"),l(u.k)},onClose:c.a,subtext:y,withCloseButton:!1})}));l.a=h},q8SM:function(e,l,a){"use strict";a.d(l,"a",(function(){return d})),a.d(l,"b",(function(){return u}));var n=a("qqsb"),t=a.n(n),s=a("OIs+");const i=t.a.cb367658,r=t.a.ie9a7e48,o=t.a.hd3927c6,c=t.a.f1ac0968,d={[s.a.Offline]:{toast:{text:r}},defaultToast:{text:i},showToast:!0},u={[s.a.Offline]:{toast:{text:c}},defaultToast:{text:o},showToast:!0}},rQjK:function(e,l,a){"use strict";var n,t,s={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"conversation_id"},{defaultValue:null,kind:"LocalArgument",name:"label_type"}],kind:"Fragment",metadata:null,name:"DMPinnedInboxDelete_Mutation",selections:t=[{alias:null,args:[{kind:"Variable",name:"conversation_id",variableName:"conversation_id"},{kind:"Variable",name:"label_type",variableName:"label_type"}],kind:"ScalarField",name:"dm_conversation_label_delete",storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"DMPinnedInboxDelete_Mutation",selections:t},params:{id:"_TQxP2Rb0expwVP9ktGrTQ",metadata:{},name:"DMPinnedInboxDelete_Mutation",operationKind:"mutation",text:null}};s.hash="f0ba5e0b671c54ae94c7322d3036a375",e.exports=s},sl05:function(e,l,a){"use strict";var n=a("rHpw");l.a=n.a.create((e=>({root:{flexGrow:1},activity:{flexBasis:e.spacesPx.space1,flexGrow:1,height:"100%"},dragDrop:{flexGrow:1},scrollView:{flexGrow:1}})))},tZH3:function(e,l,a){"use strict";var n=a("ERkP"),t=a.n(n),s=a("MWbm"),i=a("CKsB"),r=a("/yvb"),o=a("rHpw"),c=a("qqsb"),d=a.n(c),u=a("hiGS"),m=a("pu5c"),g=a("zIWA");const p=d.a.fcd4d489,y=d.a.gbed8594,_=d.a.g9074da4,h=d.a.ad63377e,k=d.a.h09b49f8,v=d.a.i6b19b08,b=d.a.j7bb1a43,F=d.a.ea200ba6,f=d.a.cfd2f35e,T=({dismiss:e,flatBorders:l,isGroup:a,onBlockClick:n,onDeleteClick:o,onReportClick:c,requestorScreenName:d,showBlock:T,showCancel:S,showDelete:E})=>{const L=t.a.useCallback((()=>{c&&c(),e()}),[e,c]),I=t.a.useCallback((()=>{n&&n(),e()}),[e,n]),R=t.a.useCallback((()=>{o&&o(),e()}),[e,o]);return t.a.createElement(s.a,{accessibilityRole:"dialog",style:l?K.flatCorners:K.roundCorners},E?t.a.createElement(i.a,{Icon:u.a,actionSubText:k,actionText:a?_:h,onClick:R,textColor:"red500"}):null,T?t.a.createElement(i.a,{Icon:m.a,actionSubText:y,actionText:p({screenName:d}),onClick:I}):null,t.a.createElement(i.a,{Icon:g.a,actionSubText:F,actionText:a?v:b({screenName:d}),onClick:L}),S?t.a.createElement(r.a,{onPress:e,style:K.cancelButton,type:"primaryOutlined"},f):null)};T.defaultProps={isGroup:!1,flatBorders:!1,showBlock:!1,showCancel:!1,showDelete:!1};const K=o.a.create((e=>({roundCorners:{borderRadius:e.borderRadii.xLarge},flatCorners:{borderRadius:e.borderRadii.none},cancelButton:{marginHorizontal:e.spaces.space16,marginVertical:e.spaces.space16}})));l.a=T},uB9N:function(e,l,a){"use strict";var n=a("97Jx"),t=a.n(n),s=a("ERkP"),i=a.n(s),r=a("MWbm"),o=a("rHpw"),c=a("9Xij"),d=a("/yvb"),u=a("OiMc"),m=a("qqsb"),g=a.n(m),p=a("k/Ka"),y=a("Lsrn");const _=(e={})=>Object(p.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[y.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M19 13.5H5c-.828 0-1.5-.672-1.5-1.5s.672-1.5 1.5-1.5h14c.828 0 1.5.672 1.5 1.5s-.672 1.5-1.5 1.5zm0 6H5c-.828 0-1.5-.672-1.5-1.5s.672-1.5 1.5-1.5h14c.828 0 1.5.672 1.5 1.5s-.672 1.5-1.5 1.5zm0-12H5c-.828 0-1.5-.672-1.5-1.5S4.172 4.5 5 4.5h14c.828 0 1.5.672 1.5 1.5s-.672 1.5-1.5 1.5z"})));_.metadata={width:24,height:24};var h=_;const k=(e={})=>Object(p.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[y.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M19 13H5c-.553 0-1-.447-1-1s.447-1 1-1h14c.553 0 1 .447 1 1s-.447 1-1 1zm0 6H5c-.553 0-1-.447-1-1s.447-1 1-1h14c.553 0 1 .447 1 1s-.447 1-1 1zm0-12H5c-.553 0-1-.447-1-1s.447-1 1-1h14c.553 0 1 .447 1 1s-.447 1-1 1z"})));k.metadata={width:24,height:24};var v=k,b=a("iySH"),F=a("zTrU"),f=a("aITJ"),T=a("krmn"),K=a("w3n3"),S=a("VPdC"),E=a("pKoL"),L=a("JYMr");a("kYxP");const I=[{waitMs:1e3,progress:.1},{waitMs:1400,progress:.3},{waitMs:1800,progress:.5},{waitMs:2400,progress:.6},{waitMs:3e3,progress:.9}];class R extends i.a.Component{constructor(...e){super(...e),this.state={currentStepIndex:-1}}componentDidMount(){this._scheduleNextStep(0)}componentWillUnmount(){this._currentTimeoutId&&clearTimeout(this._currentTimeoutId)}render(){const{currentStepIndex:e}=this.state,l=e>=0&&e<I.length?I[e].progress:0;return i.a.createElement(L.a,{progress:l})}_scheduleNextStep(e){e<I.length&&(this._currentTimeoutId=setTimeout((()=>{this._currentTimeoutId=void 0,this.setState({currentStepIndex:e}),this._scheduleNextStep(e+1)}),I[e].waitMs))}}function C({isSending:e,isUploading:l,progress:a}){return e&&!l?i.a.createElement(R,null):i.a.createElement(L.a,{progress:e?Math.max(a,.02):0})}var w=i.a.memo(C),M=a("gpVt"),x=a("cIoY"),A=a("J2UM"),D=a("Es6L"),O=a("Dtul"),P=a("wpu3"),U=a("MLl7"),H=a("eyty"),q=a("GZwR"),N=a("0FVZ"),j=a("Oe3h"),W=a("cOB2");var B=function(e){const{accessibilityLabel:l,accessibilityRole:a,children:n,onLayout:s,sideNavPresent:o,style:c}=e,d=i.a.useContext(W.a);return o?i.a.createElement(i.a.Fragment,null,i.a.createElement(r.a,{accessibilityLabel:l,accessibilityRole:a,onLayout:s,style:c},n)):i.a.createElement(N.a.BottomComposer,null,i.a.createElement(j.a,{id:"DMComposerWrapper"},((e,o)=>i.a.createElement(r.a,t()({ref:e()},o({accessibilityLabel:l,accessibilityRole:a,onLayout:s,style:c})),n,i.a.createElement(r.a,{style:!1===d.keyboardVisible&&V.offsetBottom})))))};const V=o.a.create((()=>({offsetBottom:{paddingBottom:o.a.iPhoneOffsetBottom}})));var z=a("cHvH"),Q=a("mw9i"),G=a("HPNB"),Y=a("htQn"),$=a("t62R");class X extends i.a.Component{constructor(...e){super(...e),this._handleClick=()=>{const{id:e,label:l,onClick:a}=this.props;a({id:e,label:l})}}render(){const{description:e,isWide:l,label:a}=this.props;return i.a.createElement(Y.a,{accessibilityRole:"button",onClick:this._handleClick,style:[J.root,l&&J.isWide,!l&&J.isNarrow]},i.a.createElement($.b,{weight:"bold"},a),i.a.createElement($.b,{color:"gray700",size:"subtext2"},e))}}const J=o.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,borderColor:e.colors.borderColor,borderStyle:"solid",paddingLeft:"1rem",paddingVertical:"1rem"},isWide:{borderRadius:e.borderRadii.xLarge,paddingVertical:"0.5rem",borderWidth:e.borderWidths.small},isNarrow:{borderTopWidth:e.borderWidths.small}})));var Z=X;class ee extends i.a.Component{constructor(...e){super(...e),this._handleOptionChoose=e=>{const{onOptionChoose:l,quickReplyOptions:{id:a}}=this.props;return l(a,e)}}render(){const{quickReplyOptions:{options:e}}=this.props,l=1===e.length;return i.a.createElement(z.a,null,(({windowWidth:a})=>{const n=G.a.isTwoColumnLayout(a),t=[n&&le.isWide,n&&l&&le.oneButtonOnly,!n&&le.isNarrow];return i.a.createElement(Q.a,{style:t,withGutter:n},e.map((e=>this.renderOption(e,n))))}))}renderOption(e,l){return i.a.createElement(Z,{description:e.description,id:e.id,isWide:l,key:e.id,label:e.label,onClick:this._handleOptionChoose})}}const le=o.a.create((e=>({oneButtonOnly:{gridTemplateColumns:"1fr"},isWide:{backgroundColor:e.colors.gray0,display:"grid",gridColumnGap:e.spaces.space12,gridRowGap:e.spaces.space12,gridTemplateColumns:"1fr 1fr",paddingVertical:e.spaces.space12},isNarrow:{maxHeight:"168px",overflow:"auto"}})));var ae=ee,ne="dmComposerAttachments",te="dmComposerTextInputComponent",se="dmComposerTextInput",ie="dmComposerSendButton",re=o.a.create((e=>({actionButton:{marginLeft:e.spaces.space4}}))),oe=a("UgB4");const ce=g.a.e3275464,de=i.a.createElement(oe.a,null);function ue(e){const{onDidSend:l,onSend:a,onWillSend:n,showIconInsteadOfLabel:t}=e,s=e.disabledFunc();return i.a.createElement(d.a,{accessibilityLabel:ce,disabled:s,hoverLabel:{label:ce},icon:t?de:void 0,onPress:e=>{s||(n&&n(),a(e).then((({conversationId:e,text:a})=>{l&&l(e,a)})))},size:"medium",style:re.actionButton,testID:ie,type:t?"brandText":"brandFilled"},t?null:ce)}a("enFi");var me,ge=a("9SqB"),pe=a.n(ge);const ye=void 0!==me?me:me=a("iunV");var _e=()=>{const[e]=pe()(ye);return(l,a)=>e({variables:{message:{text:{text:l}},target:{conversation_id:a}},onCompleted(e){},updater(e,l){},onError(e){throw e}}).dispose()};function he(e){const{showIconInsteadOfLabel:l}=e,a=e.disabledFunc(),n=_e();return i.a.createElement(d.a,{accessibilityLabel:ce,disabled:a,icon:l?de:void 0,onPress:l=>{a||(e.onWillSend(),n(e.messageText,e.conversationId),e.onDidSend(e.conversationId,e.messageText))},size:"medium",style:re.actionButton,testID:ie,type:l?"brandText":"brandFilled"},l?null:ce)}var ke=a("rxPX"),ve=a("zh9S"),be=a("AspN"),Fe=a("P1r1"),fe=a("1YZw"),Te=Object(ke.a)().propsFromState((()=>({dataSaverMode:Fe.j}))).propsFromActions((()=>({addMedia:be.b,addToast:fe.b,processMultipleMedia:be.g,removeMediaUpload:be.i,scribeAction:ve.c,preUploadMedia:be.e}))),Ke=a("6OUF"),Se=o.a.create((e=>({composeInput:{width:"100%"}})));const Ee=g.a.cdcebd22,Le=g.a.ca0ce0e4,Ie=(e,l)=>{const{disabled:a,editorState:n,isSendDisabledFunc:t,keyboardOrMouseDetectedFunc:s,mediaButtonsCollapsible:r,onBlur:o,onDidHandleReturn:c,onFilesAdded:d,onFocus:u,onReturn:m,onRichTextChange:g,onWillHandleReturn:p,placeholderText:y,renderAttachmentsFunc:_,renderEmojiPickerFunc:h,richTextInputContext:k,value:v}=e,b=f.b.isKaiOS()?Ee:y||Le,F=!!k,T=k?{editorState:n,element:k.element}:void 0,K=e=>{const{nativeEvent:{ctrlKey:l,key:a,metaKey:n,shiftKey:t}}=e;if(!("Enter"===a&&s()&&!(t||n||l)))return"not-handled";const i=p(e);return m(e).then((({conversationId:e,text:l})=>{c(e,l)})),i};return i.a.createElement(Ke.a,{contentAbove:_(),editable:!a,emojiPickerButton:h(),handleReturn:F?K:void 0,isCompact:!0,leftAligned:!0,maxNumberOfLines:F?8:4,multiline:!0,numberOfLines:1,onBlur:o,onChange:g,onFilesAdded:d,onFocus:u,onKeyPress:F?void 0:e=>{K(e)},placeholder:b,ref:l,richTextInputContext:a?void 0:T,style:Se.composeInput,testID:se,useCacheForDOMMeasurements:!t()&&!r,value:v})};var Re=i.a.forwardRef(Ie);const Ce=(e,l)=>{const{conversationId:a,disabled:n,editorState:t,isSendDisabledFunc:s,keyboardOrMouseDetectedFunc:r,mediaButtonsCollapsible:o,onBlur:c,onDidHandleReturn:d,onFilesAdded:u,onFocus:m,onRichTextChange:g,onWillHandleReturn:p,placeholderText:y,renderAttachmentsFunc:_,renderEmojiPickerFunc:h,richTextInputContext:k,value:v}=e,b=_e(),F=f.b.isKaiOS()?Ee:y||Le,T=!!k,K=k?{editorState:t,element:k.element}:void 0,S=e=>{const{nativeEvent:{ctrlKey:l,key:n,metaKey:t,shiftKey:s}}=e;if(!("Enter"===n&&r()&&!(s||t||l)))return"not-handled";const i=p(e);return b(v,a),d(a,v),i};return i.a.createElement(Ke.a,{contentAbove:_(),editable:!n,emojiPickerButton:h(),handleReturn:T?S:void 0,isCompact:!0,leftAligned:!0,maxNumberOfLines:T?8:4,multiline:!0,numberOfLines:1,onBlur:c,onChange:g,onFilesAdded:u,onFocus:m,onKeyPress:T?void 0:e=>{S(e)},placeholder:F,ref:l,richTextInputContext:n?void 0:K,style:Se.composeInput,testID:se,useCacheForDOMMeasurements:!s()&&!o,value:v})};var we=i.a.forwardRef(Ce);const Me=g.a.ee230734,xe=g.a.ic8c615e,Ae=g.a.a04077c4,De=e=>!(!e||!e.media),Oe=Object(P.b)({maxNumberOfPhotos:1});class Pe extends i.a.Component{constructor(e){var l;super(e),this._handleLayout=e=>{const{onHeightChange:l}=this.props,{mediaButtonsCollapsible:a}=this.state,n=e.nativeEvent.layout;n&&(Object(D.a)()||l&&l(n.height),n.width<=o.a.theme.breakpoints.small&&!a?this.setState({mediaButtonsCollapsible:!0}):n.width>o.a.theme.breakpoints.small&&a&&this.setState({mediaButtonsCollapsible:!1}))},this._renderMainContent=()=>{const{richTextInputContext:e,typeaheadWrapper:l}=this.props,{value:a}=this.state,n=l;return n?i.a.createElement(n,{contextText:a,isInline:!0,onTextUpdated:e?this._handleRichTextChange:this._handlePlainTextChange,onTypeaheadStateChange:this._handleTypeaheadStateChange,source:q.d.ComposeMessage},this._renderFieldTextInput):this._renderFieldTextInput()},this._renderFieldTextInput=e=>{const{conversationId:l,disabled:a,placeholderText:n,richTextInputContext:s}=this.props,{editorState:r,mediaButtonsCollapsible:o,value:c}=this.state,d={disabled:a||!1,editorState:r,isSendDisabledFunc:this._isSendDisabled,keyboardOrMouseDetectedFunc:()=>this._keyboardOrMouseDetected,mediaButtonsCollapsible:o,onBlur:this._handleOnBlur,onDidHandleReturn:this._didPerformPrimaryAction,onFilesAdded:this._handleAddMediaFiles,onFocus:this._handleTextInputFocus,onInputChange:e||(()=>{}),onPlainTextChange:this._handlePlainTextChange,onReturn:this._handleReturn,onRichTextChange:this._getHandleRichTextChange(e),onWillHandleReturn:this._willPerformPrimaryAction,placeholderText:n||"",ref:this._setTextInputRef,renderAttachmentsFunc:this._renderAttachments,renderEmojiPickerFunc:this._renderEmojiPicker,richTextInputContext:s,testID:te,value:c};return this.props.withEvolution?i.a.createElement(we,t()({},d,{conversationId:l||""})):i.a.createElement(Re,d)},this._getHandleRichTextChange=Object(F.a)((e=>l=>{null==e||e(l),this._handleRichTextChange(l)})),this._handleTypeaheadStateChange=e=>{this.setState({isTypeaheadActive:e})},this._renderAttachments=()=>{const{attachment:e,conversationId:l,isCardPreviewTombstoned:a,isShareViaDM:n,isUploading:t}=this.props,{value:s}=this.state,{height:o,width:d}=e&&(e.media&&e.media.mediaFile||e.provider&&e.media&&e.media.externalMediaDetails)||{},u=null==e?void 0:e.media,m=null==u?void 0:u.mediaMetadata,g=null==m?void 0:m.altText,p=null==m?void 0:m.defaultAltText,y=Object(M.b)(s);return i.a.createElement(i.a.Fragment,null,u?i.a.createElement(r.a,{style:Ue.attachmentContainer,testID:ne},i.a.createElement(c.a,{ratio:d/o,style:Ue.aspectContainer},i.a.createElement(r.a,{style:Ue.mediaPreviewContainer},i.a.createElement(E.a,{accessibilityLabel:g||p,mediaItem:u,onClick:this._canEditImage?this._handleClickMediaDetail:void 0,onEdit:this._canEditGif||this._canEditImage||this._canEditVideo?this._handleClickMediaDetail:void 0,onRemove:this._handleRemoveMedia(u.id),resizeIfNeeded:"width",style:Ue.mediaPreview,withAltTextLabel:!!g,withCloseButton:!t,withEditButton:(this._canEditGif||this._canEditImage||this._canEditVideo)&&!t,withEditIcon:!0}))),e&&e.provider&&e.gifUrl&&i.a.createElement(r.a,{style:Ue.gifAttribution},i.a.createElement(x.a,{gifUrl:e.gifUrl,provider:e.provider}))):y&&!n?i.a.createElement(M.a,{conversationId:l,isCardPreviewTombstoned:a,style:Ue.cardPreviewContainer,urls:y}):null)},this._renderEmojiPicker=()=>{const{withEmojiPicker:e}=this.props;return e&&f.b.isDesktopOS()?i.a.createElement(T.a,{disabled:this.props.disabled,onEmojiSelect:this._handleEmojiSelect,onPress:this._handleTextInputFocus,size:"small",textInputRef:this._textInput||void 0}):null},this._renderPrimaryActionButton=e=>{const{conversationId:l="",onDidPerformPrimaryAction:a,quickReplyOptions:n}=this.props,s=this._hasMessageText();if(!n||s||e){const n={disabledFunc:this._isSendDisabled,showIconInsteadOfLabel:!0,messageText:this._getMessageText(),onWillSend:()=>{this._willPerformPrimaryAction()},onDidSend:(e,l)=>{a&&a(e,{type:"richText"},l)}};return this.props.withEvolution?i.a.createElement(he,t()({},n,{conversationId:l||""})):i.a.createElement(ue,t()({},n,{hasAttachment:e,onSend:this._performPrimaryAction}))}return i.a.createElement(d.a,{accessibilityLabel:xe,icon:this.state.isQuickReplyOpen?i.a.createElement(h,null):i.a.createElement(v,null),onPress:this._handleQuickReplyPickerToggle,size:"medium",style:Ue.actionButton,type:"brandText"})},this._renderSecondaryActionButton=()=>{const{secondaryActionDisabledPopoverRenderer:e,secondaryActionLabel:l,shouldEnableSecondaryActionFunc:a,shouldShowSecondaryActionFunc:n}=this.props;if(n&&!n()||!l)return null;const t=!a||a(),s=i.a.createElement(d.a,{accessibilityLabel:l,disabled:!t,onPress:this._handleSecondaryAction,style:Ue.actionButton,type:"primaryOutlined"},this.props.secondaryActionLabel);return t||!e?s:i.a.createElement(u.a,{enableHover:!0,preferredVerticalOrientation:"up",renderContent:e,withArrow:!0},s)},this._renderComposer=()=>{const{attachment:e}=this.props,l=De(e);return i.a.createElement(r.a,{style:[Ue.composer,l&&Ue.composerWithAttachment]},l?null:this._renderMediaButtons(),i.a.createElement(r.a,{style:Ue.composeBoxContainer},this._renderMainContent()),this._renderSecondaryActionButton(),this._renderPrimaryActionButton(l))},this._renderMediaButtons=()=>{const{conversationId:e,history:l,withGifPicker:a,withMediaPicker:n}=this.props,{mediaButtonsCollapsed:t,mediaButtonsCollapsible:s}=this.state,o=s&&t;return i.a.createElement(r.a,{style:Ue.uploadButtons},o?i.a.createElement(d.a,{accessibilityLabel:Me,icon:i.a.createElement(b.a,null),onMouseDown:this._handleShowMediaControlsMouseDown,type:"brandText"}):null,n&&!o?i.a.createElement(S.a,{onChange:this._handleAddMediaFiles,style:Ue.mediaPicker,type:"brandText"}):null,a&&!o?i.a.createElement(K.a,{dmConversationId:e,enabled:!0,gifSearchKeySource:U.a.DMComposition,history:l}):null)},this._handleShowMediaControlsMouseDown=()=>{const{scribeAction:e,scribeNamespace:l}=this.props;this.setState({mediaButtonsCollapsed:!1}),e({...l,component:"dm_composer",element:"toggle",action:"expand"})},this._handleReturn=e=>{const{isTypeaheadActive:l}=this.state;return!l?(e.preventDefault(),this._performPrimaryAction(e)):Promise.resolve({conversationId:"",text:""})},this._handleClickMediaDetail=()=>{const{attachment:e,conversationId:l,history:a}=this.props;if(this._canEditGif||this._canEditImage||this._canEditVideo){const n=e&&e.media?e.media.id:0,t=this._canEditGif?"alt_text":this._canEditVideo?"trimmer":"crop";a.push("/messages/compose/media",{mediaId:n,conversationId:l,tab:t})}},this._handleAddMediaFiles=e=>{const{addMedia:l,addToast:a,dataSaverMode:n,onAddMedia:t,preUploadMedia:s,processMultipleMedia:i,removeMedia:r,removeMediaUpload:o}=this.props;l(e,{location:H.d.Dm}).then((e=>{const l=e.map((e=>e.id));this._validateMedia(e)?(t&&t(l),i(e,{onFailure:r}).then((e=>{n||s(e.filter((e=>!!e&&!!e.id)).map((e=>e.id)))}))):(a({text:Ae}),o(l))}))},this._handleEmojiSelect=e=>{const{editorState:l}=this.state,{richTextInputContext:a}=this.props;if(!a||!l)return;const n=a.insertTextAtCursor(l,e.text);this._handleRichTextChange(n)},this._handleRemoveMedia=e=>()=>{this.props.removeMedia&&this.props.removeMedia(e)},this._willPerformPrimaryAction=()=>{const{onWillPerformPrimaryAction:e}=this.props;return this._textInput&&this._textInput.applyFinalValue((l=>{e&&e({type:"richText"},l)})),"handled"},this._performPrimaryAction=e=>{var l;return this.props.onPrimaryAction({type:"richText"},(null==(l=this._textInput)?void 0:l.getValue())||"")},this._didPerformPrimaryAction=(e,l)=>{const{onDidPerformPrimaryAction:a}=this.props;this._closeQuickReplyPicker(),a&&a(e,{type:"richText"},l)},this._handleSecondaryAction=e=>{const{onSecondaryAction:l}=this.props;this._textInput&&this._textInput.applyFinalValue((e=>{l&&l({type:"richText"},e)}))},this._handleRichTextChange=e=>{const{onTyping:l,richTextInputContext:a}=this.props,{value:n}=this.state,t=a?e.getCurrentContent().getPlainText():e.target.value,s=a?a.convertEmojiToEntities(e):null;this.setState({editorState:s,value:t}),n!==t&&(null==l||l())},this._handlePlainTextChange=e=>{const{onTyping:l}=this.props,{value:a}=this.state,n=e.target.value;this.setState({value:n}),a!==n&&(null==l||l())},this._handleOnBlur=()=>{const{onBlur:e}=this.props,{mediaButtonsCollapsible:l}=this.state;e&&e(),l&&this.setState({mediaButtonsCollapsed:!1})},this._handleTextInputFocus=()=>{const{quickReplyOptions:e}=this.props,{isQuickReplyOpen:l,mediaButtonsCollapsible:a}=this.state;e&&l&&this._closeQuickReplyPicker(),a&&this.setState({mediaButtonsCollapsed:!0})},this._handleQROptionSelection=(e,l)=>{const{disabled:a,onPrimaryAction:n}=this.props;a||(n({quickReply:{id:e,selected_id:l.id}},l.label),this._closeQuickReplyPicker())},this._handleQuickReplyPickerToggle=()=>{this.setState({isQuickReplyOpen:!this.state.isQuickReplyOpen})},this._validateMedia=e=>!De(this.props.attachment)&&Oe(e),this._detectKeyboardOrMouse=e=>{const{KEYBOARD:l,MOUSE:a,registerSome:n}=e;n((()=>{this._keyboardOrMouseDetected=!0}),[l,a])},this._isSendDisabled=()=>{const{attachment:e,canSendEmptyMessage:l,disabled:a,isUploading:n}=this.props,t=De(e),s=this._hasMessageText()||l,i=!(!e||!e.media)&&(e.media.needsProcessing||n);return a||!s&&!t||i||n},this._getMessageText=()=>(this.state.value||"").trim(),this._hasMessageText=()=>!!this._getMessageText(),this._closeQuickReplyPicker=()=>{this.setState({isQuickReplyOpen:!1})},this.handleAddMediaFiles=e=>this._handleAddMediaFiles(e),this._setTextInputRef=e=>{this._textInput=e};const{prefillText:a,richTextInputContext:n}=e;this.state={isQuickReplyOpen:!0,value:a,editorState:null!=(l=null==n||null==n.initEditorState?void 0:n.initEditorState(a))?l:null,isTypeaheadActive:!1,mediaButtonsCollapsed:!1,mediaButtonsCollapsible:!1}}componentDidMount(){Object(A.a)().then(this._detectKeyboardOrMouse),this._unlockReload=O.a.acquire()}componentWillUnmount(){this._unlockReload&&this._unlockReload()}componentDidUpdate(){this.props.quickReplyOptions&&this.state.isQuickReplyOpen&&this._textInput&&this._textInput.blur()}UNSAFE_componentWillReceiveProps(e){const l=this.props.quickReplyOptions,a=e.quickReplyOptions;l&&!a?this.setState({isQuickReplyOpen:!1}):(!l&&a||l&&a&&l.id!==a.id)&&this.setState({isQuickReplyOpen:!0}),this.props.conversationId!==e.conversationId&&this.clear()}render(){const{dtabBarInfo:e,isSending:l,isUploading:a,mediaUploadProgress:n,placeholderText:t,quickReplyOptions:s,style:r}=this.props,{isQuickReplyOpen:o}=this.state,c=t||Le,d=Object(D.a)(),u=d&&e&&(e.dtabAll||e.ttsToken)&&!e.hide;return i.a.createElement(B,{accessibilityLabel:c,accessibilityRole:"complementary",onLayout:this._handleLayout,sideNavPresent:d,style:[Ue.root,u&&Ue.dtabOffset,r]},i.a.createElement(w,{isSending:l,isUploading:a,progress:l?Math.max(n,.02):0}),this._renderComposer(),s&&o?i.a.createElement(ae,{onOptionChoose:this._handleQROptionSelection,quickReplyOptions:s}):null)}get _canEditGif(){var e,l,a,n;return!(null==(e=this.props.attachment)||!e.gifUrl)||!(null==(l=this.props.attachment)||null==(a=l.media)||null==(n=a.mediaFile)||!n.isGif)}get _canEditImage(){var e,l,a;return!(null==(e=this.props.attachment)||null==(l=e.media)||null==(a=l.mediaFile)||!a.isImage)}get _canEditVideo(){var e,l;const{attachment:a}=this.props;let n=null==a||null==(e=a.media)||null==(l=e.mediaFile)?void 0:l.isVideo;return n&&(n=this.props.withVideoTrimmer),!!n}clear(){const{richTextInputContext:e}=this.props;if(e){const{initEditorState:l}=e||{};this.setState({value:"",editorState:l&&l("")})}else this.setState({value:""})}focus(){this._textInput&&this._textInput.focus()}value(){return this.state.value}}Pe.defaultProps={prefillText:"",withEmojiPicker:!0,withEvolution:!1,withGifPicker:!0,withMediaPicker:!0,withVideoTrimmer:!1};const Ue=o.a.create((e=>({root:{backgroundColor:e.colors.navigationBackground,borderTopColor:e.colors.borderColor,borderTopWidth:e.borderWidths.small},attachmentContainer:{maxHeight:"10rem",margin:e.spaces.space12},aspectContainer:{flexShrink:1},cardPreviewContainer:{margin:e.spaces.space12},dtabOffset:{marginBottom:e.spaces.space40},gifAttribution:{flexDirection:"row",marginVertical:e.spaces.space4,marginHorizontal:0},mediaPicker:{margin:0},icon:{color:e.colors.primary,fontSize:"1.5em"},composeBoxContainer:{flexGrow:1,flexShrink:1,alignSelf:"center"},mediaPreviewContainer:{flexDirection:"row",height:"100%"},mediaPreview:{borderRadius:e.borderRadii.xLarge,overflow:"hidden",minWidth:"10em"},composer:{alignItems:"center",flexDirection:"row",padding:e.spaces.space4,width:"100%"},composerWithAttachment:{paddingLeft:e.spaces.space12},actionButton:{marginLeft:e.spaces.space4},uploadButtons:{flexDirection:"row",marginRight:e.spaces.space4}})));l.a=Te.forwardRef(Pe)},uFYP:function(e,l,a){"use strict";var n=a("ERkP"),t=a.n(n),s=a("k/Ka"),i=a("Lsrn");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},t.a.createElement("g",null,t.a.createElement("path",{d:"M20.75 2H3.25C2.007 2 1 3.007 1 4.25v15.5C1 20.993 2.007 22 3.25 22h17.5c1.243 0 2.25-1.007 2.25-2.25V4.25C23 3.007 21.993 2 20.75 2zM17.5 13.504c0 .483-.392.875-.875.875s-.875-.393-.875-.876V9.967l-7.547 7.546c-.17.17-.395.256-.62.256s-.447-.086-.618-.257c-.342-.342-.342-.896 0-1.237l7.547-7.547h-3.54c-.482 0-.874-.393-.874-.876s.392-.875.875-.875h5.65c.483 0 .875.39.875.874v5.65z"})));r.metadata={width:24,height:24},l.a=r},uMiA:function(e,l,a){"use strict";var n,t,s,i,r,o,c,d,u,m,g,p,y,_,h,k,v,b,F,f,T,K,S,E,L={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"query"},{defaultValue:null,kind:"LocalArgument",name:"withConversationQueryHighlights"}],kind:"Fragment",metadata:null,name:"DMConversationSearchTabPeopleQuery",selections:[{alias:"dm_people_convo_slice_result",args:[t={kind:"Variable",name:"query",variableName:"query"},s={kind:"Literal",name:"s",value:"6f10"}],concreteType:null,kind:"LinkedField",name:"__DMConversationSearchTabPeopleQuer_dm_people_convo_slice_result_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMPeopleConvoSearchItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"dm_convo_search",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[o,c={alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:g=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[i,r,m={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[d,u={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:g,storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[y={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[i,r,_={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},d,u,{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"join_time_millis",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"join_conversation_event_id",storageKey:null}],storageKey:null},b={alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"low_quality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"read_only",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trusted",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},F={condition:"withConversationQueryHighlights",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"DMHighlighting",kind:"LinkedField",name:"highlighting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"query_tokens",storageKey:null}],storageKey:null}]}],storageKey:null},f={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null}],type:"DmPeopleConvoSlice",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"DMConversationSearchTabPeopleQuery",selections:[{alias:null,args:T=[{kind:"Variable",name:"cursor",variableName:"cursor"},t,s],concreteType:null,kind:"LinkedField",name:"dm_people_convo_slice_result",plural:!1,selections:[K={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMPeopleConvoSearchItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"dm_convo_search",plural:!1,selections:[i,r,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[o,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[o,c,d,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:E=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[K,{kind:"InlineFragment",selections:[i,r,m,S={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"}],type:"User",abstractKey:null}],storageKey:null},i],storageKey:null},p,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:E,storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[K,y],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[K,{kind:"InlineFragment",selections:[i,r,_,S],type:"User",abstractKey:null}],storageKey:null},i],storageKey:null},h,k,v],storageKey:null},b],storageKey:null}],storageKey:null},F],storageKey:null},f],type:"DmPeopleConvoSlice",abstractKey:null}],storageKey:null},{alias:null,args:T,filters:["query","s"],handle:"slice",key:"DMConversationSearchTabPeopleQuer_dm_people_convo_slice_result",kind:"LinkedHandle",name:"dm_people_convo_slice_result"}]},params:{id:"qno3lU4_eSHtSFoWQUhEag",metadata:{sliceInfoPath:["dm_people_convo_slice_result","slice_info"]},name:"DMConversationSearchTabPeopleQuery",operationKind:"query",text:null}};L.hash="74e2e86bd0b699e3a7ca150febc3dcaa",e.exports=L},vL4t:function(e,l,a){"use strict";var n,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"evolutionDMEntryPreview",selections:[{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"evolutionDMMessageEntry"}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},n],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMEvent",abstractKey:null};t.hash="9aa24fc4ff3e0048b3de524bc99a075f",e.exports=t},"vU/8":function(e,l,a){"use strict";var n,t,s,i,r,o,c,d,u,m,g,p,y,_,h,k,v,b,F,f,T={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"evolutionDMInboxPollQuery",selections:[{alias:"trusted",args:i=[{kind:"Literal",name:"desired_lists",value:["Trusted"]},n={kind:"Literal",name:"known_lists",value:["Trusted","Untrusted","LowQuality"]},t={kind:"Literal",name:"s",value:"e54f"},s={kind:"Literal",name:"sort_by",value:"Recency"}],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},{args:null,kind:"FragmentSpread",name:"evolutionDMInboxItem"}],type:"DMConversation",abstractKey:null},o={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["Trusted"],known_lists:["Trusted","Untrusted","LowQuality"],s:"e54f",sort_by:"Recency")'},{alias:"untrusted",args:c=[{kind:"Literal",name:"desired_lists",value:["Untrusted"]},n,t,s],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"evolutionMessageRequestsPivot"}],type:"DMConversation",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["Untrusted"],known_lists:["Trusted","Untrusted","LowQuality"],s:"e54f",sort_by:"Recency")'},{alias:"low_quality",args:d=[{kind:"Literal",name:"desired_lists",value:["LowQuality"]},n,t,s],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[g={kind:"InlineFragment",selections:m=[u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"DMConversation",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["LowQuality"],known_lists:["Trusted","Untrusted","LowQuality"],s:"e54f",sort_by:"Recency")'}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"evolutionDMInboxPollQuery",selections:[{alias:"trusted",args:i,concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[p={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[p,y={kind:"TypeDiscriminator",abstractKey:"__isDMConvoListItem"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[r,u,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null},u],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[_={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"protected",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},v={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},u,r],type:"User",abstractKey:null}],storageKey:null},u],storageKey:null}],storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},k],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"count",value:20}],concreteType:null,kind:"LinkedField",name:"conversation_slice",plural:!1,selections:[p,{kind:"TypeDiscriminator",abstractKey:"__isDMEventSliceResult"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEventResults",kind:"LinkedField",name:"dm_event_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"audio",plural:!1,selections:m,storageKey:null}],type:"DMAudioAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:m,storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[p,{kind:"InlineFragment",selections:F=[{alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null}],type:"ApiGif",abstractKey:null},{kind:"InlineFragment",selections:F,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:F,storageKey:null}],type:"ApiVideo",abstractKey:null}],storageKey:null},u],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:m,storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},k,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[_,k],storageKey:null},v,u],type:"User",abstractKey:null}],storageKey:null},u],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[k,h],storageKey:null},v,u],type:"User",abstractKey:null}],storageKey:null},u],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"reactions",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMReaction",kind:"LinkedField",name:"items",plural:!0,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"reaction_key",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[r,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[k],storageKey:null},v,u],type:"User",abstractKey:null}],storageKey:null},u],storageKey:null}],storageKey:null}],type:"DMReactionSlice",abstractKey:null}],storageKey:null},r,u],type:"DMEvent",abstractKey:null}],storageKey:null},u],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:"conversation_slice(count:20)"},{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null},o],storageKey:null},u],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["Trusted"],known_lists:["Trusted","Untrusted","LowQuality"],s:"e54f",sort_by:"Recency")'},{alias:"untrusted",args:c,concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[p,y,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[b,{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"SocialProof",kind:"LinkedField",name:"social_proof",plural:!1,selections:[{alias:null,args:null,concreteType:"MutualFriendsSocialProof",kind:"LinkedField",name:"mutual_friends",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_mutual_friends",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},u],type:"DMConversation",abstractKey:null}],storageKey:null},u],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["Untrusted"],known_lists:["Trusted","Untrusted","LowQuality"],s:"e54f",sort_by:"Recency")'},{alias:"low_quality",args:d,concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[p,y,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,g],storageKey:null},u],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["LowQuality"],known_lists:["Trusted","Untrusted","LowQuality"],s:"e54f",sort_by:"Recency")'}]},params:{id:"XyU1n6dQq8tKdnDVXhp-bA",metadata:{},name:"evolutionDMInboxPollQuery",operationKind:"query",text:null}};T.hash="752b0e4f9017ccfc91aa898dc770e9c5",e.exports=T},whlN:function(e,l,a){"use strict";var n,t,s={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"conversation_id"}],kind:"Fragment",metadata:null,name:"evolutionUnpinConversationMutation",selections:t=[{alias:null,args:[{kind:"Variable",name:"conversation_id",variableName:"conversation_id"},{kind:"Literal",name:"label_type",value:"Pinned"}],kind:"ScalarField",name:"dm_conversation_label_delete",storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"evolutionUnpinConversationMutation",selections:t},params:{id:"uZN4IpDCjHJcya7TpOKoNA",metadata:{},name:"evolutionUnpinConversationMutation",operationKind:"mutation",text:null}};s.hash="f4f7a6ace610f9e1ec942cce46c4c778",e.exports=s},y59G:function(e,l,a){"use strict";var n,t,s,i,r,o,c,d,u,m,g,p,y,_,h,k,v,b,F,f,T,K,S,E,L,I,R,C,w,M,x,A,D,O,P,U,H,q,N,j,W,B,V,z,Q,G,Y,$,X,J,Z,ee,le,ae,ne,te,se,ie,re,oe,ce,de,ue,me,ge,pe,ye,_e,he,ke,ve,be,Fe,fe,Te,Ke,Se,Ee,Le,Ie,Re,Ce,we,Me,xe,Ae,De,Oe,Pe,Ue,He,qe,Ne,je,We,Be,Ve,ze,Qe,Ge,Ye,$e,Xe,Je,Ze,el,ll,al,nl,tl,sl,il,rl,ol,cl,dl,ul,ml,gl,pl,yl,_l,hl,kl,vl,bl,Fl,fl,Tl,Kl,Sl,El,Ll,Il,Rl,Cl,wl,Ml,xl,Al,Dl,Ol,Pl,Ul,Hl,ql,Nl,jl,Wl,Bl,Vl,zl,Ql,Gl,Yl,$l,Xl,Jl,Zl,ea,la,aa,na,ta,sa,ia,ra,oa,ca,da,ua,ma,ga,pa,ya,_a,ha,ka,va,ba,Fa,fa,Ta,Ka,Sa,Ea,La,Ia,Ra,Ca,wa,Ma,xa,Aa,Da,Oa,Pa,Ua,Ha,qa,Na,ja,Wa,Ba,Va,za,Qa,Ga,Ya,$a,Xa,Ja,Za,en,ln,an,nn,tn,sn,rn,on,cn,dn,un=(n={defaultValue:null,kind:"LocalArgument",name:"cursor"},t={defaultValue:null,kind:"LocalArgument",name:"query"},s={defaultValue:null,kind:"LocalArgument",name:"withAttachments"},i={defaultValue:!1,kind:"LocalArgument",name:"withDmMuting"},r={defaultValue:null,kind:"LocalArgument",name:"withMessageQueryHighlights"},o={defaultValue:null,kind:"LocalArgument",name:"withSafetyModeUserFields"},c={defaultValue:null,kind:"LocalArgument",name:"withSuperFollowsUserFields"},d={kind:"Variable",name:"query",variableName:"query"},u={kind:"Literal",name:"s",value:"6f10"},m={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"affects_sort",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"request_id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},T={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[F,f],storageKey:null},K=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[g,m,T],type:"User",abstractKey:null}],storageKey:null}],S={alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},I={kind:"InlineFragment",selections:[S,E,L],type:"ApiImage",abstractKey:null},R={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},w={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[R,F,f,C],storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"join_time_millis",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"join_conversation_event_id",storageKey:null},D={alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[M,{alias:null,args:null,kind:"ScalarField",name:"low_quality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"read_only",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trusted",storageKey:null}],storageKey:null},O={alias:null,args:null,concreteType:"DMInitialLowQualityState",kind:"LinkedField",name:"initial_low_quality_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_low_quality",storageKey:null}],storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"is_new_one_to_one_convo",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"marked_as_abuse",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"possibly_spam",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"sender_registration_token",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"created_at_sec",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"expanded_url",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"indices",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},Y=[V,z,Q,G],$={alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:[{alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls",plural:!0,selections:Y,storageKey:null}],storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},J={alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls_entity",plural:!0,selections:Y,storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"media_key",storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},ae={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},ne={alias:null,args:null,kind:"ScalarField",name:"percentage",storageKey:null},te=[{alias:null,args:null,kind:"ScalarField",name:"blue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"green",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"red",storageKey:null}],se=[ee,L,E,S,{alias:null,args:null,concreteType:"ApiMediaRect",kind:"LinkedField",name:"salient_rect",plural:!1,selections:[le,{alias:null,args:null,kind:"ScalarField",name:"left",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"top",storageKey:null},ae],storageKey:null},{alias:null,args:null,concreteType:"MediaColorInfo",kind:"LinkedField",name:"color_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MediaColorPaletteItem",kind:"LinkedField",name:"palette",plural:!0,selections:[ne,{alias:null,args:null,concreteType:"MediaColor",kind:"LinkedField",name:"rgb",plural:!1,selections:te,storageKey:null}],storageKey:null}],storageKey:null}],ie={alias:null,args:null,concreteType:"AspectRatio",kind:"LinkedField",name:"aspect_ratio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"denominator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"numerator",storageKey:null}],storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"duration_millis",storageKey:null},oe={alias:null,args:null,kind:"ScalarField",name:"embeddable",storageKey:null},ce={alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:se,storageKey:null},de={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},ue={alias:null,args:null,concreteType:"VideoVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bit_rate",storageKey:null},de,G],storageKey:null},me={kind:"InlineFragment",selections:[J,{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[g,Z,{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[X,{kind:"InlineFragment",selections:se,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[ie,re,oe,ce,ue,{alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null}],type:"ApiVideo",abstractKey:null},{kind:"InlineFragment",selections:[ee,ie,ce,ue],type:"ApiGif",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},ge={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},pe={alias:null,args:null,concreteType:"ApiMediaEntityColor",kind:"LinkedField",name:"rgb",plural:!1,selections:te,storageKey:null},ye={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},_e={alias:null,args:null,concreteType:"LegacyCardBinding",kind:"LinkedField",name:"binding_values",plural:!0,selections:[ge,{alias:null,args:null,concreteType:"ApiCardBindingValue",kind:"LinkedField",name:"value",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"boolean_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"double_value",storageKey:null},{alias:null,args:null,concreteType:"ApiCardBindingImageValue",kind:"LinkedField",name:"image_value",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alt",storageKey:null},le,ae,G],storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"image_color_value",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityColorPaletteColor",kind:"LinkedField",name:"palette",plural:!0,selections:[pe,ne],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"integer_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scribe_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"string_value",storageKey:null},ye,{alias:null,args:null,concreteType:"ApiCardBindingUserValue",kind:"LinkedField",name:"user_value",plural:!1,selections:[R,{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},he={alias:null,args:null,concreteType:"ApiCardPlatform",kind:"LinkedField",name:"card_platform",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiCardPlatformPlatform",kind:"LinkedField",name:"platform",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiCardPlatformAudience",kind:"LinkedField",name:"audience",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket",storageKey:null},F],storageKey:null},{alias:null,args:null,concreteType:"ApiCardPlatformDevice",kind:"LinkedField",name:"device",plural:!1,selections:[F,{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},ke={alias:"urlType",args:null,kind:"ScalarField",name:"url_type",storageKey:null},ve={alias:null,args:null,concreteType:"TimelineUrl",kind:"LinkedField",name:"url",plural:!1,selections:[ke,G],storageKey:null},be=[G],Fe={alias:null,args:null,concreteType:"BadgeInfo",kind:"LinkedField",name:"badge",plural:!1,selections:be,storageKey:null},fe={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},Te={alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},Ke={alias:null,args:null,kind:"ScalarField",name:"rtl",storageKey:null},Se={alias:"fromIndex",args:null,kind:"ScalarField",name:"from_index",storageKey:null},Ee={alias:"toIndex",args:null,kind:"ScalarField",name:"to_index",storageKey:null},Le={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},Ie={alias:"type",args:null,kind:"ScalarField",name:"__typename",storageKey:null},Re=[B],Ce={kind:"InlineFragment",selections:Re,type:"TimelineRichTextCashtag",abstractKey:null},we={kind:"InlineFragment",selections:[g,G],type:"TimelineRichTextList",abstractKey:null},Me={kind:"InlineFragment",selections:Re,type:"TimelineRichTextHashtag",abstractKey:null},xe={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},Ae={kind:"InlineFragment",selections:[G,ke,{alias:"urtEndpointOptions",args:null,concreteType:"TimelineUrtEndpointOptions",kind:"LinkedField",name:"urt_endpoint_options",plural:!1,selections:[{alias:"cacheId",args:null,kind:"ScalarField",name:"cache_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},xe,{alias:"requestParams",args:null,concreteType:"RequestParamsEntry",kind:"LinkedField",name:"request_params",plural:!0,selections:[ge,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],type:"TimelineUrl",abstractKey:null},De={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[f],storageKey:null},Oe={alias:"reason",args:null,kind:"ScalarField",name:"unavailable_reason",storageKey:null},Pe={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},Ue={kind:"InlineFragment",selections:[Oe,Pe],type:"UserUnavailable",abstractKey:null},He=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[De,m],type:"User",abstractKey:null},Ue],storageKey:null}],qe={alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Se,Ee,Le,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ie,Ce,we,Me,Ae,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:He,storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[f,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:He,storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},Ne={alias:"userLabelType",args:null,kind:"ScalarField",name:"user_label_type",storageKey:null},je={alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[ve,Fe,fe,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[Te,Ke,B,qe],storageKey:null},Ne],storageKey:null}],storageKey:null},We={condition:"withDmMuting",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dm_muting",storageKey:null}]},Be={alias:null,args:null,kind:"ScalarField",name:"has_nft_avatar",storageKey:null},Ve={alias:null,args:null,kind:"ScalarField",name:"blocked_by",storageKey:null},ze={alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},Qe={alias:null,args:null,kind:"ScalarField",name:"can_dm",storageKey:null},Ge={alias:null,args:null,kind:"ScalarField",name:"can_media_tag",storageKey:null},Ye={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},$e={alias:null,args:null,kind:"ScalarField",name:"default_profile",storageKey:null},Xe={alias:null,args:null,kind:"ScalarField",name:"default_profile_image",storageKey:null},Je={alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls",plural:!0,selections:[V,z,G,Q],storageKey:null},Ze=[Je],el=[{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"description",plural:!1,selections:Ze,storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"url",plural:!1,selections:Ze,storageKey:null}],ll={alias:null,args:null,concreteType:"UserEntities",kind:"LinkedField",name:"entities",plural:!1,selections:el,storageKey:null},al={alias:null,args:null,kind:"ScalarField",name:"fast_followers_count",storageKey:null},nl={alias:null,args:null,kind:"ScalarField",name:"favourites_count",storageKey:null},tl={alias:null,args:null,kind:"ScalarField",name:"follow_request_sent",storageKey:null},sl={alias:null,args:null,kind:"ScalarField",name:"follow_request_received",storageKey:null},il={alias:null,args:null,kind:"ScalarField",name:"followed_by",storageKey:null},rl={alias:null,args:null,kind:"ScalarField",name:"followers_count",storageKey:null},ol={alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null},cl={alias:null,args:null,kind:"ScalarField",name:"friends_count",storageKey:null},dl={alias:null,args:null,kind:"ScalarField",name:"has_custom_timelines",storageKey:null},ul={alias:null,args:null,kind:"ScalarField",name:"is_translator",storageKey:null},ml={alias:null,args:null,kind:"ScalarField",name:"listed_count",storageKey:null},gl={alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},pl={alias:null,args:null,kind:"ScalarField",name:"media_count",storageKey:null},yl={alias:null,args:null,kind:"ScalarField",name:"muting",storageKey:null},_l={alias:null,args:null,kind:"ScalarField",name:"needs_phone_verification",storageKey:null},hl={alias:null,args:null,kind:"ScalarField",name:"normal_followers_count",storageKey:null},kl={alias:null,args:null,kind:"ScalarField",name:"notifications",storageKey:null},vl={alias:null,args:null,kind:"ScalarField",name:"pinned_tweet_ids_str",storageKey:null},bl={alias:null,args:null,kind:"ScalarField",name:"possibly_sensitive",storageKey:null},Fl=[{alias:null,args:null,concreteType:"ApiMediaEntityColorPaletteColor",kind:"LinkedField",name:"palette",plural:!0,selections:[ne,pe],storageKey:null}],fl=[{alias:null,args:null,concreteType:"ApiMediaColorExtension",kind:"LinkedField",name:"mediaColor",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaColorExtensionR",kind:"LinkedField",name:"r",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"ok",plural:!1,selections:Fl,storageKey:null}],storageKey:null}],storageKey:null}],Tl={alias:null,args:null,concreteType:"ApiMediaExtensions",kind:"LinkedField",name:"profile_banner_extensions",plural:!1,selections:fl,storageKey:null},Kl={alias:null,args:null,kind:"ScalarField",name:"profile_banner_url",storageKey:null},Sl={alias:null,args:null,concreteType:"ApiMediaExtensions",kind:"LinkedField",name:"profile_image_extensions",plural:!1,selections:fl,storageKey:null},El={alias:null,args:null,kind:"ScalarField",name:"profile_interstitial_type",storageKey:null},Ll={alias:null,args:null,kind:"ScalarField",name:"protected",storageKey:null},Il={alias:null,args:null,kind:"ScalarField",name:"statuses_count",storageKey:null},Rl={alias:null,args:null,kind:"ScalarField",name:"time_zone",storageKey:null},Cl={alias:null,args:null,kind:"ScalarField",name:"translator_type",storageKey:null},wl={alias:null,args:null,kind:"ScalarField",name:"utc_offset",storageKey:null},Ml={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null},xl={alias:null,args:null,kind:"ScalarField",name:"want_retweets",storageKey:null},Al={alias:null,args:null,kind:"ScalarField",name:"withheld_description",storageKey:null},Dl={alias:null,args:null,concreteType:"UserEntities",kind:"LinkedField",name:"withheld_entities",plural:!1,selections:el,storageKey:null},Ol={alias:null,args:null,kind:"ScalarField",name:"withheld_in_countries",storageKey:null},Pl={alias:null,args:null,kind:"ScalarField",name:"withheld_scope",storageKey:null},Ul={alias:null,args:null,kind:"ScalarField",name:"professional_type",storageKey:null},Hl={alias:null,args:null,kind:"ScalarField",name:"display",storageKey:null},ql={alias:null,args:null,concreteType:"BusinessCategory",kind:"LinkedField",name:"category",plural:!0,selections:[g,F,Hl],storageKey:null},Nl={alias:null,args:null,concreteType:"Professional",kind:"LinkedField",name:"professional",plural:!1,selections:[m,Ul,ql],storageKey:null},jl={condition:"withSafetyModeUserFields",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"smart_blocked_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"smart_blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"smart_blocking_expiration",storageKey:null}]},Wl={condition:"withSuperFollowsUserFields",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"super_follow_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"super_followed_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"super_following",storageKey:null}]},Bl={kind:"InlineFragment",selections:[Pe,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[Te,qe,Ke,B],storageKey:null},Oe],type:"UserUnavailable",abstractKey:null},Vl={alias:null,args:null,kind:"ScalarField",name:"conversation_muted",storageKey:null},zl={alias:null,args:null,kind:"ScalarField",name:"policy",storageKey:null},Ql={alias:null,args:null,kind:"ScalarField",name:"invite_via_mention",storageKey:null},Gl={alias:null,args:null,kind:"ScalarField",name:"collab_invitation_status",storageKey:null},Yl={alias:null,args:null,kind:"ScalarField",name:"conversation_id_str",storageKey:null},$l={alias:null,args:null,kind:"ScalarField",name:"coordinates",storageKey:null},Xl=[ye,$l],Jl={alias:null,args:null,concreteType:"ApiGeoFeature",kind:"LinkedField",name:"coordinates",plural:!1,selections:Xl,storageKey:null},Zl={alias:null,args:null,kind:"ScalarField",name:"display_text_range",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"ext_alt_text",storageKey:null},la={alias:null,args:null,kind:"ScalarField",name:"media_url_https",storageKey:null},aa={alias:null,args:null,kind:"ScalarField",name:"source_status_id_str",storageKey:null},na={alias:null,args:null,kind:"ScalarField",name:"source_user_id_str",storageKey:null},ta={alias:null,args:null,concreteType:"ApiCallToActions",kind:"LinkedField",name:"call_to_actions",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiVisitSiteCallToAction",kind:"LinkedField",name:"visit_site",plural:!1,selections:be,storageKey:null},{alias:null,args:null,concreteType:"ApiWatchNowCallToAction",kind:"LinkedField",name:"watch_now",plural:!1,selections:be,storageKey:null},{alias:null,args:null,concreteType:"ApiAppInstallCallToAction",kind:"LinkedField",name:"app_install",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"play_store_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"app_store_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ipad_app_store_id",storageKey:null}],storageKey:null}],storageKey:null},sa={alias:null,args:null,kind:"ScalarField",name:"monetizable",storageKey:null},ia={alias:null,args:null,concreteType:"ApiMediaInfo360",kind:"LinkedField",name:"ext_info360",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is360",storageKey:null}],storageKey:null},ra={alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"ext_media_color",plural:!1,selections:Fl,storageKey:null},oa={alias:"mediaStats",args:null,concreteType:"ApiMediaEngagementInfo",kind:"LinkedField",name:"ext_media_stats",plural:!1,selections:[{alias:"viewCount",args:null,kind:"ScalarField",name:"view_count",storageKey:null}],storageKey:null},ca={alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},da={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},ua={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"copyright_holder_name",storageKey:null}],type:"ApiMediaUnavailabilityInfoCopyrightViolation",abstractKey:null},ma={alias:null,args:null,concreteType:"ApiMediaAvailability",kind:"LinkedField",name:"ext_media_availability",plural:!1,selections:[ca,da,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unavailability_info",plural:!1,selections:[ua],storageKey:null}],storageKey:null},ga={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},pa={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},ya={alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},_a={alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},ha=[{alias:null,args:null,concreteType:"ApiMediaEntityFace",kind:"LinkedField",name:"faces",plural:!0,selections:[ga,pa,ya,_a],storageKey:null}],ka={alias:null,args:null,concreteType:"ApiMediaEntityFeatures",kind:"LinkedField",name:"features",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityTags",kind:"LinkedField",name:"all",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityTag",kind:"LinkedField",name:"tags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},F,f,ye],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"large",plural:!1,selections:ha,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"medium",plural:!1,selections:ha,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"small",plural:!1,selections:ha,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"orig",plural:!1,selections:ha,storageKey:null}],storageKey:null},va={alias:null,args:null,concreteType:"SensitiveMediaWarning",kind:"LinkedField",name:"sensitive_media_warning",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"adult_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"graphic_violence",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"other",storageKey:null}],storageKey:null},ba=[ya,_a,{alias:null,args:null,kind:"ScalarField",name:"resize",storageKey:null}],Fa={alias:null,args:null,concreteType:"ApiMediaEntitySizes",kind:"LinkedField",name:"sizes",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"large",plural:!1,selections:ba,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"medium",plural:!1,selections:ba,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"small",plural:!1,selections:ba,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"thumb",plural:!1,selections:ba,storageKey:null}],storageKey:null},fa={alias:null,args:null,concreteType:"ApiMediaEntityOriginalInfo",kind:"LinkedField",name:"original_info",plural:!1,selections:[le,ae,{alias:null,args:null,concreteType:"ApiMediaEntityFocusRect",kind:"LinkedField",name:"focus_rects",plural:!0,selections:[ga,pa,_a,ya],storageKey:null}],storageKey:null},Ta={alias:null,args:null,concreteType:"ApiMediaEntityVideoInfo",kind:"LinkedField",name:"video_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null},re,{alias:null,args:null,concreteType:"ApiMediaEntityVideoVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bitrate",storageKey:null},de,G],storageKey:null}],storageKey:null},Ka={alias:null,args:null,concreteType:"ApiMentionEntity",kind:"LinkedField",name:"user_mentions",plural:!0,selections:[R,F,f,Q],storageKey:null},Sa=[Q,B],Ea={alias:null,args:null,concreteType:"ApiTagEntity",kind:"LinkedField",name:"hashtags",plural:!0,selections:Sa,storageKey:null},La={alias:null,args:null,concreteType:"ApiTagEntity",kind:"LinkedField",name:"symbols",plural:!0,selections:Sa,storageKey:null},Ia={alias:null,args:null,kind:"ScalarField",name:"favorite_count",storageKey:null},Ra={alias:null,args:null,kind:"ScalarField",name:"favorited",storageKey:null},Ca={alias:null,args:null,kind:"ScalarField",name:"full_text",storageKey:null},wa={alias:null,args:null,concreteType:"ApiGeoFeature",kind:"LinkedField",name:"geo",plural:!1,selections:Xl,storageKey:null},Ma={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_screen_name",storageKey:null},xa={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_status_id_str",storageKey:null},Aa={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_user_id_str",storageKey:null},Da={alias:null,args:null,kind:"ScalarField",name:"is_quote_status",storageKey:null},Oa={alias:null,args:null,kind:"ScalarField",name:"lang",storageKey:null},Pa={alias:null,args:null,kind:"ScalarField",name:"limited_actions",storageKey:null},Ua={alias:null,args:null,kind:"ScalarField",name:"possibly_sensitive_editable",storageKey:null},Ha={alias:null,args:null,concreteType:"ApiPlace",kind:"LinkedField",name:"place",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiGeoAttributes",kind:"LinkedField",name:"attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"factual_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iso3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"locality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"street_address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"twitter",storageKey:null},G],storageKey:null},{alias:"bounding_box",args:null,concreteType:"ApiGeoPolygon",kind:"LinkedField",name:"bounding_box_polygon",plural:!1,selections:[$l,ye],storageKey:null},{alias:null,args:null,concreteType:"ApiPlace",kind:"LinkedField",name:"contained_within",plural:!0,selections:[g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},F,g,{alias:null,args:null,kind:"ScalarField",name:"place_type",storageKey:null},G],storageKey:null},qa={alias:null,args:null,concreteType:"ApiTweetPromotedContent",kind:"LinkedField",name:"promoted_content",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"disclosure_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"impression_id",storageKey:null}],storageKey:null},Na={alias:null,args:null,kind:"ScalarField",name:"quote_count",storageKey:null},ja={alias:null,args:null,kind:"ScalarField",name:"quoted_status_id_str",storageKey:null},Wa={alias:null,args:null,concreteType:"ApiShortenedUrl",kind:"LinkedField",name:"quoted_status_permalink",plural:!1,selections:[G,{alias:null,args:null,kind:"ScalarField",name:"expanded",storageKey:null},Hl],storageKey:null},Ba={alias:null,args:null,kind:"ScalarField",name:"reply_count",storageKey:null},Va={alias:null,args:null,kind:"ScalarField",name:"retweet_count",storageKey:null},za={alias:null,args:null,kind:"ScalarField",name:"retweeted",storageKey:null},Qa={alias:null,args:null,concreteType:"ApiScopes",kind:"LinkedField",name:"scopes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"followers",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"place_ids",storageKey:null}],storageKey:null},Ga={alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null},Ya={alias:null,args:null,kind:"ScalarField",name:"supplemental_language",storageKey:null},$a={alias:null,args:null,kind:"ScalarField",name:"user_id_str",storageKey:null},Xa={alias:null,args:null,kind:"ScalarField",name:"withheld_text",storageKey:null},Ja={alias:null,args:null,concreteType:"ApiSelfThreadMetadata",kind:"LinkedField",name:"self_thread",plural:!1,selections:[R],storageKey:null},Za={condition:"withMessageQueryHighlights",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"DMHighlighting",kind:"LinkedField",name:"highlighting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"query_tokens",storageKey:null}],storageKey:null}]},en={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null},ln=[{kind:"Variable",name:"cursor",variableName:"cursor"},d,u],an={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},nn=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,T,an],type:"User",abstractKey:null}],storageKey:null},g],tn=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[De,an,m,g],type:"User",abstractKey:null},Ue],storageKey:null},g],sn={alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Se,Ee,Le,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[X,{kind:"TypeDiscriminator",abstractKey:"__isTimelineReferenceObject"},Ie,Ce,we,Me,Ae,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:tn,storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[f,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:tn,storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},rn=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[ve,Fe,fe,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[Te,Ke,B,sn],storageKey:null},Ne],storageKey:null}],storageKey:null},We,Be,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[Ve,ze,Qe,Ge,Ye,$e,Xe,fe,ll,al,nl,tl,sl,il,rl,ol,cl,dl,ul,ml,gl,pl,yl,F,_l,hl,kl,vl,bl,Tl,Kl,Sl,C,El,Ll,f,Il,Rl,Cl,G,wl,Ml,xl,Al,Dl,Ol,Pl],storageKey:null},an,{alias:null,args:null,concreteType:"Professional",kind:"LinkedField",name:"professional",plural:!1,selections:[m,Ul,ql,g],storageKey:null},jl,Wl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Pe,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[Te,sn,Ke,B],storageKey:null},Oe],type:"UserUnavailable",abstractKey:null}],storageKey:null},g],on={alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[m,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[_e,he,F,G,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_refs_results",plural:!0,selections:rn,storageKey:null}],storageKey:null},g],storageKey:null},cn=[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:rn,storageKey:null}],dn=[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[V,z,ea,R,Q,Z,la,bl,aa,na,ye,G,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[xe,fe,ta,oe,sa,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:cn,storageKey:null}],storageKey:null},ia,ra,oa,{alias:null,args:null,concreteType:"ApiMediaAvailability",kind:"LinkedField",name:"ext_media_availability",plural:!1,selections:[ca,da,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unavailability_info",plural:!1,selections:[X,ua],storageKey:null}],storageKey:null},ka,va,Fa,fa,Ta],storageKey:null},Ka,Je,Ea,La],{fragment:{argumentDefinitions:[n,t,s,i,r,o,c],kind:"Fragment",metadata:null,name:"DMMessageSearchTabQuery",selections:[{alias:"dm_message_slice_result",args:[d,u],concreteType:null,kind:"LinkedField",name:"__DMMessageSearchTabQuery_dm_message_slice_result_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[m,g,{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[p,y,_,h,k,{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"conversation",plural:!1,selections:[g,m,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[v,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[v,b,F,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:K,storageKey:null},y,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:K,storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[I],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[g,m,w],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},M,x,A],storageKey:null},D],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[O,P,U,H,q,F,N,j,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:K,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"participants_snapshot_results",plural:!0,selections:K,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:K,storageKey:null},{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[W,g,B,{condition:"withAttachments",kind:"Condition",passingValue:!0,selections:[$,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[X,me,{kind:"InlineFragment",selections:[J,{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[m,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[_e,he,F,G,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_refs_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,je,We,Be,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ve,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.blocked_by"},{kind:"RequiredField",field:ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.blocking"},Qe,Ge,Ye,$e,Xe,fe,ll,al,{kind:"RequiredField",field:nl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.favourites_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.follow_request_sent"},sl,{kind:"RequiredField",field:il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.followed_by"},{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.followers_count"},{kind:"RequiredField",field:ol,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.following"},{kind:"RequiredField",field:cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.friends_count"},dl,ul,ml,gl,{kind:"RequiredField",field:pl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.media_count"},yl,F,_l,hl,kl,vl,bl,Tl,Kl,Sl,C,El,{kind:"RequiredField",field:Ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.protected"},f,{kind:"RequiredField",field:Il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.statuses_count"},Rl,Cl,G,wl,{kind:"RequiredField",field:Ml,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.verified"},xl,Al,Dl,Ol,Pl],storageKey:null},Nl,jl,Wl],type:"User",abstractKey:null},Bl],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[J,{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[X,g,m,{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[m,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[_e,he,F,G,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_refs_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,je,We,Be,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ve,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.blocked_by"},{kind:"RequiredField",field:ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.blocking"},Qe,Ge,Ye,$e,Xe,fe,ll,al,{kind:"RequiredField",field:nl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.favourites_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.follow_request_sent"},sl,{kind:"RequiredField",field:il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.followed_by"},{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.followers_count"},{kind:"RequiredField",field:ol,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.following"},{kind:"RequiredField",field:cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.friends_count"},dl,ul,ml,gl,{kind:"RequiredField",field:pl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.media_count"},yl,F,_l,hl,kl,vl,bl,Tl,Kl,Sl,C,El,{kind:"RequiredField",field:Ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.protected"},f,{kind:"RequiredField",field:Il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.statuses_count"},Rl,Cl,G,wl,{kind:"RequiredField",field:Ml,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.verified"},xl,Al,Dl,Ol,Pl],storageKey:null},Nl,jl,Wl],type:"User",abstractKey:null},Bl],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LegacyTweet",kind:"LinkedField",name:"legacy",plural:!1,selections:[Vl,Ye,{alias:null,args:null,concreteType:"ApiConversationControl",kind:"LinkedField",name:"conversation_control",plural:!1,selections:[zl,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"conversation_owner",plural:!1,selections:[De],storageKey:null},Ql],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collab_control",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborators_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,je,We,Be,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ve,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.blocked_by"},{kind:"RequiredField",field:ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.blocking"},Qe,Ge,Ye,$e,Xe,fe,ll,al,{kind:"RequiredField",field:nl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.favourites_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.follow_request_sent"},sl,{kind:"RequiredField",field:il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.followed_by"},{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.followers_count"},{kind:"RequiredField",field:ol,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.following"},{kind:"RequiredField",field:cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.friends_count"},dl,ul,ml,gl,{kind:"RequiredField",field:pl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.media_count"},yl,F,_l,hl,kl,vl,bl,Tl,Kl,Sl,C,El,{kind:"RequiredField",field:Ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.protected"},f,{kind:"RequiredField",field:Il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.statuses_count"},Rl,Cl,G,wl,{kind:"RequiredField",field:Ml,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.verified"},xl,Al,Dl,Ol,Pl],storageKey:null},Nl,jl,Wl],type:"User",abstractKey:null},Bl],storageKey:null}],storageKey:null}],type:"CollabTweet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InvitedCollaborator",kind:"LinkedField",name:"invited_collaborators",plural:!0,selections:[Gl,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborator_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,je,We,Be,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ve,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.blocked_by"},{kind:"RequiredField",field:ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.blocking"},Qe,Ge,Ye,$e,Xe,fe,ll,al,{kind:"RequiredField",field:nl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.favourites_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.follow_request_sent"},sl,{kind:"RequiredField",field:il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.followed_by"},{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.followers_count"},{kind:"RequiredField",field:ol,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.following"},{kind:"RequiredField",field:cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.friends_count"},dl,ul,ml,gl,{kind:"RequiredField",field:pl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.media_count"},yl,F,_l,hl,kl,vl,bl,Tl,Kl,Sl,C,El,{kind:"RequiredField",field:Ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.protected"},f,{kind:"RequiredField",field:Il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.statuses_count"},Rl,Cl,G,wl,{kind:"RequiredField",field:Ml,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.verified"},xl,Al,Dl,Ol,Pl],storageKey:null},Nl,jl,Wl],type:"User",abstractKey:null},Bl],storageKey:null}],storageKey:null}],storageKey:null}],type:"CollabInvitation",abstractKey:null}],storageKey:null},Yl,Jl,Zl,{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[V,z,ea,R,Q,Z,la,bl,aa,na,ye,G,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[xe,fe,ta,oe,sa,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,je,We,Be,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ve,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.blocking"},Qe,Ge,Ye,$e,Xe,fe,ll,al,{kind:"RequiredField",field:nl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.follow_request_sent"},sl,{kind:"RequiredField",field:il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:ol,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.following"},{kind:"RequiredField",field:cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.friends_count"},dl,ul,ml,gl,{kind:"RequiredField",field:pl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.media_count"},yl,F,_l,hl,kl,vl,bl,Tl,Kl,Sl,C,El,{kind:"RequiredField",field:Ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.protected"},f,{kind:"RequiredField",field:Il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.statuses_count"},Rl,Cl,G,wl,{kind:"RequiredField",field:Ml,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.verified"},xl,Al,Dl,Ol,Pl],storageKey:null},Nl,jl,Wl],type:"User",abstractKey:null},Bl],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},ia,ra,oa,ma,ka,va,Fa,fa,Ta],storageKey:null},Ka,Je,Ea,La],storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"extended_entities",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[V,z,ea,R,Q,Z,la,bl,aa,na,ye,G,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[xe,fe,ta,oe,sa,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,je,We,Be,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ve,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.blocking"},Qe,Ge,Ye,$e,Xe,fe,ll,al,{kind:"RequiredField",field:nl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.follow_request_sent"},sl,{kind:"RequiredField",field:il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:ol,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.following"},{kind:"RequiredField",field:cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.friends_count"},dl,ul,ml,gl,{kind:"RequiredField",field:pl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.media_count"},yl,F,_l,hl,kl,vl,bl,Tl,Kl,Sl,C,El,{kind:"RequiredField",field:Ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.protected"},f,{kind:"RequiredField",field:Il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.statuses_count"},Rl,Cl,G,wl,{kind:"RequiredField",field:Ml,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.verified"},xl,Al,Dl,Ol,Pl],storageKey:null},Nl,jl,Wl],type:"User",abstractKey:null},Bl],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},ia,ra,oa,ma,ka,va,Fa,fa,Ta],storageKey:null},Ka,Je,Ea,La],storageKey:null},{kind:"RequiredField",field:Ia,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.favorite_count"},{kind:"RequiredField",field:Ra,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.favorited"},Ca,wa,Ma,xa,Aa,Da,Oa,Pa,bl,Ua,Ha,qa,Na,ja,Wa,{kind:"RequiredField",field:Ba,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.reply_count"},{kind:"RequiredField",field:Va,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.retweet_count"},{kind:"RequiredField",field:za,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.retweeted"},Qa,Ga,Ya,$a,Pl,R,Xa,Ja],storageKey:null},{alias:null,args:null,concreteType:"TweetCore",kind:"LinkedField",name:"core",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,je,We,Be,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ve,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.blocking"},Qe,Ge,Ye,$e,Xe,fe,ll,al,{kind:"RequiredField",field:nl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.follow_request_sent"},sl,{kind:"RequiredField",field:il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:rl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:ol,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.following"},{kind:"RequiredField",field:cl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.friends_count"},dl,ul,ml,gl,{kind:"RequiredField",field:pl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.media_count"},yl,F,_l,hl,kl,vl,bl,Tl,Kl,Sl,C,El,{kind:"RequiredField",field:Ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.protected"},f,{kind:"RequiredField",field:Il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.statuses_count"},Rl,Cl,G,wl,{kind:"RequiredField",field:Ml,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.verified"},xl,Al,Dl,Ol,Pl],storageKey:null},Nl,jl,Wl],type:"User",abstractKey:null},Bl],storageKey:null}],storageKey:null}],storageKey:null},{alias:"quotedRefResult",args:null,concreteType:"TweetResults",kind:"LinkedField",name:"quoted_tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[m],type:"Tweet",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Tweet",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"recipient_results",plural:!1,selections:K,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:K,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Za],type:"DMMessageSearchItem",abstractKey:null}],storageKey:null},en],type:"DMMessageSlice",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,s,r,c,o,i],kind:"Operation",name:"DMMessageSearchTabQuery",selections:[{alias:null,args:ln,concreteType:null,kind:"LinkedField",name:"dm_message_slice_result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[X,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[m,g,{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[p,y,_,h,k,{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"conversation",plural:!1,selections:[g,m,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[v,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[v,b,F,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:nn,storageKey:null},y,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:nn,storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[X,I],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,w,an],type:"User",abstractKey:null}],storageKey:null},g],storageKey:null},M,x,A],storageKey:null},D],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[O,P,U,H,q,F,N,j,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:nn,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"participants_snapshot_results",plural:!0,selections:nn,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:nn,storageKey:null},{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[W,g,B,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"recipient_results",plural:!1,selections:nn,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:nn,storageKey:null},{condition:"withAttachments",kind:"Condition",passingValue:!0,selections:[$,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[X,me,{kind:"InlineFragment",selections:[J,on],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[J,{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,on,{alias:null,args:null,concreteType:"LegacyTweet",kind:"LinkedField",name:"legacy",plural:!1,selections:[Vl,Ye,{alias:null,args:null,concreteType:"ApiConversationControl",kind:"LinkedField",name:"conversation_control",plural:!1,selections:[zl,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"conversation_owner",plural:!1,selections:[De,an,g],storageKey:null},Ql],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collab_control",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborators_results",plural:!0,selections:rn,storageKey:null}],type:"CollabTweet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InvitedCollaborator",kind:"LinkedField",name:"invited_collaborators",plural:!0,selections:[Gl,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborator_results",plural:!1,selections:rn,storageKey:null}],storageKey:null}],type:"CollabInvitation",abstractKey:null}],storageKey:null},Yl,Jl,Zl,{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:dn,storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"extended_entities",plural:!1,selections:dn,storageKey:null},Ia,Ra,Ca,wa,Ma,xa,Aa,Da,Oa,Pa,bl,Ua,Ha,qa,Na,ja,Wa,Ba,Va,za,Qa,Ga,Ya,$a,Pl,R,Xa,Ja],storageKey:null},an,{alias:null,args:null,concreteType:"TweetCore",kind:"LinkedField",name:"core",plural:!1,selections:cn,storageKey:null},{alias:"quotedRefResult",args:null,concreteType:"TweetResults",kind:"LinkedField",name:"quoted_tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[m,g],type:"Tweet",abstractKey:null}],storageKey:null},g],storageKey:null}],type:"Tweet",abstractKey:null}],storageKey:null},g],storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Za],type:"DMMessageSearchItem",abstractKey:null}],storageKey:null},en],type:"DMMessageSlice",abstractKey:null}],storageKey:null},{alias:null,args:ln,filters:["query","s"],handle:"slice",key:"DMMessageSearchTabQuery_dm_message_slice_result",kind:"LinkedHandle",name:"dm_message_slice_result"}]},params:{id:"ohIdskxhcO0prVE-dhp-LA",metadata:{sliceInfoPath:["dm_message_slice_result","slice_info"]},name:"DMMessageSearchTabQuery",operationKind:"query",text:null}});un.hash="047e679536a37cb5fc5faf0309b35bd1",e.exports=un},zQEV:function(e,l,a){"use strict";a.d(l,"b",(function(){return g})),a.d(l,"a",(function(){return y}));var n=a("ERkP"),t=a.n(n),s=a("t62R"),i=a("qqsb"),r=a.n(i),o=a("aWyx");const c=r.a.c1d4ac84,d=r.a.abc7b032,u=r.a.i263b294,m=({children:e,conversationId:l})=>t.a.createElement(s.b,{link:`/messages/${l}/participants`},e),g=(e,l)=>e>=2?t.a.createElement(r.a.I18NFormatMessage,{$i18n:"e3534477"},t.a.createElement(m,{conversationId:l},r.a.i8d5e62b({count:e}))):t.a.createElement(r.a.I18NFormatMessage,{$i18n:"b6656851",count:e}),p=({entry:e,users:l})=>e.participants?t.a.createElement("span",null,e.participants.map((({user_id:e},a)=>{const n=l[e];return n?t.a.createElement("span",{key:a},a>0?", ":null,t.a.createElement(s.b,null,n.name)):null}))):null,y=(e,l,a,n)=>{const i=a===e.by_user_id;let m;switch(l){case o.b.CONVERSATION_AVATAR_UPDATE:return m=e.by_user_id&&n[e.by_user_id]&&n[e.by_user_id].name,m?i?c:(e=>t.a.createElement(r.a.I18NFormatMessage,{$i18n:"bff29c95"},t.a.createElement(s.b,null,e)))(m):d;case o.b.CONVERSATION_NAME_UPDATE:{const l=t.a.createElement(s.b,null,e.conversation_name);return m=e.by_user_id&&n[e.by_user_id]&&n[e.by_user_id].name,m?i?(e=>t.a.createElement(r.a.I18NFormatMessage,{$i18n:"b16e4d45"},e))(l):((e,l)=>t.a.createElement(r.a.I18NFormatMessage,{$i18n:"c5760699"},t.a.createElement(s.b,null,e),l))(m,l):(e=>t.a.createElement(r.a.I18NFormatMessage,{$i18n:"a72730a1"},e))(l)}case o.b.JOIN_CONVERSATION:return m=e.sender_id&&n[e.sender_id]&&n[e.sender_id].name,m?(e=>t.a.createElement(r.a.I18NFormatMessage,{$i18n:"fa95b019"},t.a.createElement(s.b,null,e)))(m):u;case o.b.PARTICIPANTS_LEAVE:return(e=>t.a.createElement(r.a.I18NFormatMessage,{$i18n:"fc10875f"},e))(t.a.createElement(p,{entry:e,users:n}));case o.b.PARTICIPANTS_JOIN:m=e.sender_id&&n[e.sender_id]&&n[e.sender_id].name;return((e,l)=>e?t.a.createElement(r.a.I18NFormatMessage,{$i18n:"a4bc88c3"},t.a.createElement(s.b,null,e),l):t.a.createElement(r.a.I18NFormatMessage,{$i18n:"bfdff0c3"},l))(m,t.a.createElement(p,{entry:e,users:n}));default:return""}}},zsGg:function(e,l,a){"use strict";a.d(l,"b",(function(){return h}));a("kYxP");var n=a("ERkP"),t=a.n(n),s=a("qqsb"),i=a.n(s),r=a("pxuL"),o=a("qz2E"),c=a("f42t");var d=a("AQ79"),u=a("pHkl"),m=a("pXKu"),g=a("hl/W"),p=a("maE+"),y=a("OOE2"),_=a("29EQ");i.a.a74e7c77;const h=i.a.h6beb5fb;class k extends t.a.Component{constructor(...e){super(...e),this._renderPivot=()=>{const{allowUntrustedInbox:e,allowUntrustedVDLInbox:l,untrustedCounts:a,untrustedUnreadCount:n}=this.props;return t.a.createElement(y.a,{allowUntrustedInbox:e,allowUntrustedVDLInbox:l,secondaryInboxCounts:a,untrustedUnreadCount:n})},this._renderEmptyDMInbox=()=>t.a.createElement(p.a,{messageRequestPivot:this._renderPivot()})}componentDidMount(){const{allowUntrustedInbox:e,allowUntrustedVDLInbox:l,analytics:a,location:n,setLastViewedDmInboxPath:t}=this.props;t(n.pathname),(e||l)&&a.scribe({element:"requests_pivot",action:"impression"})}componentWillUnmount(){this.context.featureSwitches.isTrue("dm_inbox_search_modular_results_enabled")&&this.props.clearSearchSlicesCache(u.j),this.props.clearSearchCache()}render(){const{analytics:e,conversationIds:l,fetchInboxHistory:a,updateLastSeenEventId:n}=this.props;return t.a.createElement(_.b,null,t.a.createElement(m.a,{accessibilityTitle:_.c,analytics:e,conversationIds:l,fetchInboxHistory:a,renderEmptyDMInbox:this._renderEmptyDMInbox,renderStickyContent:this._renderPivot,updateLastSeenEventId:n,virtualScrollerCacheKey:_.a,withDmSearch:!0,withPinnedInbox:!0}))}}k.contextType=r.a,k.defaultProps={conversationIds:[],untrustedUnreadCount:0,untrustedCounts:{newUntrustedWithSocialProof:0,newUntrustedWithoutSocialProof:0,oldUntrustedWithSocialProof:0,oldUntrustedWithoutSocialProof:0}};const v=Object(c.a)(Object(g.a)({inbox:d.d.PRIMARY})(k),{directMessages:o.a});l.a=v}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.DMDrawer.8e2ef648.js.map