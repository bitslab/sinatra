(window.webpackJsonp=window.webpackJsonp||[]).push([[372],{"3ukl":function(e,t,a){"use strict";a.r(t);var n=a("Rp9C"),o=a("ezF+"),r=a("ERkP"),i=a.n(r),s=a("MWbm"),c=a("PbQQ"),l=a("/yvb"),p=a("t62R"),d=a("rHpw"),m=a("pbku");const u=Object.freeze({Compact:"Compact",Normal:"Normal",Large:"Large",ThumbsUpAndDown:"ThumbsUpAndDown"});var g=a("Irs7"),y=a("0KEI"),b=a("rxPX"),h=a("EIk2");var C=Object(b.a)().propsFromActions((({module:e})=>({applyReactionInstructions:e.applyReactionInstructions,createLocalApiErrorHandler:Object(y.createLocalApiErrorHandlerWithContextFactory)("RELEVANCE_PROMPT"),processCallback:h.a,updateEntry:e.updateEntry}))),f=a("IMYl"),E=a("hOZg");const x=e=>"IconCheckmark"===e?i.a.createElement(f.a,null):"IconClose"===e?i.a.createElement(E.a,null):void 0,I=(e,t)=>{if(e&&e===u.ThumbsUpAndDown)return t?"IconCheckmark":"IconClose"},k=({applyReactionInstructions:e,createLocalApiErrorHandler:t,entry:a,processCallback:n,updateEntry:o})=>{const r=a.content.relevancePrompt&&a.content.relevancePrompt,{confirmation:d,displayType:y,isRelevantCallback:b,isRelevantText:h,notRelevantCallback:C,notRelevantText:f,showConfirmation:E,title:k}=r||{},v=Object(g.b)(),R=I(y,!0),L=I(y,!1),T=y===u.ThumbsUpAndDown,A=T,H=c.b.useOpaqueIdentifier();i.a.useEffect((()=>{v.scribe({element:"relevance_prompt",action:"impression"})}),[]);const D=i.a.useCallback((e=>{r&&o(a.entryId,{relevancePrompt:{...r,showConfirmation:!0}}),n(e).catch(t())}),[t,a.entryId,n,r,o]),O=i.a.useCallback((()=>{v.scribe({element:"is_relevant",action:"click"}),D(b),e({entry:a,triggerName:m.a.ON_IS_RELEVANT})}),[v,e,a,b,D]),P=i.a.useCallback((()=>{v.scribe({element:"not_relevant",action:"click"}),D(C)}),[v,C,D]),_=(e,t,a)=>i.a.createElement(l.a,{accessibilityLabel:t,icon:a?x(a):void 0,onPress:e,size:a?"medium":"xSmall",style:a?w.icon:w.button,type:T?"primaryOutlined":"brandFilled"},a?null:t);return i.a.createElement(s.a,{accessibilityLabelledBy:H,accessibilityRole:"group",style:w.promptContainer},E?i.a.createElement(s.a,{accessibilityRole:"alert"},i.a.createElement(p.b,{style:T&&w.survey},d)):i.a.createElement(s.a,{style:[w.root,T&&w.survey]},i.a.createElement(s.a,{style:w.firstHalf},i.a.createElement(p.b,{nativeID:H},k)),i.a.createElement(s.a,{style:w.secondHalf},i.a.createElement(s.a,{style:w.buttonContainer},A?i.a.createElement(i.a.Fragment,null,_(O,h,R),_(P,f,L)):i.a.createElement(i.a.Fragment,null,_(P,f,L),_(O,h,R))))))},w=d.a.create((e=>({button:{margin:"1ex"},buttonContainer:{display:"grid",gridTemplateColumns:"repeat(2,1fr)"},secondHalf:{width:"50%",display:"grid",justifyContent:"end"},firstHalf:{width:"50%",flexDirection:"column",justifyContent:"center"},root:{flexDirection:"row",justifyContent:"space-between"},promptContainer:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},survey:{display:"flex",borderRadius:e.spaces.space8,padding:e.spaces.space12,backgroundColor:e.colors.orange0,alignItems:"center",minHeight:e.spaces.space64},icon:{marginLeft:e.spaces.space12}})));var v=C(i.a.memo(k));const R=o.b({component:v,getScribeDataItem:e=>n.a.forRelevancePrompt(e.itemMetadata.clientEventInfo)}).getHandler();t.default=R},EycW:function(e,t,a){"use strict";var n=a("ERkP"),o=a.n(n),r=a("MWbm"),i=a("uCrx"),s=a("t62R"),c=a("PnKw"),l=a("rHpw"),p="onboardingLikesGuide-emptyHeart",d="onboardingLikesGuide-filledHeart";const m=o.a.memo((()=>o.a.createElement(i.a,{style:g.emptyHeart,testID:p}))),u=o.a.memo((()=>o.a.createElement(i.a,{style:g.filledHeart,testID:d}))),g=l.a.create((e=>({actionContext:{marginLeft:e.spaces.space8,display:"inline"},actionGuide:{alignItems:"baseline",display:"flex",flexDirection:"row",paddingLeft:e.spaces.space16,paddingRight:e.spaces.space16},actionGuideLeft:{flexGrow:"1",display:"flex",flexDirection:"row",alignItems:"center"},actionGuideRight:{flexGrow:"1",display:"block",textAlign:"right"},actionIcon:{display:"inline",marginLeft:e.spaces.space8},container:{position:"relative",marginTop:e.spaces.space4},headerText:{marginTop:e.spaces.space8,marginBottom:e.spaces.space8},actionContextIconContainer:{display:"inline"},actionContextIcon:{color:e.colors.magenta500,width:`calc(${e.spaces.space16} - ${e.spaces.space2})`,height:`calc(${e.spaces.space16} - ${e.spaces.space2})`},actionContextIconHighlight:{display:"flex",flexDirection:"row",backgroundColor:e.colors.magenta50,borderRadius:"50%",width:`calc(${e.spaces.space32} - ${e.spaces.space4})`,height:`calc(${e.spaces.space32} - ${e.spaces.space4})`,justifyContent:"center",alignItems:"center"},iconImage:{width:e.spaces.space64,height:e.spaces.space72},bodyText:{color:e.colors.gray700,marginBottom:e.spaces.space16},iconContainer:{display:"block"},rightControl:{position:"absolute",top:"0px",right:"0px"},emptyHeart:{color:e.colors.gray100,width:e.spaces.space20,height:e.spaces.space20},filledHeart:{color:e.colors.magenta500,width:e.spaces.space20,height:e.spaces.space20}})));t.a=({bodyText:e,currentLikeCount:t,headerIconUrl:a,headerText:n,likeContext:l,rightControl:p,totalLikeCount:d})=>{const y=[];for(let e=0;e<d;e++)y.push(e<t?o.a.createElement(u,null):o.a.createElement(m,null));return o.a.createElement(r.a,{style:g.container},o.a.createElement(c.a,{headline:n,image:a?{url:a,width:68,height:68,isCentered:!0}:void 0,isCompact:!0,rightControl:p,subtext:e}),o.a.createElement(r.a,{style:g.actionGuide},o.a.createElement(r.a,{accessibilityLabel:l,style:g.actionGuideLeft},o.a.createElement(r.a,{style:g.actionContextIconContainer},o.a.createElement(r.a,{style:g.actionContextIconHighlight},o.a.createElement(i.a,{style:g.actionContextIcon}))),o.a.createElement(r.a,{style:g.actionContext},o.a.createElement(s.b,{size:"subtext2",weight:"bold"},l))),o.a.createElement(r.a,{accessibilityLabel:l,accessibilityLiveRegion:"polite",style:g.actionGuideRight},y.map(((e,t)=>o.a.createElement(r.a,{key:`action-icon-${t}`,style:g.actionIcon},e))))))}},PnKw:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));a("kYxP");var n=a("ERkP"),o=a.n(n),r=a("MWbm"),i=a("TIdA"),s=a("t62R"),c=a("A91F"),l=a("/yvb"),p=a("rHpw"),d="inlinePrompt",m="inlinePrompt-primaryAction",u="inlinePrompt-secondaryAction",g="inlinePrompt-centeredImageContainer";class y extends o.a.Component{constructor(...e){super(...e),this._renderImage=(e,t)=>{const a=o.a.createElement(i.a,{accessibilityLabel:"",aspectMode:c.a.exact(e.width/e.height),backgroundColor:e.backgroundColor,customVariants:t,image:e});return e.isCentered?o.a.createElement(r.a,{style:b.centeredImage,testID:g},o.a.createElement(r.a,{style:{width:`${e.width}px`,height:`${e.height}px`}},a)):a},this._renderTitle=()=>{const{headline:e}=this.props;return e?o.a.createElement(s.b,{accessibilityRole:"heading",align:"left",size:"title3",style:b.flexGrow,weight:"heavy",withHashflags:!0},e):null},this._renderBodyText=()=>{const{subtext:e}=this.props;return e?o.a.createElement(s.b,{align:"left",color:"gray700",style:this.styles.body,withHashflags:!0},e):null},this._renderAction=({action:e,buttonSize:t,buttonType:a,style:n,testID:i})=>{const{secondaryAction:s}=this.props,{link:c,onClick:p,text:d}=e;return o.a.createElement(r.a,{style:[this.styles.actionContainer,n,{justifyContent:"flex-start"}],testID:i},o.a.createElement(l.a,{link:c,onPress:p,size:t,style:{width:s?"100%":"auto"},type:a},d))}}render(){const{image:e,imageVariants:t,primaryAction:a,rightControl:n,secondaryAction:i,shouldRenderBorder:s}=this.props;return o.a.createElement(r.a,{style:s?[h.root,h.rootMargin]:b.root},o.a.createElement(o.a.Fragment,null,e?this._renderImage(e,t):null,o.a.createElement(r.a,{style:this.styles.rootPadding,testID:d},this._renderTitle(),this._renderBodyText(),a?this._renderAction({action:a,buttonType:"primaryFilled",style:this.styles.primaryAction,buttonSize:"large",testID:m}):null,i?this._renderAction({action:i,buttonType:"primaryOutlined",style:this.styles.secondaryAction,buttonSize:"large",testID:u}):null)),n?o.a.createElement(r.a,{style:b.rightControl},n):null)}get styles(){return this.props.isCompact?f:C}}y.defaultProps={shouldRenderBorder:!1};const b=p.a.create((e=>({root:{backgroundColor:e.colors.cellBackground},flexGrow:{flexGrow:1},centeredImage:{display:"flex",flexDirection:"row",justifyContent:"center"},rightControl:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,position:"absolute",right:0,top:0}}))),h=p.a.create((e=>({root:{borderColor:e.colors.nestedBorderColor,borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.xLarge,overflow:"hidden"},rootMargin:{marginLeft:e.spaces.space16,marginRight:e.spaces.space16}}))),C=p.a.create((e=>({rootPadding:{padding:e.spaces.space32},body:{marginTop:e.spaces.space8},actionContainer:{flexDirection:"row"},primaryAction:{marginTop:e.spaces.space28},secondaryAction:{marginTop:e.spaces.space16}}))),f=p.a.create((e=>({rootPadding:{padding:e.spaces.space16},body:{marginTop:e.spaces.space2},actionContainer:{flexDirection:"row"},primaryAction:{marginTop:e.spaces.space4},secondaryAction:{marginTop:e.spaces.space2}})))},RoyM:function(e,t,a){"use strict";var n=a("ERkP"),o=a.n(n),r=a("IG7M"),i=a("rHpw"),s=(a("kYxP"),a("zb92"));var c=Object(s.a)({loader:()=>a.e(0).then(a.bind(null,"ACNv"))}),l=a("Irs7"),p=a("4bW+");const d=i.a.create((e=>({curationControl:{marginStart:e.spaces.space20}})));t.a=Object(l.a)((e=>{const{analytics:t,feedbackItems:a,isDisplayedOnMedia:n}=e;if(a&&a.length>0){const e=e=>o.a.createElement(c,{actionItems:a,onClose:e}),i=()=>t.scribe({element:"caret",action:"click"});return o.a.createElement(r.a,{onClick:i,renderActionMenu:e,style:d.curationControl,testID:p.a.caret,withDarkBackground:n})}return null}))},YIsX:function(e,t,a){"use strict";a.r(t);var n=a("ezF+"),o=a("ERkP"),r=a.n(o),i=a("EycW"),s=a("qqsb"),c=a.n(s),l=a("Irs7"),p=a("RoyM"),d=a("rxPX"),m=a("G6rE");const u=(e,t)=>m.e.selectLoggedInUser(e);var g=Object(d.a)().propsFromState((()=>({loggedInUser:u})));const y=c.a.a682906d;var b=g((({entry:e,feedbackItems:t,loggedInUser:a})=>{var n,o;const s=Object(l.b)(),c=e.content.onboardingLikesStartPrompt||void 0,d=(null==a?void 0:a.favourites_count)||0,m=(null==c?void 0:c.likesNeededToCompleteOnboarding)||0,u=Math.max(0,m-d),g=r.a.useMemo((()=>null!=t&&t.length?r.a.createElement(p.a,{feedbackItems:t}):void 0),[t]);return r.a.useEffect((()=>{s.scribeAction("impression")}),[]),r.a.createElement(i.a,{bodyText:null==c||null==(n=c.bodyRichText)?void 0:n.text,currentLikeCount:d,headerIconUrl:null==c?void 0:c.headerIconUrl,headerText:null==c||null==(o=c.headerRichText)?void 0:o.text,likeContext:y({count:u}),rightControl:g,totalLikeCount:m})}));const h=n.b({component:b}).getHandler();t.default=h},pbku:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=Object.freeze({ON_BLOCK_AUTHOR:"onBlockAuthor",ON_LINGER:"onLinger",ON_IS_RELEVANT:"onIsRelevant",ON_SHOW_MORE:"onShowMore",ON_LIKE:"onLike",ON_FOLLOW:"onFollow"})}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.promptHandler.1327cc28.js.map