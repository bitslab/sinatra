(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"+/OB":function(t,e,i){var n=i("ax0f"),a=i("9JhN"),r=i("cLeC"),o=a.Date,s=r(o.prototype.getTime);n({target:"Date",stat:!0},{now:function(){return s(new o)}})},"+oxZ":function(t,e,i){var n=i("9JhN"),a=i("Ew2P"),r=i("leTM"),o=i("6OVi"),s=i("WxKw"),c=function(t){if(t&&t.forEach!==o)try{s(t,"forEach",o)}catch(e){t.forEach=o}};for(var u in a)a[u]&&c(n[u]&&n[u].prototype);c(r)},"1Pcy":function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},"1t7P":function(t,e,i){"use strict";var n=i("ax0f"),a=i("9JhN"),r=i("VCi3"),o=i("1U8s"),s=i("tUYG"),c=i("cLeC"),u=i("DpO5"),l=i("1Mu/"),d=i("56Cj"),h=i("ct80"),p=i("eiXn"),f=i("xt6W"),v=i("POgt"),y=i("dSaG"),m=i("+5th"),_=i("z9Ev"),g=i("FXyv"),b=i("N9G2"),T=i("N4z3"),E=i("/soe"),P=i("Kj6D"),w=i("lhjL"),M=i("guiJ"),S=i("DEeE"),k=i("ZdBB"),I=i("7lg/"),A=i("JAL5"),C=i("GFpt"),L=i("q9+l"),V=i("uZvN"),N=i("4Sk5"),O=i("3gKR"),x=i("uLp7"),F=i("TN3B"),D=i("MyxS"),W=i("1odi"),R=i("HYrn"),B=i("fVMg"),H=i("TkGI"),U=i("aokA"),j=i("+kY7"),G=i("zc29"),K=i("0FSu").forEach,Y=D("hidden"),J="Symbol",X=B("toPrimitive"),z=G.set,q=G.getterFor(J),Q=Object.prototype,Z=a.Symbol,$=Z&&Z.prototype,tt=a.TypeError,et=a.QObject,it=r("JSON","stringify"),nt=C.f,at=L.f,rt=I.f,ot=N.f,st=c([].push),ct=F("symbols"),ut=F("op-symbols"),lt=F("string-to-symbol-registry"),dt=F("symbol-to-string-registry"),ht=F("wks"),pt=!et||!et.prototype||!et.prototype.findChild,ft=l&&h((function(){return 7!=M(at({},"a",{get:function(){return at(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=nt(Q,e);n&&delete Q[e],at(t,e,i),n&&t!==Q&&at(Q,e,n)}:at,vt=function(t,e){var i=ct[t]=M($);return z(i,{type:J,tag:t,description:e}),l||(i.description=e),i},yt=function(t,e,i){t===Q&&yt(ut,e,i),g(t);var n=E(e);return g(i),p(ct,n)?(i.enumerable?(p(t,Y)&&t[Y][n]&&(t[Y][n]=!1),i=M(i,{enumerable:w(0,!1)})):(p(t,Y)||at(t,Y,w(1,{})),t[Y][n]=!0),ft(t,n,i)):at(t,n,i)},mt=function(t,e){g(t);var i=T(e),n=S(i).concat(Tt(i));return K(n,(function(e){l&&!s(_t,i,e)||yt(t,e,i[e])})),t},_t=function(t){var e=E(t),i=s(ot,this,e);return!(this===Q&&p(ct,e)&&!p(ut,e))&&(!(i||!p(this,e)||!p(ct,e)||p(this,Y)&&this[Y][e])||i)},gt=function(t,e){var i=T(t),n=E(e);if(i!==Q||!p(ct,n)||p(ut,n)){var a=nt(i,n);return!a||!p(ct,n)||p(i,Y)&&i[Y][n]||(a.enumerable=!0),a}},bt=function(t){var e=rt(T(t)),i=[];return K(e,(function(t){p(ct,t)||p(W,t)||st(i,t)})),i},Tt=function(t){var e=t===Q,i=rt(e?ut:T(t)),n=[];return K(i,(function(t){!p(ct,t)||e&&!p(Q,t)||st(n,ct[t])})),n};(d||(x($=(Z=function(){if(m($,this))throw tt("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?P(arguments[0]):void 0,e=R(t),i=function(t){this===Q&&s(i,ut,t),p(this,Y)&&p(this[Y],e)&&(this[Y][e]=!1),ft(this,e,w(1,t))};return l&&pt&&ft(Q,e,{configurable:!0,set:i}),vt(e,t)}).prototype,"toString",(function(){return q(this).tag})),x(Z,"withoutSetter",(function(t){return vt(R(t),t)})),N.f=_t,L.f=yt,V.f=mt,C.f=gt,k.f=I.f=bt,A.f=Tt,H.f=function(t){return vt(B(t),t)},l&&(at($,"description",{configurable:!0,get:function(){return q(this).description}}),u||x(Q,"propertyIsEnumerable",_t,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:Z}),K(S(ht),(function(t){U(t)})),n({target:J,stat:!0,forced:!d},{for:function(t){var e=P(t);if(p(lt,e))return lt[e];var i=Z(e);return lt[e]=i,dt[i]=e,i},keyFor:function(t){if(!_(t))throw tt(t+" is not a symbol");if(p(dt,t))return dt[t]},useSetter:function(){pt=!0},useSimple:function(){pt=!1}}),n({target:"Object",stat:!0,forced:!d,sham:!l},{create:function(t,e){return void 0===e?M(t):mt(M(t),e)},defineProperty:yt,defineProperties:mt,getOwnPropertyDescriptor:gt}),n({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:bt,getOwnPropertySymbols:Tt}),n({target:"Object",stat:!0,forced:h((function(){A.f(1)}))},{getOwnPropertySymbols:function(t){return A.f(b(t))}}),it)&&n({target:"JSON",stat:!0,forced:!d||h((function(){var t=Z();return"[null]"!=it([t])||"{}"!=it({a:t})||"{}"!=it(Object(t))}))},{stringify:function(t,e,i){var n=O(arguments),a=e;if((y(e)||void 0!==t)&&!_(t))return f(e)||(e=function(t,e){if(v(a)&&(e=s(a,this,t,e)),!_(e))return e}),n[1]=e,o(it,null,n)}});if(!$[X]){var Et=$.valueOf;x($,X,(function(t){return s(Et,this)}))}j(Z,J),W[Y]=!0},"3vqb":function(t,e){t.exports="object"==typeof window},"4D4F":function(t,e,i){var n=i("ZORK");t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},5878:function(t,e,i){var n=i("ax0f"),a=i("zh11");n({target:"Function",proto:!0,forced:Function.bind!==a},{bind:a})},"5Rxz":function(t,e){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=i},"695J":function(t,e){function i(e,n){return t.exports=i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,i(e,n)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},"6OVi":function(t,e,i){"use strict";var n=i("0FSu").forEach,a=i("f4p7")("forEach");t.exports=a?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"7lg/":function(t,e,i){var n=i("amH4"),a=i("N4z3"),r=i("ZdBB").f,o=i("0bJh"),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"==n(t)?function(t){try{return r(t)}catch(t){return o(s)}}(t):r(a(t))}},HS6i:function(t,e,i){var n=i("ZORK");t.exports=/web0s(?!.*chrome)/i.test(n)},JDXi:function(t,e,i){var n,a,r,o,s=i("9JhN"),c=i("1U8s"),u=i("IRf+"),l=i("POgt"),d=i("eiXn"),h=i("ct80"),p=i("kySU"),f=i("3gKR"),v=i("8r/q"),y=i("rl0V"),m=i("4D4F"),_=i("8Rd0"),g=s.setImmediate,b=s.clearImmediate,T=s.process,E=s.Dispatch,P=s.Function,w=s.MessageChannel,M=s.String,S=0,k={},I="onreadystatechange";try{n=s.location}catch(t){}var A=function(t){if(d(k,t)){var e=k[t];delete k[t],e()}},C=function(t){return function(){A(t)}},L=function(t){A(t.data)},V=function(t){s.postMessage(M(t),n.protocol+"//"+n.host)};g&&b||(g=function(t){y(arguments.length,1);var e=l(t)?t:P(t),i=f(arguments,1);return k[++S]=function(){c(e,void 0,i)},a(S),S},b=function(t){delete k[t]},_?a=function(t){T.nextTick(C(t))}:E&&E.now?a=function(t){E.now(C(t))}:w&&!m?(o=(r=new w).port2,r.port1.onmessage=L,a=u(o.postMessage,o)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!h(V)?(a=V,s.addEventListener("message",L,!1)):a=I in v("script")?function(t){p.appendChild(v("script")).onreadystatechange=function(){p.removeChild(this),A(t)}}:function(t){setTimeout(C(t),0)}),t.exports={set:g,clear:b}},JtPf:function(t,e,i){"use strict";var n,a,r,o,s=i("ax0f"),c=i("DpO5"),u=i("9JhN"),l=i("VCi3"),d=i("tUYG"),h=i("KQNt"),p=i("uLp7"),f=i("sgPY"),v=i("waID"),y=i("+kY7"),m=i("Ch6y"),_=i("Y9MM"),g=i("POgt"),b=i("dSaG"),T=i("TM4o"),E=i("32/0"),P=i("tXjT"),w=i("MhFt"),M=i("Qzre"),S=i("JDXi").set,k=i("hXPa"),I=i("nDYR"),A=i("Qi22"),C=i("iByj"),L=i("QroT"),V=i("5Rxz"),N=i("zc29"),O=i("66wQ"),x=i("fVMg"),F=i("3vqb"),D=i("8Rd0"),W=i("T+0C"),R=x("species"),B="Promise",H=N.getterFor(B),U=N.set,j=N.getterFor(B),G=h&&h.prototype,K=h,Y=G,J=u.TypeError,X=u.document,z=u.process,q=C.f,Q=q,Z=!!(X&&X.createEvent&&u.dispatchEvent),$=g(u.PromiseRejectionEvent),tt="unhandledrejection",et=!1,it=O(B,(function(){var t=E(K),e=t!==String(K);if(!e&&66===W)return!0;if(c&&!Y.finally)return!0;if(W>=51&&/native code/.test(t))return!1;var i=new K((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(i.constructor={})[R]=n,!(et=i.then((function(){}))instanceof n)||!e&&F&&!$})),nt=it||!w((function(t){K.all(t).catch((function(){}))})),at=function(t){var e;return!(!b(t)||!g(e=t.then))&&e},rt=function(t,e){var i,n,a,r=e.value,o=1==e.state,s=o?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{s?(o||(2===e.rejection&&lt(e),e.rejection=1),!0===s?i=r:(l&&l.enter(),i=s(r),l&&(l.exit(),a=!0)),i===t.promise?u(J("Promise-chain cycle")):(n=at(i))?d(n,i,c,u):c(i)):u(r)}catch(t){l&&!a&&l.exit(),u(t)}},ot=function(t,e){t.notified||(t.notified=!0,k((function(){for(var i,n=t.reactions;i=n.get();)rt(i,t);t.notified=!1,e&&!t.rejection&&ct(t)})))},st=function(t,e,i){var n,a;Z?((n=X.createEvent("Event")).promise=e,n.reason=i,n.initEvent(t,!1,!0),u.dispatchEvent(n)):n={promise:e,reason:i},!$&&(a=u["on"+t])?a(n):t===tt&&A("Unhandled promise rejection",i)},ct=function(t){d(S,u,(function(){var e,i=t.facade,n=t.value;if(ut(t)&&(e=L((function(){D?z.emit("unhandledRejection",n,i):st(tt,i,n)})),t.rejection=D||ut(t)?2:1,e.error))throw e.value}))},ut=function(t){return 1!==t.rejection&&!t.parent},lt=function(t){d(S,u,(function(){var e=t.facade;D?z.emit("rejectionHandled",e):st("rejectionhandled",e,t.value)}))},dt=function(t,e,i){return function(n){t(e,n,i)}},ht=function(t,e,i){t.done||(t.done=!0,i&&(t=i),t.value=e,t.state=2,ot(t,!0))},pt=function(t,e,i){if(!t.done){t.done=!0,i&&(t=i);try{if(t.facade===e)throw J("Promise can't be resolved itself");var n=at(e);n?k((function(){var i={done:!1};try{d(n,e,dt(pt,i,t),dt(ht,i,t))}catch(e){ht(i,e,t)}})):(t.value=e,t.state=1,ot(t,!1))}catch(e){ht({done:!1},e,t)}}};if(it&&(Y=(K=function(t){T(this,Y),_(t),d(n,this);var e=H(this);try{t(dt(pt,e),dt(ht,e))}catch(t){ht(e,t)}}).prototype,(n=function(t){U(this,{type:B,done:!1,notified:!1,parent:!1,reactions:new V,rejection:!1,state:0,value:void 0})}).prototype=f(Y,{then:function(t,e){var i=j(this),n=q(M(this,K));return i.parent=!0,n.ok=!g(t)||t,n.fail=g(e)&&e,n.domain=D?z.domain:void 0,0==i.state?i.reactions.add(n):k((function(){rt(n,i)})),n.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new n,e=H(t);this.promise=t,this.resolve=dt(pt,e),this.reject=dt(ht,e)},C.f=q=function(t){return t===K||t===r?new a(t):Q(t)},!c&&g(h)&&G!==Object.prototype)){o=G.then,et||(p(G,"then",(function(t,e){var i=this;return new K((function(t,e){d(o,i,t,e)})).then(t,e)}),{unsafe:!0}),p(G,"catch",Y.catch,{unsafe:!0}));try{delete G.constructor}catch(t){}v&&v(G,Y)}s({global:!0,wrap:!0,forced:it},{Promise:K}),y(K,B,!1,!0),m(B),r=l(B),s({target:B,stat:!0,forced:it},{reject:function(t){var e=q(this);return d(e.reject,void 0,t),e.promise}}),s({target:B,stat:!0,forced:c||it},{resolve:function(t){return I(c&&this===r?K:this,t)}}),s({target:B,stat:!0,forced:nt},{all:function(t){var e=this,i=q(e),n=i.resolve,a=i.reject,r=L((function(){var i=_(e.resolve),r=[],o=0,s=1;P(t,(function(t){var c=o++,u=!1;s++,d(i,e,t).then((function(t){u||(u=!0,r[c]=t,--s||n(r))}),a)})),--s||n(r)}));return r.error&&a(r.value),i.promise},race:function(t){var e=this,i=q(e),n=i.reject,a=L((function(){var a=_(e.resolve);P(t,(function(t){d(a,e,t).then(i.resolve,n)}))}));return a.error&&n(a.value),i.promise}})},PjZX:function(t,e,i){var n=i("9JhN");t.exports=n},Qi22:function(t,e,i){var n=i("9JhN");t.exports=function(t,e){var i=n.console;i&&i.error&&(1==arguments.length?i.error(t):i.error(t,e))}},QroT:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},TkGI:function(t,e,i){var n=i("fVMg");e.f=n},VjfS:function(t,e,i){var n=i("ZORK"),a=i("9JhN");t.exports=/ipad|iphone|ipod/i.test(n)&&void 0!==a.Pebble},"W/Kd":function(t,e,i){var n=i("695J");t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},XmKV:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return o}));var n=i("HT/6"),a=(t,e)=>{if(0===t.length)return;let i=t[0],n=e(i);for(let a=1;a<t.length;a++){const r=t[a],o=e(r);o<n&&(i=r,n=o)}return i};const r=t=>{var e,i;const n=null==t||null==(e=t[0])||null==(i=e.placement)?void 0:i.scrollY();return a(t,0===n?t=>t.placement?t.placement.distanceToTop():Number.MAX_VALUE:t=>t.placement?t.placement.distanceToCenter():Number.MAX_VALUE)},o=t=>{const e=t.filter((t=>t.playbackPriority===n.a.DOCKABLE));return e.length?e[0]:r(t)}},aLgo:function(t,e,i){i("aokA")("iterator")},aokA:function(t,e,i){var n=i("PjZX"),a=i("eiXn"),r=i("TkGI"),o=i("q9+l").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});a(e,t)||o(e,t,{value:r.f(t)})}},cARO:function(t,e,i){var n=i("cLeC"),a=i("uLp7"),r=Date.prototype,o="Invalid Date",s="toString",c=n(r.toString),u=n(r.getTime);String(new Date(NaN))!=o&&a(r,s,(function(){var t=u(this);return t==t?c(this):o}))},gOg7:function(t,e,i){"use strict";i("1t7P"),i("jQ/y"),i("aLgo"),i("hBpG"),i("jwue"),i("hCOa"),i("vrRf"),i("plBw"),i("lTEL"),i("z84I"),i("KOtZ"),i("M+/F"),i("+/OB"),i("cARO"),i("5878"),i("ho0z"),i("6U7i"),i("ssvU"),i("kH1Z"),i("IAdD"),i("+KXO"),i("7x/C"),i("JtPf"),i("KqXw"),i("DZ+c"),i("87if"),i("+oxZ"),i("kYxP"),i("sVFb");var n,a,r,o,s=i("1Pcy"),c=i.n(s),u=i("W/Kd"),l=i.n(u),d=i("KEM+"),h=i.n(d),p=i("r2q8"),f=i.n(p);function v(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return y(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=t[Symbol.iterator]()).next.bind(i)}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var m="AD_SKIP_EVENT",_="CAPTIONS_TOGGLED_EVENT",g="CONFIG_LOADED_EVENT",b="CTA_CLICK_EVENT",T="CTA_IMPRESSION_EVENT",E="ERROR_EVENT",P="FULL_SCREEN_EVENT",w="GROUPM_VIEW_EVENT",M="HEARTBEAT_EVENT",S="HEARTBEAT_START_EVENT",k="INITIAL_CTA_IMPRESSION_EVENT",I="INITIAL_INTEND_TO_PLAY_EVENT",A="INTEND_TO_PLAY_EVENT",C="LOOP_EVENT",L="MANUAL_QUALITY_LEVEL_CHANGE_EVENT",V="MRC_AUDIBLE_VIEW_EVENT",N="MRC_VIEW_EVENT",O="MUTE_EVENT",x="ONE_SEC_VIEW_EVENT",F="SIX_SEC_VIEW_EVENT",D="SHORT_FORM_COMPLETE_EVENT",W="PAUSE_EVENT",R="PLAY_EVENT",B="PLAY_FROM_TAP_EVENT",H="PLAYBACK_25_EVENT",U="PLAYBACK_50_EVENT",j="PLAYBACK_75_EVENT",G="PLAYBACK_95_EVENT",K="PLAYBACK_COMPLETE_EVENT",Y="PLAYBACK_ERROR_EVENT",J="PLAYBACK_LAPSE_EVENT",X="PLAYBACK_SPEED_CHANGE_EVENT",z="PLAYBACK_START_EVENT",q="REPLAY_EVENT",Q="REWIND_EVENT",Z="SHRINK_EVENT",$="STARTUP_ERROR_EVENT",tt="TEARDOWN_EVENT",et="TICK_EVENT",it="TRACK_FINISHED_EVENT",nt="UNMUTE_EVENT",at="VIDEO_SESSION_EVENT",rt="VIDEO_QUALITY_VIEW_EVENT",ot="VIDEO_VIEW_EVENT",st="VIEW_THRESHOLD_EVENT",ct="ad",ut="content",lt="broadcast",dt="gif",ht="live",pt="media_entity",ft="partner_video",vt="periscope",yt="vine",mt="vmap",_t=((n={})[yt]=2,n[dt]=3,n[mt]=1,n[pt]=1,n[ht]=1,n[vt]=5,n[lt]=1,n),gt={event:"url",go_to:"url",image:"url",url:"url",shop:"url",see_more:"url",visit:"url",visit_site:"url",watch:"url",watch_now:"watch"},bt=1,Tt=2,Et=3,Pt=4,wt=5,Mt=6,St=7,kt=8;function It(t){return Ct(t,t.source.trackId)}function At(t){return Ct(t,t.currentTrackId)}function Ct(t,e){return t.tracks.find((function(t){return e===t.id}))}function Lt(t){return t.tracks.find((function(t){return ct===t.displayType}))}function Vt(t){return Boolean(t)&&t.isPlaying&&!t.isSeeking&&!t.isMuted}function Nt(t){var e;switch(t){case.25:e=wt;break;case.5:e=bt;break;case.75:e=Mt;break;case 1.25:e=St;break;case 1.5:e=Et;break;case 1.75:e=kt;break;case 2:e=Pt;break;default:e=Tt}return e}var Ot=((a={})[ot]="creativeView",a[H]="firstQuartile",a[U]="midpoint",a[j]="thirdQuartile",a[K]="complete",a[R]="resume",a[W]="pause",a[Q]="rewind",a[E]="adError",a),xt=function(){function t(t){var e=this;Object.keys(Ot).forEach((function(i){t.on(i,(function(t){e.fireBeacon(Ot[i],t)}))})),t.on(z,this.onPlaybackStart.bind(this))}var e=t.prototype;return e.onPlaybackStart=function(t){this.fireBeacon("start",t),this.fireBeacon("adImpression",t)},e.fireBeacon=function(t,e){var i=At(e);if(void 0!==i&&void 0!==i.beacons&&void 0!==i.beacons[t])for(var n,a=v(i.beacons[t]);!(n=a()).done;){var r=n.value;(new window.Image).src=r}},t}(),Ft=function(){function t(t){this.analytics=t,this.analytics.on(et,this.onTickEvent.bind(this))}return t.prototype.onTickEvent=function(t){var e=t.areCaptionsShown,i=this.currentCaptionsState;i!==e&&((!1===i&&!0===e||!0===i&&!1===e)&&this.analytics.emit(_,t,e),this.currentCaptionsState=e)},t}(),Dt=function(){function t(t){this.analytics=t,this.hasFiredOnTrackMap={},this.analytics.on(T,this.onCtaImpressionEvent.bind(this))}return t.prototype.onCtaImpressionEvent=function(t){var e=t.currentTrackId;this.hasFiredOnTrackMap[e]||(this.hasFiredOnTrackMap[e]=!0,this.analytics.emit(k,t))},t}(),Wt=function(){function t(t){this.analytics=t,this.hasStarted=!1,this.hasFired=!1,this.analytics.on(z,this.onPlaybackStartEvent.bind(this)),this.analytics.on(A,this.onShowEvent.bind(this)),this.analytics.on(E,this.onErrorEvent.bind(this))}var e=t.prototype;return e.onPlaybackStartEvent=function(){this.hasStarted=!0},e.onShowEvent=function(){this.intentToPlayTime=new Date},e.onErrorEvent=function(t,e){var i=this.constructClientMediaEventError(t,e);if(!this.hasStarted&&!this.hasFired){var n,a=void 0!==this.intentToPlayTime?new Date-this.intentToPlayTime:void 0;i&&(n={latency_millis:a,error:i}),this.analytics.emit($,t,Object.assign({latency:a},e),n),this.hasFired=!0}this.analytics.emit(Y,t,e,i)},e.constructClientMediaEventError=function(t,e){var i=e&&e.media_details&&e.media_details.media_error||{};return{is_fatal:i.is_fatal,category:i.category,message:i.message,retry_count:i.retry_count}},t}(),Rt=function(){function t(t){this.bufferingCount=0,this.bufferingDurationMs=0,this.bufferingBeginTimeMs=void 0,t.on(et,this.onTickEvent.bind(this)),t.on(S,this.onHeartbeatStart.bind(this)),t.on(M,this.onHeartbeat.bind(this))}var e=t.prototype;return e.onHeartbeat=function(t){this.reset(t)},e.onHeartbeatStart=function(t){this.reset(t)},e.onTickEvent=function(t){var e=At(t);void 0!==e&&(e.isBuffering&&null==this.bufferingBeginTimeMs?(this.bufferingBeginTimeMs=Date.now(),this.bufferingCount++):e.isBuffering||null==this.bufferingBeginTimeMs||(this.bufferingDurationMs+=Date.now()-this.bufferingBeginTimeMs,this.bufferingBeginTimeMs=void 0))},e.getBufferTime=function(t){var e=At(t);if(void 0!==e){var i=this.bufferingDurationMs;return e.isBuffering&&null!=this.bufferingBeginTimeMs&&(i+=Date.now()-this.bufferingBeginTimeMs),i}},e.reset=function(t){var e=At(t);void 0!==e&&(this.bufferingBeginTimeMs=e.isBuffering?Date.now():void 0,this.bufferingCount=e.isBuffering?1:0,this.bufferingDurationMs=0)},t}();function Bt(t){return"number"!=typeof t||Number.isNaN(t)||t===1/0||t===-1/0?"string"==typeof t?t:void 0:t.toString()}var Ht=function(){function t(t){this.analytics=t,this.bufferingDurationListener=new Rt(t),this.lastKnownDataUsageBytes=0,this.audibleDuration=0,this.bitrateHistory=[],this.latencyHistory=[],this.previousTickTimestamp,this.analytics.on(et,this.onTickEvent.bind(this)),this.analytics.on(R,this.onPlayEvent.bind(this)),this.analytics.on(z,this.onPlaybackStartEvent.bind(this)),this.analytics.on(it,this.onTrackFinishedEvent.bind(this)),this.analytics.on(E,this.onErrorEvent.bind(this)),this.analytics.on(W,this.onPauseEvent.bind(this)),this.analytics.on(tt,this.onTeardownEvent.bind(this)),this.analytics.on(C,this.onLoopEvent.bind(this)),this.analytics.on(m,this.onAdSkip.bind(this))}var e=t.prototype;return e.onTickEvent=function(t){var e=At(t);if(void 0!==e){if(this.updateTimesOnTick(e,t),this.updatePerfMetrics(e),t.isSeeking?this.stopPolling():t.isPlaying&&this.startPolling(t),void 0!==this.lastKnownPlayerState){var i=this.lastKnownPlayerState.percentVisible,n=t.percentVisible;(i>0&&0===n||0===i&&n>0)&&(this.stopPolling(),this.startPolling(t))}this.lastKnownPlayerState=t,this.previousTickTimestamp=Date.now()}},e.onPlayEvent=function(t){this.hasPlaybackStarted&&this.startPolling(t),this.lastKnownPlayerState=t},e.onPlaybackStartEvent=function(t){this.startPolling(t),this.lastKnownPlayerState=t,this.hasPlaybackStarted=!0},e.onTrackFinishedEvent=function(t){this.hasPlaybackStarted=!1,void 0!==At(t)&&(this.stopPolling(),this.lastKnownPlayerState=t)},e.onErrorEvent=function(t,e){e&&e.media_details&&e.media_details.media_error&&e.media_details.media_error.is_fatal&&(this.stopPolling(),this.lastKnownPlayerState=t)},e.onPauseEvent=function(t,e){this.stopPolling(),this.lastKnownPlayerState=t},e.onTeardownEvent=function(t,e){this.stopPolling(!0),this.lastKnownPlayerState=t},e.onLoopEvent=function(t){this.startPolling(t)},e.onAdSkip=function(){this.stopPolling()},e.updateTimesOnTick=function(t,e){var i;void 0!==(i=t.contentType===lt||t.contentType===ht||t.contentType===vt?t.absoluteTimeMs:t.currentTimeMs)&&(Vt(e)&&void 0!==this.lastTimeMs&&(this.audibleDuration+=i-this.lastTimeMs),this.lastTimeMs=i,void 0===this.startTimeMs&&(this.startTimeMs=i))},e.startPolling=function(t){var e=It(t);void 0===this.intervalId&&void 0!==e&&e.contentType!==yt&&(this.analytics.emit(S,t),this.onHeartbeatStart(t))},e.stopPolling=function(t){(this.intervalId||t)&&(this.onHeartbeat(),this.lastTimeMs=void 0,this.startTimeMs=void 0),void 0!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0)},e.onHeartbeatStart=function(t){this.intervalId=setInterval(this.onHeartbeat.bind(this),t.heartbeatIntervalMs||5e3),this.lastTimeMs=void 0,this.startTimeMs=void 0,this.bitrateHistory=[],this.latencyHistory=[]},e.updatePerfMetrics=function(t){if(this.previousTickTimestamp){var e=Date.now()-this.previousTickTimestamp;t.currentBitrate&&this.bitrateHistory.push({value:t.currentBitrate,weight:e}),t.liveLatencyMs&&this.latencyHistory.push({value:t.liveLatencyMs,weight:e})}},e.onHeartbeat=function(){var t=this.lastKnownPlayerState;if(t){var e=At(t),i=this.getProgramDateTimeMs();if(void 0!==i&&void 0!==e){var n=e.currentBitrate?{sampled_bitrate:e.currentBitrate}:{},a=0;t.dataUsageBytes&&(a=t.dataUsageBytes-this.lastKnownDataUsageBytes,this.lastKnownDataUsageBytes=t.dataUsageBytes);var r,o,s={data_usage_bytes:a},c=this.bufferingDurationListener.bufferingCount,u=this.bufferingDurationListener.getBufferTime(t),l=Math.floor(100*t.percentVisible),d=Object.assign({buffering_duration_millis:u,video_visibility:l},{start_program_date_time_millis:i.start_program_date_time_millis,end_program_date_time_millis:i.end_program_date_time_millis},n,s),h={buffering_duration_millis:Bt(u),buffering_count:c,percent_in_view:l,sampled_bits_per_second:e.currentBitrate,data_usage_bytes:Bt(s.data_usage_bytes),start_program_date_time_millis:Bt(i.start_program_date_time_millis),end_program_date_time_millis:Bt(i.end_program_date_time_millis),audible_duration_millis:Bt(i.audible_duration_millis),bandwidth_estimate_bps:Bt(t.bandwidthEstimateBps),bitrate_metrics:(r=this.bitrateHistory,o=jt(r),o&&{min_bps:Math.round(o.min),max_bps:Math.round(o.max),avg_bps:Math.round(o.avg)}),live_or_non_live_heartbeat_metrics:Ut(e.isLive,this.latencyHistory)};this.analytics.emit(M,t,d,h)}}},e.getProgramDateTimeMs=function(){if(void 0!==this.startTimeMs&&void 0!==this.lastTimeMs){var t=this.startTimeMs,e=this.lastTimeMs,i=this.audibleDuration;return this.startTimeMs=this.lastTimeMs,this.audibleDuration=0,{start_program_date_time_millis:Math.round(t),end_program_date_time_millis:Math.round(e),audible_duration_millis:Math.round(i)}}return{}},t}();function Ut(t,e){var i=jt(e);return t?{live_heartbeat_metrics:{latency_metrics:i&&{min_ms:Math.round(i.min),max_ms:Math.round(i.max),avg_ms:Math.round(i.avg)}}}:{non_live_heartbeat_metrics:{}}}function jt(t){if(t&&t.length){var e=function(t){if(!t||0===t.length)return[Math.min(),Math.max()];for(var e,i=1/0,n=-1/0,a=v(t);!(e=a()).done;){var r=e.value;i=Math.min(i,r),n=Math.max(n,r)}return[i,n]}(t.map((function(t){return t.value})));return{min:e[0],max:e[1],avg:function(t){var e=t.reduce((function(t,e){return t+e.weight}),0);return t.reduce((function(t,e){return t+e.value*e.weight}),0)/e}(t)}}}var Gt=function(){function t(t){this.analytics=t,this.hasFiredOnTrackMap={},this.analytics.on(A,this.onIntendToPlayEvent.bind(this)),this.analytics.on(q,this.onIntendToPlayEvent.bind(this)),this.analytics.on(it,this.onTrackFinishedEvent.bind(this))}var e=t.prototype;return e.onIntendToPlayEvent=function(t){this.hasFiredOnTrackMap[t.currentTrackId]||(this.hasFiredOnTrackMap[t.currentTrackId]=!0,this.analytics.emit(I,t))},e.onTrackFinishedEvent=function(t){var e=At(t);e&&(e.shouldLoop||(this.hasFiredOnTrackMap[t.currentTrackId]=!1))},t}(),Kt=function(){function t(t){this.analytics=t,this.analytics.on(it,this.onTrackFinishedEvent.bind(this))}return t.prototype.onTrackFinishedEvent=function(t){var e=At(t);void 0!==e&&e.shouldLoop&&this.analytics.emit(C,t)},t}(),Yt={home:"HomeTimeline",list:"Lists",live_broadcast:"BroadcastPage",live_event_timeline:"EventPage",me:"UserTimeline",moments:"Moments",permalink:"TweetCard",profile:"UserTimeline",search:"Search"},Jt=function(t){return"/api/v2/"+t};function Xt(t,e,i,n){return{start:{method:t,path:Jt(e)},ping:{method:t,path:Jt(i)},stop:{method:t,path:Jt(n)}}}var zt,qt={public:{live:Xt("GET","startPublic","pingPublic","stopPublic"),replay:Xt("GET","replayViewedPublic","pingReplayViewedPublic","endReplayViewedPublic")},auth:{live:Xt("POST","startWatching","pingWatching","stopWatching"),replay:Xt("POST","replayViewed","pingReplayViewed","endReplayViewed")}},Qt=function(){function t(t,e){if(this.httpClient=t,this.authToken=null==e?void 0:e.periscopeAuthToken,this.lifecycles=this.authToken?qt.auth:qt.public,(null==e?void 0:e.scribeContext)&&(null==e?void 0:e.periscopeComponent)){var i=e.scribeContext,n=e.periscopeComponent;this.pageContext=this.getPageContext(i),this.componentContext=n}}var e=t.prototype;return e.getPageContext=function(t){var e=t.page;return"permalink_overlay"===t.section?"TweetCard":Yt[e]||""},e.call=function(t,e){var i=Date.now(),n={"X-Idempotence":zt=i<=zt?zt+1:i,"X-Attempt":1,"X-Periscope-User-Agent":"Twitter/video-analytics","content-type":"application/json"},a=Object.assign({},e);this.authToken&&(a.cookie=this.authToken);var r=t.method,o=t.path,s={};return"POST"===r?s.data=a:s.params=a,this.httpClient.dispatch(Object.assign({headers:n,host:"https://proxsee.pscp.tv",method:r,path:o},s))},e.videoStartWatching=function(t,e,i){var n=this;return new Promise((function(a,r){("string"!=typeof t||t.length<1)&&r(new Error("Cannot videoStartWatching. lifecycleToken not valid, lifecycleToken="+t));var o=e?n.lifecycles.replay.start:n.lifecycles.live.start,s={life_cycle_token:t,auto_play:!!i};n.pageContext&&(s.page=n.pageContext),n.componentContext&&(s.component=n.componentContext),n.call(o,s).then((function(t){var i=JSON.parse(t.body);return e||i.session?a(i.session):r(new Error("["+o.path+"] did not return a session"))}),r)}))},e.videoPingWatching=function(t,e){var i=this;return new Promise((function(n,a){("string"!=typeof t||t.length<1)&&a(new Error("Cannot videoPingWatching. session not valid, session="+t));var r=e?i.lifecycles.replay.ping:i.lifecycles.live.ping;i.call(r,{session:t}).then((function(t){JSON.parse(t.body).success?n():a(new Error("Ping request failed"))}),a)}))},e.videoStopWatching=function(t,e){var i=this;return new Promise((function(n,a){("string"!=typeof t||t.length<1)&&a(new Error("Cannot videoStopWatching. session not valid, session="+t));var r=e?i.lifecycles.replay.stop:i.lifecycles.live.stop;i.call(r,{session:t}).then((function(t){JSON.parse(t.body).success?n():a(new Error("StopWatching request failed"))}),a)}))},t}(),Zt=3e3;var $t=function(){function t(t){this.api=t,this.handleStartWatching=this.handleStartWatching.bind(this),this.updateSession=this.updateSession.bind(this),this.startPingWatching=this.startPingWatching.bind(this),this.isVideoPreview=!1,this.isReplay=!0}var e=t.prototype;return e.updateSession=function(t){this.session=t,t&&this.startPingWatching()},e.setStartWatchingTimer=function(){this.startWatchingTimer=setTimeout(this.handleStartWatching,Zt)},e.clearStartWatchingTimer=function(){this.startWatchingTimer&&clearTimeout(this.startWatchingTimer)},e.handleStartWatching=function(){if(!this.isWatching){this.stopPingWatching();var t=this.api.videoStartWatching(this.lifecycleToken,this.isReplay,this.isVideoPreview).then(this.updateSession);return this.isWatching=!0,t}},e.startPingWatching=function(){var t=this;this.stopPingWatching(),this.pingWatchingTimer=setInterval((function(){t.isWatching?t.api.videoPingWatching(t.session,t.isReplay):t.stopPingWatching()}),3e4)},e.stopPingWatching=function(){clearInterval(this.pingWatchingTimer)},e.updateLifecycleToken=function(t){void 0!==t&&t!==this.lifecycleToken&&(this.lifecycleToken=t,this.isWatching&&(this.stopWatching(),this.handleStartWatching()))},e.updateIsReplay=function(t){void 0!==t&&t!==this.isReplay&&(this.isReplay=t)},e.startWatching=function(){return this.isVideoPreview=!1,this.handleStartWatching()},e.startWatchingPreview=function(){this.isVideoPreview=!0,this.clearStartWatchingTimer(),this.setStartWatchingTimer()},e.stopWatching=function(){this.isWatching&&(this.stopPingWatching(),this.session&&this.api.videoStopWatching(this.session,this.isReplay),this.isWatching=!1)},e.destroy=function(){this.stopWatching(),this.clearStartWatchingTimer(),this.isVideoPreview=void 0,this.lifecycleToken=void 0,this.session=void 0,this.isReplay=void 0,this.isWatching=void 0,this.pingWatchingTimer=void 0},t}(),te=[g,R,W,it,tt],ee=function(){function t(t,e){var i=this;this.analytics=t,this.lifecycleController=e,te.map((function(t){return i.analytics.on(t,i.possiblyHandleEvent.bind(i,t))}))}var e=t.prototype;return e.possiblyHandleEvent=function(t,e){if(this.shouldSendPeriscopeAnalytics(e)){var i=At(e);switch(t){case g:this.updateLifecycleToken(e),this.updateReplayState(!i.isLive);break;case R:this.handleStartWatching(e);break;case W:this.handleStopWatching(e);break;case it:this.handleStopWatching(e),this.updateReplayState(!0);break;case tt:this.teardownPeriscopeLifecycle()}}},e.shouldSendPeriscopeAnalytics=function(t){var e=At(t);return void 0!==e&&(e.contentType===vt||e.contentType===lt)},e.getLifecycleToken=function(t){return At(t).lifecycleToken},e.updateLifecycleToken=function(t){var e=this.getLifecycleToken(t);this.lifecycleController.updateLifecycleToken(e)},e.updateReplayState=function(t){this.lifecycleController.updateIsReplay(t)},e.handleStartWatching=function(t){this.getLifecycleToken(t)&&(t.isPreview?this.lifecycleController.startWatchingPreview():this.lifecycleController.startWatching())},e.handleStopWatching=function(t){this.getLifecycleToken(t)&&this.lifecycleController.stopWatching()},e.teardownPeriscopeLifecycle=function(){this.lifecycleController.destroy(),this.lifecycleController=null},t}(),ie=function(){function t(t){this.analytics=t,this.lapseMap={},this.analytics.on(et,this.onTickEvent.bind(this)),this.analytics.on(it,this.onTrackFinishedEvent.bind(this)),this.analytics.on(m,this.onAdSkipEvent.bind(this)),this.analytics.on(ot,this.onVideoViewEvent.bind(this))}var e=t.prototype;return e.onTrackFinishedEvent=function(t){var e=At(t);if(void 0!==e){var i=this.lapseMap[e.id];if(void 0!==i){i.timePlayedToMs=0;var n=It(t);n&&n.contentType!==dt&&!e.shouldLoop&&(this.emit(i,t),i.viewFired=!1)}}},e.onAdSkipEvent=function(t){this.onTickEvent(t);var e=At(t);if(void 0!==e){var i=this.lapseMap[e.id];this.emit(i,t)}},e.onVideoViewEvent=function(t){var e=At(t);if(void 0!==e){var i=this.lapseMap[e.id];void 0===i&&(i=this.initializeLapseMapForTrack(e),this.lapseMap[e.id]=i),i.viewFired=!0}},e.onTickEvent=function(t){var e=At(t);if(void 0!==e){var i=this.lapseMap[e.id];void 0===i&&(i=this.initializeLapseMapForTrack(e),this.lapseMap[e.id]=i),t.isSeeking?i.timePlayedToMs=e.currentTimeMs:(this.updateTimingData(e,i),this.checkPlaybackLapse(i,t))}},e.initializeLapseMapForTrack=function(t){return{timePlayedMs:0,timePlayedToMs:t.currentTimeMs,viewFired:!1}},e.updateTimingData=function(t,e){var i=t.currentTimeMs-e.timePlayedToMs;e.timePlayedToMs=t.currentTimeMs,e.timePlayedMs+=i},e.checkPlaybackLapse=function(t,e){t.timePlayedMs>1e4&&this.emit(t,e)},e.emit=function(t,e){var i=It(e),n=t.viewFired,a=t.timePlayedMs;n&&a>0&&i&&i.contentType!==ht&&(this.analytics.emit(J,e,{playback_lapse_ms:Math.round(a)}),t.timePlayedMs=0)},t}(),ne=function(t){return e="AD_CTA_TO_ENGAGEMENT_MAPPING_ERROR",(i=new Error("Unable to map CTA type to engagement type for: "+t)).name=e,i;var e,i},ae=function(){function t(){}return t.set=function(e){t.report=e},t}();h()(ae,"report",(function(t){}));var re=((r={})[z]="playback_start",r[H]="playback_25",r[U]="playback_50",r[j]="playback_75",r[G]="playback_95",r[K]="playback_complete",r[N]="mrc_view",r[w]="groupm_view",r[x]="1sec_view",r[F]="6sec_view",r[D]="short_form_complete",r[ot]="view",r[B]="play_from_tap",r[st]="view_threshold",r),oe=function(){function t(t,e){var i=this;this.promotedLogHandler=e,Object.keys(re).forEach((function(e){t.on(e,(function(t,n){var a=At(t);if(void 0!==a){var r=a.displayType===ct;i.log(i.buildEventName(e,a),t,n,{video_details:{is_preroll_video:r,video_type:_t[a.contentType]}})}}))})),t.on(z,this.logImpression.bind(this)),t.on(b,this.onCtaClickEvent.bind(this)),t.on(at,this.onVideoSessionEvent.bind(this))}var e=t.prototype;return e.buildEventName=function(t,e){var i=re[t];return"video_"+e.displayType+"_"+i},e.log=function(t,e,i,n){void 0===i&&(i={});var a=At(e),r=this.getPromotedEventData(e,a);if(void 0!==r.impression_id){var o=this.getAmplifyDetailsData(e,a,i),s=JSON.stringify({amplify_details:o}),c=n&&JSON.stringify(n),u=Object.assign(r,o,{event:t,card_event:s,engagement_metadata:c});this.promotedLogHandler.log(u)}},e.logImpression=function(t){var e=At(t);this.isPromotedTrack(t,e)&&this.log("impression",t)},e.onCtaClickEvent=function(t){var e=At(t),i=null==e?void 0:e.cta,n=gt[null==i?void 0:i.type];if(!n)return ae.report(ne(null==i?void 0:i.type));e.displayType===ct?this.log("video_"+e.displayType+"_cta_"+n+"_click",t):this.log("video_cta_"+n+"_click",t)},e.onVideoSessionEvent=function(t,e){void 0!==e&&this.log("video_session",t,{},e)},e.isPromotedTrack=function(t,e){return e&&e.impressionId&&e.disclosureType},e.getPromotedEventData=function(t,e){var i=e.disclosureType||t.disclosureType;return{impression_id:e.impressionId||t.impressionId,earned:"earned"===i}},e.getAmplifyDetailsData=function(t,e,i){var n=It(t),a=Lt(t)||{};return Object.assign({content_id:n.contentId,dynamic_preroll_type:a.dynamicPrerollType,preroll_uuid:a.contentId,preroll_owner_id:a.publisherId,video_owner_id:e.publisherId,video_uuid:e.contentId,video_type:e.displayType===ut?"video":"ad",video_is_muted:t.isMuted,video_visibility:Math.floor(100*t.percentVisible)},i)},t}(),se=function(){function t(t){this.analytics=t,this.analytics.on(et,this.onTickEvent.bind(this))}return t.prototype.onTickEvent=function(t){var e=At(t);void 0!==e&&(t.isSeeking&&void 0===this.seekingStartTime?this.seekingStartTime=e.currentTimeMs:t.isSeeking||void 0===this.seekingStartTime||(e.currentTimeMs<this.seekingStartTime&&this.analytics.emit(Q,t),this.seekingStartTime=void 0))},t}(),ce=((o={})[ot]="video_view",o[B]="play_from_tap",o[st]="view_threshold",o[V]="video_mrc_audible_view",o[N]="video_mrc_view",o[F]="video_6sec_view",o[D]="video_short_form_complete",o[z]="playback_start",o[H]="playback_25",o[U]="playback_50",o[j]="playback_75",o[G]="playback_95",o[K]="playback_complete",o[I]="intent_to_play",o[R]="play",o[W]="pause",o[q]="replay",o[C]="loop",o[O]="mute",o[nt]="unmute",o[P]="full_screen",o[Z]="shrink",o[J]="playback_lapse",o[Y]="error",o[$]="playback_startup_error",o[rt]="video_quality_view",o[m]="video_ad_skip",o),ue=["playback_lapse","video_1sec_view","shrink","full_screen"].reduce((function(t,e){return t[e]=!0,t}),{}),le="tweet",de="client_event",he="live_video_heartbeat_event",pe=7,fe=13,ve=16,ye=26,me=28,_e=1,ge=2,be=1,Te=2,Ee=["appplayer","poll2choice_video","poll3choice_video","poll4choice_video","promo_video_convo","promo_video_website","video_direct_message"],Pe=/^([0-9]{1,2})_([0-9]+)$/,we=function(){function t(t,e,i){var n=this;this.scribeHandler=e,this.context=i||{},this.isAdFormatsCard=-1!==Ee.indexOf(this.context.cardType),Object.keys(ce).forEach((function(e){t.on(e,(function(t,i,a){n.scribe(ce[e],t,i,a)}))})),t.on(b,this.onCtaClickEvent.bind(this)),t.on(k,this.onCtaImpressionEvent.bind(this)),t.on(M,this.onHeartbeatEvent.bind(this)),t.on(_,this.onCaptionsToggledEvent.bind(this)),t.on(L,this.onManualQualityLevelChangeEvent.bind(this)),t.on(X,this.onPlaybackSpeedChangeEvent.bind(this))}var e=t.prototype;return e.onCaptionsToggledEvent=function(t,e){var i=e?"enable":"disable",n={page:"settings",section:"captions",element:"display_audio_transcriptions",action:i};this.scribe(i,t,{},{},de,n)},e.onCtaClickEvent=function(t){var e=At(t).cta,i=gt[null==e?void 0:e.type];if(!i)return ae.report(ne(null==e?void 0:e.type));var n=null!=(null==e?void 0:e.click_tracking_embed_details)?{click_tracking_embed_details:null==e?void 0:e.click_tracking_embed_details}:{};this.scribe("cta_"+i+"_click",t,{},{},de,null,n)},e.onCtaImpressionEvent=function(t){var e=At(t).cta,i=gt[null==e?void 0:e.type];if(!i)return ae.report(ne(null==e?void 0:e.type));this.scribe("cta_"+i+"_impression",t)},e.onHeartbeatEvent=function(t,e,i){var n=It(t);if(void 0!==n){var a;switch(n.contentType){case ht:case lt:a=he;break;default:a=de}this.scribe("heartbeat",t,e,i,a)}},e.onManualQualityLevelChangeEvent=function(t,e){var i=e.oldLevel,n=e.newLevel;this.scribe("manual_quality_level_change",t,{},{oldLevel:i,newLevel:n})},e.onPlaybackSpeedChangeEvent=function(t,e){var i=e.newSpeed,n=e.oldSpeed,a={newSpeed:Nt(i),oldSpeed:Nt(n)};this.scribe("playback_speed_change",t,{},a)},e.scribe=function(t,e,i,n,a,r,o){void 0===i&&(i={}),void 0===n&&(n={}),void 0===a&&(a=de),void 0===r&&(r=null),void 0===o&&(o={});var s,c,u=It(e)||{},l=At(e)||{},d=Lt(e)||{},h=e.session||{},p=(e.features||{}).isLiveTimecodeEnabled&&l.requestedTimecode>0?1e3*l.requestedTimecode:void 0;this.isActionSupportedInClientMediaEvent(t)&&(s={media_client_event_type:(c={},c[t]=n,c),session_state:{session_id:h.id,content_video_identifier:Se(this.getContentIdentifier(u),this.context.scribeContext),video_ads_passthrough_data:e.videoAnalyticsScribePassthrough,live_event_identifier:this.getLiveEventIdentifier(e,u.contentType),tweet_id:this.getTweetId(e.source,u.contentType)},playing_media_state:{video_type:l.displayType===ut?ge:_e,media_asset_url:this.getVariantUrl(l),media_timecode_millis:Bt(p),media_metadata:{broadcast_id:l.broadcastId,twitter_publisher_id:Bt(l.publisherId),publisher_identifier:ke(l.publisherId,l.periscopePublisherId,this.context.scribeContext)},broadcast_media_state:Ie(l.contentType,l.isLive)},player_state:{is_muted:e.isMuted}});var f=Object.assign({},this.getBaseItem(e.source,e.eventId),{media_asset_url:this.getVariantUrl(l),video_uuid:l.contentId,video_owner_id:l.publisherId,video_type:l.displayType===ut?"video":"ad",promoted_id:l.impressionId||e.impressionId,content_id:u.contentId,dynamic_preroll_type:d.dynamicPrerollType,preroll_uuid:d.contentId,preroll_owner_id:d.publisherId,publisher_id:u.publisherId,media_session_id:h.id,video_analytics_scribe_passthrough:e.videoAnalyticsScribePassthrough,client_media_event:s,media_timecode_millis:p,disclosure_type:l.disclosureType||e.disclosureType},i,this.getLexMetadata(e,u)),v=r||{element:this.getScribeElement(u),action:t};this.scribeHandler.log({namespace:v,category:a,data:Object.assign({},o,{items:[f]})})},e.getContentIdentifier=function(t){var e=t.contentId,i=this.parseMediaKeyString(e);if(i)return{media_platform_identifier:i};switch(t.contentType){case pt:case dt:case ht:case lt:return this.getMediaPlatformIdentifierUsingDefaultCategory(t);case mt:return this.isAdFormatsCard?{media_platform_identifier:{media_category:this.getMediaEntityCategoryUsingPlaybackUrl(t),media_id:e}}:{amplify_card_identifier:{vmap_url:t.vmapUrl,content_id:e}};case yt:case vt:case ft:default:return{unknown_identifier:{content_id:e}}}},e.parseMediaKeyString=function(t){var e=Pe.exec(t)||[],i=e[1],n=e[2],a=+i;if(a&&n)return{media_category:a,media_id:n}},e.getMediaPlatformIdentifierUsingDefaultCategory=function(t){var e=this.defaultMediaCategory(t);return e?{media_platform_identifier:{media_category:e,media_id:t.contentId}}:{unknown_identifier:{content_id:t.contentId}}},e.getMediaEntityCategoryUsingPlaybackUrl=function(t){var e=this.getVariantUrl(t);if(e){if(-1!==e.indexOf("amplify_video"))return fe;if(-1!==e.indexOf("ext_tw_video"))return pe}},e.defaultMediaCategory=function(t){switch(t.contentType){case dt:return ve;case ht:return ye;case lt:return me;case pt:return this.getMediaEntityCategoryUsingPlaybackUrl(t);default:return}},e.getLiveEventIdentifier=function(t,e){return t.eventId?{lex_event_identifier:{lex_event_id:t.eventId}}:e===ht?{legacy_live_event_identifier:{legacy_live_event_id:t.source.id}}:void 0},e.getTweetId=function(t,e){return e===lt||e===ht?t.tweetId:t.type===le?t.id:void 0},e.getScribeElement=function(t){switch(t.contentType){case yt:return"vine_player";case dt:return"gif_player";case mt:return"platform_amplify_card";case ht:case lt:return"live_video_player";case ft:return"partner_video_player";case vt:return"periscope_player";case pt:default:return"video_player"}},e.getBaseItem=function(t,e){var i=this.context.baseScribeItem;return i||(t.type===le?{id:t.id,item_type:"0"}:t.tweetId?{id:t.tweetId,item_type:"0"}:e?{id:e,item_type:"28"}:void 0)},e.getLexMetadata=function(t,e){var i=this.context.scribeContext||{},n={},a={};return e.broadcastId&&(n.is_replay_broadcast=!e.isLive,a.tweet_id=t.source.tweetId,"live_event_timeline"===i.page&&"tweet"!==i.component?n.host_broadcast_id=e.broadcastId:n.target_broadcast_id=e.broadcastId),t.eventId&&("live_event_timeline"===i.page&&"tweet"!==i.component?a.host_event_id=t.eventId:a.target_event_id=t.eventId),{live_broadcast_details:n,live_video_event_details:a}},e.getVariantUrl=function(t){var e=t.variants&&t.variants[t.currentVariantIndex];return e&&e.src},e.isActionSupportedInClientMediaEvent=function(t){return!ue[t]},t}();function Me(t){return t&&"messages"===t.page}function Se(t,e){return Me(e)?{scrubbed_identifier:{}}:t}function ke(t,e,i){return Me(i)?{scrubbed_publisher_identifier:{}}:t&&e?{twitter_periscope_publisher_identifier:{twitter_id:Bt(t),periscope_id:e}}:t?{twitter_publisher_identifier:{id:Bt(t)}}:e?{periscope_publisher_identifier:{id:e}}:{unknown_publisher_identifier:{}}}function Ie(t,e){if(t===lt||t===ht||t===vt)return{broadcast_state:e?be:Te}}var Ae=function(){function t(t){this.analytics=t,this.analytics.on(q,this.onReplayEvent.bind(this)),this.analytics.on(it,this.onTrackFinishedEvent.bind(this)),this.analytics.on(I,this.onInitialIntendToPlayEvent.bind(this))}var e=t.prototype;return e.onInitialIntendToPlayEvent=function(t){this.resetLatencyStartDate(t.intentToPlayTime)},e.onReplayEvent=function(){this.resetLatencyStartDate()},e.onTrackFinishedEvent=function(t){this.resetLatencyStartDate(),this.trackId!==t.currentTrackId&&(this.trackId=t.currentTrackId)},e.resetLatencyStartDate=function(t){this.latencyStartDate=t||new Date},e.getLatencyData=function(){if(void 0!==this.latencyStartDate)return{latency:new Date-this.latencyStartDate}},t}(),Ce=[{progress:.25,event:H},{progress:.5,event:U},{progress:.75,event:j},{progress:.95,event:G},{progress:1,event:K}],Le=function(){function t(t){this.analytics=t,this.eventMap={},this.playbackLatencyListener=new Ae(t),this.analytics.on(it,this.onTrackFinishedEvent.bind(this)),this.analytics.on(et,this.onTickEvent.bind(this))}var e=t.prototype;return e.onTrackFinishedEvent=function(t){var e=At(t);void 0!==e&&(e.shouldLoop||(this.eventMap[t.currentTrackId]={}))},e.onTickEvent=function(t){var e=At(t);if(void 0!==e&&e.durationMs){var i=this.eventMap[e.id];void 0===i&&(i={},this.eventMap[e.id]=i),this.checkAllTentpoles(e,i,t)}},e.checkAllTentpoles=function(t,e,i){if(i.isPlaying){var n=t.durationMs,a=t.currentTimeMs,r=this.playbackLatencyListener.getLatencyData()||{},o={latency_millis:r.latency,cache_info:{notCached:{}}};this.emitOnce(z,e,i,r,o),t.isLive||this.checkProgressTentpoles(n,a,e,i)}},e.checkProgressTentpoles=function(t,e,i,n){var a=this;Ce.forEach((function(r){var o=r.progress*t;e>=o-1e3&&e<=o+1e3&&a.emitOnce(r.event,i,n)}))},e.emitOnce=function(t,e,i,n,a){e[t]||(this.analytics.emit(t,i,n,a),e[t]=!0)},t}(),Ve=[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100],Ne=function(){function t(t){this.analytics=t,this.sessionDataStore={},this.analytics.on(et,this.onTickEvent.bind(this)),this.analytics.on(P,this.onFullscreenEvent.bind(this)),this.analytics.on(Z,this.onShrinkEvent.bind(this)),this.analytics.on(it,this.onTrackFinishedEvent.bind(this)),this.analytics.on(m,this.onTrackInterrupt.bind(this)),this.analytics.on(tt,this.onTrackInterrupt.bind(this))}var e=t.prototype;return e.onTickEvent=function(t){var e=At(t);if(void 0!==e){var i=this.getOrCreateNewSessionDataForTrack(e,t);t.isSeeking?i.currentTimeMs=e.currentTimeMs:this.updateViewData(e,i,t)}},e.onFullscreenEvent=function(t){var e=At(t);void 0!==e&&(this.getOrCreateNewSessionDataForTrack(e,t).isFullscreenMode=!0)},e.onShrinkEvent=function(t){var e=At(t);void 0!==e&&(this.getOrCreateNewSessionDataForTrack(e,t).isFullscreenMode=!1)},e.onTrackFinishedEvent=function(t){var e=At(t);if(void 0!==e){var i=this.sessionDataStore[e.id];if(void 0!==i)if(e.shouldLoop)i.currentTimeMs=0;else{if(i.timeWatchedMs>0){var n=this.constructVideoSessionDetails(i,e);this.emitVideoSessionEvent(t,n)}this.sessionDataStore[e.id]=void 0}}},e.onTrackInterrupt=function(t){var e=At(t);if(void 0!==e){var i=this.sessionDataStore[e.id];if(void 0!==i){if(i.timeWatchedMs>0){var n=this.constructVideoSessionDetails(i,e);this.emitVideoSessionEvent(t,n)}this.sessionDataStore[e.id]=void 0}}},e.getOrCreateNewSessionDataForTrack=function(t,e){var i=this.sessionDataStore[t.id];return void 0===i&&(i={sizesInfoAtTheStart:e.sizesInfo,currentTimeMs:t.currentTimeMs,isFullscreenMode:!1,timeWatchedMs:0,timeWatchedFullscreenMs:0,timeWatchedWithAudioMs:0,timeWatchedFullscreenWithAudioMs:0,watchedMsByInViewPct:this.generateNewAggregateHistogram(),watchedWithAudioMsByInViewPct:this.generateNewAggregateHistogram(),watchedMsByViewportPct:this.generateNewAggregateHistogram(),maxContinuousWatchedMsByInViewPct:this.generateNewMaxContinuousHistogram(),maxContinuousWatchedWithAudioMsByInViewPct:this.generateNewMaxContinuousHistogram()},this.sessionDataStore[t.id]=i),i},e.generateNewAggregateHistogram=function(){for(var t,e={},i=v(Ve);!(t=i()).done;){e[t.value]=0}return e},e.generateNewMaxContinuousHistogram=function(){for(var t,e={},i=v(Ve);!(t=i()).done;){e[t.value]={current:0,max:0}}return e},e.resetContinuousViewDataForHistogram=function(t){for(var e,i=v(Ve);!(e=i()).done;){var n=e.value;this.resetContinuousViewDataForBucket(t[n])}},e.resetContinuousViewDataForBucket=function(t){t.max=Math.max(t.current,t.max),t.current=0},e.updateViewData=function(t,e,i){var n=t.currentTimeMs-e.currentTimeMs,a=e.isFullscreenMode?1:i.percentVisible,r=e.isFullscreenMode?1:i.percentOfViewportOccupied;e.currentTimeMs=t.currentTimeMs,n<0||(e.timeWatchedMs+=n,this.updateAggregateHistogram(e.watchedMsByInViewPct,a,n),this.updateAggregateHistogram(e.watchedMsByViewportPct,r,n),this.updateMaxContinuousHistogram(e.maxContinuousWatchedMsByInViewPct,a,n),i.isMuted?this.resetContinuousViewDataForHistogram(e.maxContinuousWatchedWithAudioMsByInViewPct):(e.timeWatchedWithAudioMs+=n,this.updateAggregateHistogram(e.watchedWithAudioMsByInViewPct,a,n),this.updateMaxContinuousHistogram(e.maxContinuousWatchedWithAudioMsByInViewPct,a,n)),e.isFullscreenMode&&(e.timeWatchedFullscreenMs+=n,i.isMuted||(e.timeWatchedFullscreenWithAudioMs+=n)))},e.updateAggregateHistogram=function(t,e,i){if(0!==e)for(var n,a=100*e,r=v(Ve);!(n=r()).done;){var o=n.value;a>=o&&(t[o]+=i)}},e.updateMaxContinuousHistogram=function(t,e,i){if(0!==e)for(var n,a=100*e,r=v(Ve);!(n=r()).done;){var o=n.value;a>=o?t[o].current+=i:t[o].current>0&&this.resetContinuousViewDataForBucket(t[o])}else this.resetContinuousViewDataForHistogram(t)},e.constructVideoSessionDetails=function(t,e){return{video_details:{is_preroll_video:e.displayType===ct,video_length:Math.round(e.durationMs),time_watched:Math.round(t.timeWatchedMs),time_watched_fullscreen:Math.round(t.timeWatchedFullscreenMs),time_watched_with_audio:Math.round(t.timeWatchedWithAudioMs),time_watched_fullscreen_with_audio:Math.round(t.timeWatchedFullscreenWithAudioMs),time_watched_100_with_audio:Math.round(t.watchedWithAudioMsByInViewPct[100]),video_type:_t[e.contentType],watched_ms_by_in_view_pct:this.constructAggregateHistogramPayload(t.watchedMsByInViewPct),watched_with_audio_ms_by_in_view_pct:this.constructAggregateHistogramPayload(t.watchedWithAudioMsByInViewPct),watched_ms_by_viewport_pct:this.constructAggregateHistogramPayload(t.watchedMsByViewportPct),max_continuous_watched_ms_by_in_view_pct:this.constructMaxContinuousHistogramPayload(t.maxContinuousWatchedMsByInViewPct),max_continuous_watched_with_audio_ms_by_in_view_pct:this.constructMaxContinuousHistogramPayload(t.maxContinuousWatchedWithAudioMsByInViewPct),sizes_info_at_the_start:{viewport_size:t.sizesInfoAtTheStart.viewportSize,ad_size:t.sizesInfoAtTheStart.mediaSize}}}},e.constructAggregateHistogramPayload=function(t){for(var e,i={},n=v(Ve);!(e=n()).done;){var a=e.value;i[a]=Math.round(t[a])}return{histogram:i}},e.constructMaxContinuousHistogramPayload=function(t){for(var e,i={},n=v(Ve);!(e=n()).done;){var a=e.value,r=t[a];i[a]=Math.round(Math.max(r.current,r.max))}return{histogram:i}},e.emitVideoSessionEvent=function(t,e){this.analytics.emit(at,t,e)},t}(),Oe=[ot,B,st,x,w,V,N,rt,F,D],xe=[x,V,N,rt],Fe=function(){function t(t,e){this.analytics=t,this.context=e,this.eventMap={},this.analytics.on(et,this.onTickEvent.bind(this)),this.analytics.on(it,this.onTrackFinishedEvent.bind(this)),this.analytics.on(W,this.onPauseEvent.bind(this)),this.analytics.on(K,this.onPlaybackComplete.bind(this))}var e=t.prototype;return e.onTrackFinishedEvent=function(t){var e=At(t);if(void 0!==e){var i=this.eventMap[e.id];void 0!==i&&(e.shouldLoop?i.timePlayedToMs=0:this.eventMap[e.id]=void 0)}},e.onPlaybackComplete=function(t){var e=At(t);if(void 0!==e){var i=this.eventMap[e.id];void 0!==i&&this.context&&this.context.enableShortFormCompleteLogging&&this.emitOnce(D,i,t)}},e.onPauseEvent=function(t){this.resetContinuousViewEventTimingData(t)},e.onTickEvent=function(t){var e=At(t);if(void 0!==e){var i=this.eventMap[e.id];if(void 0===i){i={timePlayedToMs:e.currentTimeMs};for(var n,a=v(Oe);!(n=a()).done;){i[n.value]={timePlayedMs:0,visibilityWeightedTimePlayedMs:0,fired:!1}}this.eventMap[e.id]=i}t.isSeeking?(i.timePlayedToMs=e.currentTimeMs,this.resetContinuousViewEventTimingData(t)):(this.updateTimingData(e,i,t),this.checkViewEvents(e,i,t)),this.checkPlayFromTap(i,t)}},e.updateTimingData=function(t,e,i){var n=t.currentTimeMs-e.timePlayedToMs;e.timePlayedToMs=t.currentTimeMs;var a=i.percentVisible;a>=1&&(e[st].timePlayedMs+=n),a>=1?e[x].timePlayedMs+=n:e[x].timePlayedMs=0,a>=.5&&Vt(i)?e[V].timePlayedMs+=n:e[V].timePlayedMs=0,a>=.5?e[N].timePlayedMs+=n:e[N].timePlayedMs=0,a>=1&&!i.isMuted&&(e[w].timePlayedMs+=n),a>=.5?e[rt].timePlayedMs+=n:e[rt].timePlayedMs=0,e[F].timePlayedMs+=n,a>=.5&&(e[F].visibilityWeightedTimePlayedMs+=a*n),e[D].timePlayedMs+=n},e.resetContinuousViewEventTimingData=function(t){var e=this.eventMap[t.currentTrackId];if(void 0!==e)for(var i,n=v(xe);!(i=n()).done;){e[i.value].timePlayedMs=0}},e.checkViewEvents=function(t,e,i){var n;e[st].timePlayedMs>=(!(n=t).isLive&&n.durationMs>0&&!n.shouldLoop?Math.min(n.durationMs-500,Zt):Zt)&&(this.emitOnce(st,e,i),this.emitOnce(ot,e,i)),e[x].timePlayedMs>=1e3&&this.emitOnce(x,e,i),e[w].timePlayedMs>=function(t){return!t.isLive&&t.durationMs>0?.5*t.durationMs:Number.MAX_SAFE_INTEGER}(t)&&this.emitOnce(w,e,i),e[V].timePlayedMs>=2e3&&this.emitOnce(V,e,i),e[N].timePlayedMs>=2e3&&this.emitOnce(N,e,i),e[rt].timePlayedMs>=function(t){return!t.isLive&&t.durationMs>0?Math.min(.95*t.durationMs,1e4):1e4}(t)&&this.emitOnce(rt,e,i);var a=e[F];a.timePlayedMs>=function(t){return!t.isLive&&t.durationMs>0?Math.min(.95*t.durationMs,6e3):6e3}(t)&&a.visibilityWeightedTimePlayedMs>=function(t){return!t.isLive&&t.durationMs>0?Math.min(.5*t.durationMs,3e3):3e3}(t)&&this.emitOnce(F,e,i),this.context&&this.context.enableShortFormCompleteLogging&&e[D].timePlayedMs>=15e3&&this.emitOnce(D,e,i)},e.checkPlayFromTap=function(t,e){e.isPlaying&&!e.isPreview&&(this.emitOnce(B,t,e),this.emitOnce(ot,t,e))},e.emitOnce=function(t,e,i){e[t].fired||(this.analytics.emit(t,i),e[t].fired=!0)},t}(),De=function(t){function e(e,i,n,a){var r;(r=t.call(this)||this).scribeListener=new we(c()(r),e,a),r.promotedLogListener=new oe(c()(r),i),r.tentpoleListener=new Le(c()(r)),r.viewListener=new Fe(c()(r),a),r.playbackLapseListener=new ie(c()(r)),r.errorListener=new Wt(c()(r)),r.beaconListener=new xt(c()(r)),r.rewindListener=new se(c()(r)),r.heartbeatListener=new Ht(c()(r)),r.loopListener=new Kt(c()(r)),r.intendToPlayListener=new Gt(c()(r)),r.videoSessionListener=new Ne(c()(r)),r.ctaImpressionListener=new Dt(c()(r)),r.captionsListener=new Ft(c()(r));var o=new Qt(n,a),s=new $t(o);return r.lifecycleListener=new ee(c()(r),s),r}l()(e,t);var i=e.prototype;return i.onTickEvent=function(t){this.emit(et,t)},i.onReplay=function(t){var e=At(t);void 0!==e&&(e.shouldLoop||this.emit(q,t))},i.onTrackFinished=function(t){this.emit(it,t)},i.onIntendToPlay=function(t){this.emit(A,t)},i.onPlay=function(t){this.emit(R,t)},i.onPause=function(t){this.emit(W,t)},i.onMute=function(t){this.emit(O,t)},i.onUnmute=function(t){this.emit(nt,t)},i.onFullScreen=function(t){this.emit(P,t)},i.onShrink=function(t){this.emit(Z,t)},i.onAdSkip=function(t){this.emit(m,t)},i.onCtaImpression=function(t){this.emit(T,t)},i.onCtaClick=function(t){this.emit(b,t)},i.onConfigLoaded=function(t){this.emit(g,t)},i.onError=function(t,e){this.emit(E,t,e)},i.onTeardown=function(t){this.emit(tt,t)},i.onManualQualityLevelChange=function(t,e){this.emit(L,t,e)},i.onPlaybackSpeedChange=function(t,e){this.emit(X,t,e)},e}(f.a);e.a=De},hBpG:function(t,e,i){"use strict";var n=i("ax0f"),a=i("0FSu").find,r=i("7St7"),o="find",s=!0;o in[]&&Array(1).find((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r(o)},hXPa:function(t,e,i){var n,a,r,o,s,c,u,l,d=i("9JhN"),h=i("IRf+"),p=i("GFpt").f,f=i("JDXi").set,v=i("4D4F"),y=i("VjfS"),m=i("HS6i"),_=i("8Rd0"),g=d.MutationObserver||d.WebKitMutationObserver,b=d.document,T=d.process,E=d.Promise,P=p(d,"queueMicrotask"),w=P&&P.value;w||(n=function(){var t,e;for(_&&(t=T.domain)&&t.exit();a;){e=a.fn,a=a.next;try{e()}catch(t){throw a?o():r=void 0,t}}r=void 0,t&&t.enter()},v||_||m||!g||!b?!y&&E&&E.resolve?((u=E.resolve(void 0)).constructor=E,l=h(u.then,u),o=function(){l(n)}):_?o=function(){T.nextTick(n)}:(f=h(f,d),o=function(){f(n)}):(s=!0,c=b.createTextNode(""),new g(n).observe(c,{characterData:!0}),o=function(){c.data=s=!s})),t.exports=w||function(t){var e={fn:t,next:void 0};r&&(r.next=e),a||(a=e,o()),r=e}},ho0z:function(t,e,i){var n=i("1Mu/"),a=i("0zFS").EXISTS,r=i("cLeC"),o=i("q9+l").f,s=Function.prototype,c=r(s.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=r(u.exec);n&&!a&&o(s,"name",{configurable:!0,get:function(){try{return l(u,c(this))[1]}catch(t){return""}}})},jHwr:function(t,e,i){"use strict";e.a=(t,e)=>{let i=null;const n=()=>{i=null,t()};return()=>(i||(i=e(n)),i)}},"jQ/y":function(t,e,i){"use strict";var n=i("ax0f"),a=i("1Mu/"),r=i("9JhN"),o=i("cLeC"),s=i("eiXn"),c=i("POgt"),u=i("+5th"),l=i("Kj6D"),d=i("q9+l").f,h=i("tjTa"),p=r.Symbol,f=p&&p.prototype;if(a&&c(p)&&(!("description"in f)||void 0!==p().description)){var v={},y=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=u(f,this)?new p(t):void 0===t?p():p(t);return""===t&&(v[e]=!0),e};h(y,p),y.prototype=f,f.constructor=y;var m="Symbol(test)"==String(p("test")),_=o(f.toString),g=o(f.valueOf),b=/^Symbol\((.*)\)[^)]+$/,T=o("".replace),E=o("".slice);d(f,"description",{configurable:!0,get:function(){var t=g(this),e=_(t);if(s(v,t))return"";var i=m?E(e,7,-1):T(e,b,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:y})}},jwue:function(t,e,i){"use strict";var n=i("ax0f"),a=i("6OVi");n({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},kH1Z:function(t,e,i){i("ax0f")({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},mf9H:function(t,e,i){"use strict";i.d(e,"a",(function(){return u})),i.d(e,"b",(function(){return l}));i("kYxP");var n=i("6/RC"),a=i("HT/6"),r=i("jHwr"),o=i("+d3d"),s=i("fs1G");const c={autoplayPrioritizationPolicy:i("XmKV").a,minimumVisibilityForAutoplay:.25};class u{constructor(t=c){this._players=[],this._setPlayerState=(t,e)=>{t.previousPlaybackState=t.playbackState,t.playbackState=e},this._updatePlaybackStates=()=>{const t=this._players.find((t=>t.playbackState===a.b.USER_PLAYING&&t.playbackPriority!==a.a.SPACE));t&&!this._canPlay(t)?(this._pausePlayer(t),this._triggerAutoplay()):t?this._stopAllExcept(t):this._triggerAutoplay()},this._scheduleUpdate=n.canUseDOM?Object(o.a)(Object(r.a)(this._updatePlaybackStates,window.requestIdleCallback?t=>window.requestIdleCallback(t,{timeout:200}):window.requestAnimationFrame),300,{leading:!1,trailing:!0}):s.a;const{autoplayPrioritizationPolicy:e,minimumVisibilityForAutoplay:i}=t;this._autoplayPrioritizationPolicy=e,this._minimumVisibilityForAutoplay=i}register({autoplayGroupOptions:t,canAutoplay:e,onAutoPlayRequest:i,onFullscreenEntered:n,onFullscreenExited:r,onPauseRequest:o,isLooping:s,playbackPriority:c=a.a.NORMAL}){const u={autoplayGroupEmitter:null==t?void 0:t.autoplayGroupEmitter,placement:void 0,playbackPriority:c,playbackState:a.b.INITIAL,previousPlaybackState:a.b.INITIAL,commandHandlers:{onAutoPlayRequest:i,onFullscreenEntered:n,onFullscreenExited:r,onPauseRequest:o},canAutoplay:e&&c!==a.a.INELIGIBLE,isLooping:s};return t&&t.autoplayGroupEmitter.registerAutoplayGroupPlayer(u,t.mediaIndex),this._players.push(u),{reset:()=>this._handleReset(u),signalFullscreenChange:t=>this._handleFullscreenChanged(t),signalPlacementChange:t=>this._handlePlacementChange(u,t),signalPlay:()=>this._handlePlay(u),signalPause:()=>this._handlePause(u),signalPlaybackFinish:t=>this._handlePlaybackFinished(u,t),signalPlaybackPriorityChange:(t,e)=>this._handlePlaybackPriorityChange(u,t,e),unregister:()=>this._handleUnregister(u)}}_handleFullscreenChanged(t){this._players.forEach((e=>{const{onFullscreenEntered:i,onFullscreenExited:n}=e.commandHandlers;t&&i?i():!t&&n&&n()}))}_handlePlacementChange(t,e){const i=e.scrollY();t.placement=e,this._scrollY!==i&&(this._scrollY=i),t.playbackState===a.b.FINISHED&&0===e.visibleFraction()&&this._setPlayerState(t,a.b.INITIAL),this._scheduleUpdate()}_handlePlay(t){t.playbackState!==a.b.AUTO_PLAYING&&(t.previousPlaybackState===a.b.AUTO_PLAYING&&t.isLooping?this._setPlayerState(t,a.b.AUTO_PLAYING):this._setPlayerState(t,a.b.USER_PLAYING)),this._stopAllExcept(t)}_handlePause(t){t.playbackState!==a.b.AUTO_PAUSED&&this._setPlayerState(t,a.b.USER_PAUSED)}_handlePlaybackFinished(t,e=!1){this._setPlayerState(t,a.b.FINISHED),t.autoplayGroupEmitter&&t.autoplayGroupEmitter.signalPlaybackComplete(e)}_handlePlaybackPriorityChange(t,e,i){t.playbackPriority=e,t.canAutoplay=i&&e!==a.a.INELIGIBLE,this._scheduleUpdate()}_handleReset(t){this._setPlayerState(t,a.b.INITIAL),this._scheduleUpdate()}_handleUnregister(t){const e=this._players.indexOf(t);e>=0&&this._players.splice(e,1),this._scheduleUpdate()}_triggerAutoplay(){const t=new WeakMap,e=this._players.filter((e=>{const i=this._canAutoPlay(e);return e.autoplayGroupEmitter?i&&this._canGroupAutoplay(e.autoplayGroupEmitter,t):i})),i=this._findBestAutoplayFit(e);if(i){const{autoplayGroupEmitter:t}=i;if(t){const e=t.signalGroupAutoplayRequest();e&&(this._stopAllExcept(e),this._autoPlayVideo(e))}else this._stopAllExcept(i),this._autoPlayVideo(i)}else this._players.forEach((t=>{t.playbackState===a.b.AUTO_PLAYING&&this._pausePlayer(t)}))}_canGroupAutoplay(t,e){if(e.has(t))return e.get(t);const i=t.isAutoplayGroupEligibleForAutoplay();return e.set(t,i),i}_canAutoPlay(t){const e=!!t.placement&&t.placement.visibleFraction()>=this._minimumVisibilityForAutoplay,i=t.playbackState===a.b.USER_PAUSED,n=t.playbackState===a.b.FINISHED;return t.canAutoplay&&e&&!i&&!n}_canPlay(t){const e=!!t.placement&&t.placement.visibleFraction()>=this._minimumVisibilityForAutoplay,i=!!t.placement&&t.placement.visibleFraction()>0;return t.playbackPriority!==a.a.INELIGIBLE&&(!t.placement||i||e)}_stopAllExcept(t){this._players.forEach((e=>{const i=e.playbackPriority!==a.a.SPACE;e===t||!i||e.playbackState!==a.b.USER_PLAYING&&e.playbackState!==a.b.AUTO_PLAYING||this._pausePlayer(e)}))}_pausePlayer(t){const{onPauseRequest:e}=t.commandHandlers;this._setPlayerState(t,a.b.AUTO_PAUSED),e()}_autoPlayVideo(t){const{onAutoPlayRequest:e}=t.commandHandlers;this._setPlayerState(t,a.b.AUTO_PLAYING),e()}_findBestAutoplayFit(t){return this._autoplayPrioritizationPolicy(t)}_getDistanceToCenter(t){return t.placement?t.placement.distanceToCenter():Number.MAX_VALUE}_getDistanceToTop(t){return t.placement?t.placement.distanceToTop():Number.MAX_VALUE}}const l=new u},sVFb:function(t,e,i){var n=i("ax0f"),a=i("9JhN"),r=i("1U8s"),o=i("POgt"),s=i("ZORK"),c=i("3gKR"),u=i("rl0V"),l=/MSIE .\./.test(s),d=a.Function,h=function(t){return function(e,i){var n=u(arguments.length,1)>2,a=o(e)?e:d(e),s=n?c(arguments,2):void 0;return t(n?function(){r(a,this,s)}:a,i)}};n({global:!0,bind:!0,forced:l},{setTimeout:h(a.setTimeout),setInterval:h(a.setInterval)})},ssvU:function(t,e,i){i("ax0f")({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},tXjT:function(t,e,i){var n=i("9JhN"),a=i("IRf+"),r=i("tUYG"),o=i("FXyv"),s=i("SRL+"),c=i("yWXl"),u=i("BIH/"),l=i("+5th"),d=i("P1pQ"),h=i("BEbc"),p=i("qrpn"),f=n.TypeError,v=function(t,e){this.stopped=t,this.result=e},y=v.prototype;t.exports=function(t,e,i){var n,m,_,g,b,T,E,P=i&&i.that,w=!(!i||!i.AS_ENTRIES),M=!(!i||!i.IS_ITERATOR),S=!(!i||!i.INTERRUPTED),k=a(e,P),I=function(t){return n&&p(n,"normal",t),new v(!0,t)},A=function(t){return w?(o(t),S?k(t[0],t[1],I):k(t[0],t[1])):S?k(t,I):k(t)};if(M)n=t;else{if(!(m=h(t)))throw f(s(t)+" is not iterable");if(c(m)){for(_=0,g=u(t);g>_;_++)if((b=A(t[_]))&&l(y,b))return b;return new v(!1)}n=d(t,m)}for(T=n.next;!(E=r(T,n)).done;){try{b=A(E.value)}catch(t){p(n,"throw",t)}if("object"==typeof b&&b&&l(y,b))return b}return new v(!1)}},zh11:function(t,e,i){"use strict";var n=i("9JhN"),a=i("cLeC"),r=i("Y9MM"),o=i("dSaG"),s=i("eiXn"),c=i("3gKR"),u=i("Q/gL"),l=n.Function,d=a([].concat),h=a([].join),p={},f=function(t,e,i){if(!s(p,e)){for(var n=[],a=0;a<e;a++)n[a]="a["+a+"]";p[e]=l("C,a","return new C("+h(n,",")+")")}return p[e](t,i)};t.exports=u?l.bind:function(t){var e=r(this),i=e.prototype,n=c(arguments,1),a=function(){var i=d(n,c(arguments));return this instanceof a?f(e,i.length,i):e.apply(t,i)};return o(i)&&(a.prototype=i),a}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~ondemand.InlinePlayer~loader.AudioOnlyVideoPlayer.550e4918.js.map